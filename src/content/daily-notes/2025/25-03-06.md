---
title: 25 03 06
date: '2025-12-27'
category: Daily Notes
tags: []
excerpt: "SPoF service map 검토\n- check permission에 timestamp 들어가는 것 확인했음\n- offchain db api\n\t- grpc handler에서 permission check 되고 있는 것 확인\n\t- permission check를 구분..."
---

SPoF service map 검토
- check permission에 timestamp 들어가는 것 확인했음
- offchain db api
	- grpc handler에서 permission check 되고 있는 것 확인
	- permission check를 구분하는 internal flag 부여 방식을 개선할 여지가 있지만 궁극적으로 permission check contract를 없애는 방향을 지향함
	- WriteDocument grpc handler
	- Data가 MPT에 들어갈 때 데이터 원본에 대한 payload를 조회해와서 hash를 계산하는 로직을 전체 URI 목록에 다 수행하면 너무 부하가 심해서 어려움
	- ID + Hash로 MPT를 구성하는 방식으로 진행하고, 조회 시 검증은 가능하도록 개선
	- Schema contract를 fade-out하고 DB로 관리해도 될 것 같음
	- 
