[
  {
    "id": "asyncio-concurrency-guide",
    "slug": "asyncio-concurrency-guide",
    "path": "languages/python",
    "fullPath": "languages/python/asyncio-concurrency-guide",
    "title": "Python asyncio ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ì™„ë²½ ê°€ì´ë“œ",
    "excerpt": "Python asyncioë¥¼ í™œìš©í•œ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì˜ í•µì‹¬ ê°œë…ê³¼ ì‹¤ì „ ë™ì‹œì„± íŒ¨í„´ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Python asyncio ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ì™„ë²½ ê°€ì´ë“œ\n\n## ê°œìš”\n\n**asyncio**ëŠ” Pythonì˜ ë¹„ë™ê¸° I/O í”„ë ˆì„ì›Œí¬ë¡œ, ì½”ë£¨í‹´(coroutine)ì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì‹œì„±ì„ êµ¬í˜„í•©ë‹ˆë‹¤. I/O ë°”ìš´ë“œ ì‘ì—…(ë„¤íŠ¸ì›Œí¬, íŒŒì¼)ì—ì„œ ìŠ¤ë ˆë“œë³´ë‹¤ íš¨ìœ¨ì ì¸ ë™ì‹œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n## í•µì‹¬ ê°œë…\n\n### ì½”ë£¨í‹´ (Coroutine)\n\n```python\nimport asyncio\n\n# async defë¡œ ì •ì˜ëœ í•¨ìˆ˜ = ì½”ë£¨í‹´ í•¨ìˆ˜\nasync def fetch_data(url: str) -> dict:\n    print(f\"Fetching {url}\")\n    await asyncio.sleep(1)  # ë¹„ë™ê¸° ëŒ€ê¸°\n    return {\"url\": url, \"data\": \"...\"}\n\n# ì½”ë£¨í‹´ ì‹¤í–‰\nasync def main():\n    result = await fetch_data(\"https://api.example.com\")\n    print(result)\n\nasyncio.run(main())  # ì§„ì…ì \n```\n\n### ì´ë²¤íŠ¸ ë£¨í”„ (Event Loop)\n\n```python\n# asyncio.run()ì´ ë‚´ë¶€ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…\nloop = asyncio.new_event_loop()\nasyncio.set_event_loop(loop)\ntry:\n    loop.run_until_complete(main())\nfinally:\n    loop.close()\n```\n\n> [!NOTE]\n> Python 3.10+ì—ì„œëŠ” `asyncio.run()`ë§Œ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. ì§ì ‘ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ê´€ë¦¬í•  í•„ìš”ê°€ ê±°ì˜ ì—†ìŠµë‹ˆë‹¤.\n\n## ë™ì‹œ ì‹¤í–‰ íŒ¨í„´\n\n### asyncio.gather - ë³‘ë ¬ ì‹¤í–‰\n\n```python\nasync def main():\n    # ë™ì‹œì— 3ê°œ ìš”ì²­ ì‹¤í–‰\n    results = await asyncio.gather(\n        fetch_data(\"https://api1.example.com\"),\n        fetch_data(\"https://api2.example.com\"),\n        fetch_data(\"https://api3.example.com\"),\n    )\n    print(results)  # [result1, result2, result3]\n```\n\n**ì—ëŸ¬ ì²˜ë¦¬**:\n\n```python\nasync def main():\n    results = await asyncio.gather(\n        fetch_data(\"url1\"),\n        fetch_data(\"url2\"),\n        return_exceptions=True,  # ì˜ˆì™¸ë¥¼ ê²°ê³¼ë¡œ ë°˜í™˜\n    )\n    for result in results:\n        if isinstance(result, Exception):\n            print(f\"Error: {result}\")\n        else:\n            print(f\"Success: {result}\")\n```\n\n### asyncio.TaskGroup - êµ¬ì¡°ì  ë™ì‹œì„± (3.11+)\n\n```python\nasync def main():\n    async with asyncio.TaskGroup() as tg:\n        task1 = tg.create_task(fetch_data(\"url1\"))\n        task2 = tg.create_task(fetch_data(\"url2\"))\n        task3 = tg.create_task(fetch_data(\"url3\"))\n    \n    # ëª¨ë“  íƒœìŠ¤í¬ ì™„ë£Œ í›„ ê²°ê³¼ ì ‘ê·¼\n    print(task1.result(), task2.result(), task3.result())\n```\n\n> [!IMPORTANT]\n> `TaskGroup`ì€ í•˜ë‚˜ì˜ íƒœìŠ¤í¬ê°€ ì‹¤íŒ¨í•˜ë©´ ë‚˜ë¨¸ì§€ë¥¼ ìë™ ì·¨ì†Œí•©ë‹ˆë‹¤. ì—ëŸ¬ ì „íŒŒê°€ ëª…í™•í•©ë‹ˆë‹¤.\n\n### asyncio.create_task - ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰\n\n```python\nasync def background_job():\n    while True:\n        print(\"Background running...\")\n        await asyncio.sleep(5)\n\nasync def main():\n    # ë°±ê·¸ë¼ìš´ë“œ íƒœìŠ¤í¬ ì‹œì‘\n    task = asyncio.create_task(background_job())\n    \n    # ë©”ì¸ ë¡œì§ ì‹¤í–‰\n    await do_main_work()\n    \n    # íƒœìŠ¤í¬ ì·¨ì†Œ\n    task.cancel()\n    try:\n        await task\n    except asyncio.CancelledError:\n        print(\"Background job cancelled\")\n```\n\n### as_completed - ì™„ë£Œ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬\n\n```python\nasync def main():\n    tasks = [\n        asyncio.create_task(fetch_data(f\"url{i}\"))\n        for i in range(5)\n    ]\n    \n    # ì™„ë£Œë˜ëŠ” ìˆœì„œëŒ€ë¡œ ê²°ê³¼ ì²˜ë¦¬\n    for coro in asyncio.as_completed(tasks):\n        result = await coro\n        print(f\"Got: {result}\")\n```\n\n## ë™ê¸°í™” í”„ë¦¬ë¯¸í‹°ë¸Œ\n\n### Semaphore - ë™ì‹œ ì‹¤í–‰ ì œí•œ\n\n```python\nasync def fetch_with_limit(sem: asyncio.Semaphore, url: str):\n    async with sem:  # ì„¸ë§ˆí¬ì–´ íšë“\n        return await fetch_data(url)\n\nasync def main():\n    sem = asyncio.Semaphore(5)  # ìµœëŒ€ 5ê°œ ë™ì‹œ ì‹¤í–‰\n    urls = [f\"url{i}\" for i in range(100)]\n    \n    tasks = [fetch_with_limit(sem, url) for url in urls]\n    results = await asyncio.gather(*tasks)\n```\n\n### Lock - ìƒí˜¸ ë°°ì œ\n\n```python\nclass Counter:\n    def __init__(self):\n        self.value = 0\n        self._lock = asyncio.Lock()\n    \n    async def increment(self):\n        async with self._lock:\n            current = self.value\n            await asyncio.sleep(0.01)  # ì‹œë®¬ë ˆì´ì…˜\n            self.value = current + 1\n```\n\n### Event - ì´ë²¤íŠ¸ ì•Œë¦¼\n\n```python\nasync def waiter(event: asyncio.Event):\n    print(\"Waiting for event...\")\n    await event.wait()\n    print(\"Event received!\")\n\nasync def setter(event: asyncio.Event):\n    await asyncio.sleep(2)\n    event.set()\n    print(\"Event set!\")\n\nasync def main():\n    event = asyncio.Event()\n    await asyncio.gather(waiter(event), setter(event))\n```\n\n### Queue - ìƒì‚°ì-ì†Œë¹„ì íŒ¨í„´\n\n```python\nasync def producer(queue: asyncio.Queue):\n    for i in range(10):\n        await queue.put(f\"item-{i}\")\n        print(f\"Produced: item-{i}\")\n        await asyncio.sleep(0.1)\n\nasync def consumer(queue: asyncio.Queue, name: str):\n    while True:\n        item = await queue.get()\n        print(f\"{name} consumed: {item}\")\n        queue.task_done()\n\nasync def main():\n    queue = asyncio.Queue(maxsize=5)\n    \n    producers = [asyncio.create_task(producer(queue))]\n    consumers = [\n        asyncio.create_task(consumer(queue, f\"consumer-{i}\"))\n        for i in range(3)\n    ]\n    \n    await asyncio.gather(*producers)\n    await queue.join()  # ëª¨ë“  ì•„ì´í…œ ì²˜ë¦¬ ëŒ€ê¸°\n    \n    for c in consumers:\n        c.cancel()\n```\n\n## íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬\n\n### asyncio.timeout (3.11+)\n\n```python\nasync def main():\n    try:\n        async with asyncio.timeout(5.0):  # 5ì´ˆ ì œí•œ\n            await long_running_task()\n    except TimeoutError:\n        print(\"Task timed out!\")\n```\n\n### asyncio.wait_for (ë ˆê±°ì‹œ)\n\n```python\nasync def main():\n    try:\n        result = await asyncio.wait_for(\n            long_running_task(),\n            timeout=5.0\n        )\n    except asyncio.TimeoutError:\n        print(\"Task timed out!\")\n```\n\n## ë™ê¸° ì½”ë“œì™€ í†µí•©\n\n### run_in_executor - ë¸”ë¡œí‚¹ í•¨ìˆ˜ ì‹¤í–‰\n\n```python\nimport concurrent.futures\n\ndef blocking_io():\n    \"\"\"ë™ê¸° ë¸”ë¡œí‚¹ í•¨ìˆ˜\"\"\"\n    import time\n    time.sleep(2)\n    return \"IO completed\"\n\nasync def main():\n    loop = asyncio.get_event_loop()\n    \n    # ThreadPoolExecutor (I/O ë°”ìš´ë“œ)\n    with concurrent.futures.ThreadPoolExecutor() as pool:\n        result = await loop.run_in_executor(pool, blocking_io)\n        print(result)\n    \n    # ProcessPoolExecutor (CPU ë°”ìš´ë“œ)\n    with concurrent.futures.ProcessPoolExecutor() as pool:\n        result = await loop.run_in_executor(pool, cpu_intensive_task)\n```\n\n### asyncio.to_thread (3.9+)\n\n```python\nasync def main():\n    # ê°„í¸í•œ ë°©ë²•\n    result = await asyncio.to_thread(blocking_io)\n    print(result)\n```\n\n## ì‹¤ì „ íŒ¨í„´\n\n### Retry with Exponential Backoff\n\n```python\nasync def fetch_with_retry(\n    url: str,\n    max_retries: int = 3,\n    base_delay: float = 1.0\n) -> dict:\n    for attempt in range(max_retries):\n        try:\n            return await fetch_data(url)\n        except Exception as e:\n            if attempt == max_retries - 1:\n                raise\n            delay = base_delay * (2 ** attempt)\n            print(f\"Retry {attempt + 1} after {delay}s: {e}\")\n            await asyncio.sleep(delay)\n```\n\n### Rate Limiter\n\n```python\nclass RateLimiter:\n    def __init__(self, rate: int, per: float):\n        self.rate = rate\n        self.per = per\n        self.tokens = rate\n        self.updated_at = asyncio.get_event_loop().time()\n        self._lock = asyncio.Lock()\n    \n    async def acquire(self):\n        async with self._lock:\n            now = asyncio.get_event_loop().time()\n            elapsed = now - self.updated_at\n            self.tokens = min(self.rate, self.tokens + elapsed * (self.rate / self.per))\n            self.updated_at = now\n            \n            if self.tokens < 1:\n                wait_time = (1 - self.tokens) * (self.per / self.rate)\n                await asyncio.sleep(wait_time)\n                self.tokens = 0\n            else:\n                self.tokens -= 1\n```\n\n### Graceful Shutdown\n\n```python\nimport signal\n\nasync def shutdown(loop, signal=None):\n    if signal:\n        print(f\"Received signal {signal.name}\")\n    \n    tasks = [t for t in asyncio.all_tasks() if t is not asyncio.current_task()]\n    [task.cancel() for task in tasks]\n    \n    await asyncio.gather(*tasks, return_exceptions=True)\n    loop.stop()\n\ndef main():\n    loop = asyncio.new_event_loop()\n    \n    for sig in (signal.SIGTERM, signal.SIGINT):\n        loop.add_signal_handler(\n            sig,\n            lambda s=sig: asyncio.create_task(shutdown(loop, s))\n        )\n    \n    try:\n        loop.run_until_complete(run_server())\n    finally:\n        loop.close()\n```\n\n## ë””ë²„ê¹… íŒ\n\n### ë””ë²„ê·¸ ëª¨ë“œ í™œì„±í™”\n\n```python\n# í™˜ê²½ë³€ìˆ˜\n# PYTHONASYNCIODEBUG=1\n\n# ë˜ëŠ” ì½”ë“œì—ì„œ\nasyncio.run(main(), debug=True)\n```\n\n### ëŠë¦° ì½œë°± ê°ì§€\n\n```python\nloop = asyncio.get_event_loop()\nloop.slow_callback_duration = 0.1  # 100ms ì´ìƒ ê²½ê³ \n```\n\n## ì£¼ì˜ì‚¬í•­\n\n1. âš ï¸ **async í•¨ìˆ˜ ë‚´ì—ì„œ `time.sleep()` ê¸ˆì§€** - `await asyncio.sleep()` ì‚¬ìš©\n2. âš ï¸ **CPU ë°”ìš´ë“œ ì‘ì—…ì€ ProcessPoolExecutor** - ì´ë²¤íŠ¸ ë£¨í”„ ë¸”ë¡œí‚¹ ë°©ì§€\n3. âš ï¸ **ì½”ë£¨í‹´ í˜¸ì¶œ í›„ await í•„ìˆ˜** - `await` ì—†ì´ í˜¸ì¶œí•˜ë©´ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ\n4. âš ï¸ **íƒœìŠ¤í¬ ì·¨ì†Œ ì‹œ CancelledError ì²˜ë¦¬** - ë¦¬ì†ŒìŠ¤ ì •ë¦¬ í•„ìš”\n\n## ì°¸ê³  ìë£Œ\n\n- [asyncio ê³µì‹ ë¬¸ì„œ](https://docs.python.org/3/library/asyncio.html)\n- [Real Python: Async IO in Python](https://realpython.com/async-io-python/)\n- [PEP 492 â€“ Coroutines](https://peps.python.org/pep-0492/)",
    "docType": "original",
    "category": "Languages",
    "tags": [
      "Python",
      "asyncio",
      "Async",
      "Concurrency",
      "Coroutine"
    ],
    "readingTime": 5,
    "wordCount": 917,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-02"
  },
  {
    "id": "postgresql-query-tuning-guide",
    "slug": "postgresql-query-tuning-guide",
    "path": "database/postgresql",
    "fullPath": "database/postgresql/postgresql-query-tuning-guide",
    "title": "PostgreSQL ì¿¼ë¦¬ ì„±ëŠ¥ íŠœë‹ ì™„ë²½ ê°€ì´ë“œ",
    "excerpt": "EXPLAIN ANALYZEë¥¼ í™œìš©í•œ ì¿¼ë¦¬ ë¶„ì„ê³¼ ì¸ë±ìŠ¤ ì „ëµìœ¼ë¡œ PostgreSQL ì„±ëŠ¥ì„ ê·¹ëŒ€í™”í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# PostgreSQL ì¿¼ë¦¬ ì„±ëŠ¥ íŠœë‹ ì™„ë²½ ê°€ì´ë“œ\n\n## ê°œìš”\n\nPostgreSQLì˜ ì¿¼ë¦¬ ì„±ëŠ¥ íŠœë‹ì€ **EXPLAIN ANALYZEë¥¼ í†µí•œ ë¬¸ì œ ì§„ë‹¨**ê³¼ **ì ì ˆí•œ ì¸ë±ìŠ¤ ì„¤ê³„**ê°€ í•µì‹¬ì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œì—ì„œëŠ” ì‹¤ì „ì—ì„œ ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” íŠœë‹ ì „ëµì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n## EXPLAIN ANALYZE ê¸°ì´ˆ\n\n### ê¸°ë³¸ ì‚¬ìš©ë²•\n\n```sql\n-- ê¸°ë³¸ ì‹¤í–‰ ê³„íš\nEXPLAIN SELECT * FROM users WHERE email = 'test@example.com';\n\n-- ì‹¤ì œ ì‹¤í–‰ í†µê³„ í¬í•¨ (ê¶Œì¥)\nEXPLAIN ANALYZE SELECT * FROM users WHERE email = 'test@example.com';\n\n-- ìƒì„¸ ì •ë³´ í¬í•¨\nEXPLAIN (ANALYZE, BUFFERS, FORMAT TEXT)\nSELECT * FROM users WHERE email = 'test@example.com';\n```\n\n### ì¶œë ¥ í•´ì„\n\n```\nSeq Scan on users  (cost=0.00..1520.00 rows=1 width=256) (actual time=12.345..45.678 rows=1 loops=1)\n  Filter: (email = 'test@example.com'::text)\n  Rows Removed by Filter: 49999\n  Buffers: shared hit=520 read=200\nPlanning Time: 0.150 ms\nExecution Time: 45.720 ms\n```\n\n| í•­ëª© | ì„¤ëª… |\n|-----|------|\n| `cost` | ì˜ˆìƒ ë¹„ìš© (ì‹œì‘..ì´) |\n| `rows` | ì˜ˆìƒ ë°˜í™˜ í–‰ ìˆ˜ |\n| `actual time` | ì‹¤ì œ ì‹¤í–‰ ì‹œê°„ (ms) |\n| `Buffers` | ë²„í¼ ìºì‹œ hit/read í†µê³„ |\n| `Rows Removed by Filter` | í•„í„°ë§ìœ¼ë¡œ ì œê±°ëœ í–‰ ìˆ˜ âš ï¸ |\n\n> [!WARNING]\n> `Rows Removed by Filter`ê°€ í¬ë©´ ì¸ë±ìŠ¤ê°€ ì—†ê±°ë‚˜ ë¹„íš¨ìœ¨ì ì¸ ìƒíƒœì…ë‹ˆë‹¤.\n\n### ì£¼ìš” ìŠ¤ìº” íƒ€ì…\n\n| ìŠ¤ìº” íƒ€ì… | ì„¤ëª… | ì„±ëŠ¥ |\n|---------|------|-----|\n| `Seq Scan` | ì „ì²´ í…Œì´ë¸” ìŠ¤ìº” | ğŸ”´ ëŠë¦¼ |\n| `Index Scan` | ì¸ë±ìŠ¤ + í…Œì´ë¸” ì ‘ê·¼ | ğŸŸ¢ ë¹ ë¦„ |\n| `Index Only Scan` | ì¸ë±ìŠ¤ë§Œìœ¼ë¡œ í•´ê²° | ğŸŸ¢ğŸŸ¢ ê°€ì¥ ë¹ ë¦„ |\n| `Bitmap Index Scan` | ì—¬ëŸ¬ ì¡°ê±´ ë³‘í•© | ğŸŸ¡ ì¡°ê±´ë¶€ |\n\n## ì¸ë±ìŠ¤ ì „ëµ\n\n### B-Tree ì¸ë±ìŠ¤ (ê¸°ë³¸)\n\n```sql\n-- ë‹¨ì¼ ì»¬ëŸ¼ ì¸ë±ìŠ¤\nCREATE INDEX idx_users_email ON users(email);\n\n-- ë³µí•© ì¸ë±ìŠ¤ (ìˆœì„œ ì¤‘ìš”!)\nCREATE INDEX idx_orders_user_created ON orders(user_id, created_at DESC);\n```\n\n> [!IMPORTANT]\n> ë³µí•© ì¸ë±ìŠ¤ì˜ ì²« ë²ˆì§¸ ì»¬ëŸ¼ì´ WHERE ì¡°ê±´ì— ì—†ìœ¼ë©´ ì¸ë±ìŠ¤ë¥¼ íƒ€ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n### ë³µí•© ì¸ë±ìŠ¤ ì„¤ê³„ ì›ì¹™\n\n```sql\n-- âŒ ì˜ëª»ëœ ì˜ˆ: ë‘ ë²ˆì§¸ ì»¬ëŸ¼ë§Œ ì¡°íšŒ\nSELECT * FROM orders WHERE created_at > '2025-01-01';  -- idx_orders_user_created ì‚¬ìš© ë¶ˆê°€\n\n-- âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: ì²« ë²ˆì§¸ ì»¬ëŸ¼ í¬í•¨\nSELECT * FROM orders WHERE user_id = 123 AND created_at > '2025-01-01';\n```\n\n**ë³µí•© ì¸ë±ìŠ¤ ì»¬ëŸ¼ ìˆœì„œ ê°€ì´ë“œë¼ì¸**:\n\n1. **ë“±í˜¸(=) ì¡°ê±´** â†’ ì•ìª½\n2. **ë²”ìœ„(>, <, BETWEEN)** â†’ ë’¤ìª½\n3. **ë†’ì€ ì¹´ë””ë„ë¦¬í‹°** â†’ ì•ìª½\n\n### Covering Index (í¬í•¨ ì¸ë±ìŠ¤)\n\n```sql\n-- INCLUDEë¡œ ì¶”ê°€ ì»¬ëŸ¼ í¬í•¨ â†’ Index Only Scan ê°€ëŠ¥\nCREATE INDEX idx_users_email_include ON users(email) INCLUDE (name, created_at);\n\n-- ì¿¼ë¦¬\nSELECT email, name, created_at FROM users WHERE email = 'test@example.com';\n-- â†’ Index Only Scan ë°œìƒ!\n```\n\n### Partial Index (ë¶€ë¶„ ì¸ë±ìŠ¤)\n\n```sql\n-- íŠ¹ì • ì¡°ê±´ì˜ í–‰ë§Œ ì¸ë±ì‹±\nCREATE INDEX idx_orders_active ON orders(user_id)\nWHERE status = 'PENDING';\n\n-- í™œì„± ì£¼ë¬¸ë§Œ ìì£¼ ì¡°íšŒí•  ë•Œ íš¨ìœ¨ì \nSELECT * FROM orders WHERE user_id = 123 AND status = 'PENDING';\n```\n\n### Expression Index (í‘œí˜„ì‹ ì¸ë±ìŠ¤)\n\n```sql\n-- í•¨ìˆ˜ ê²°ê³¼ì— ì¸ë±ìŠ¤ ìƒì„±\nCREATE INDEX idx_users_lower_email ON users(LOWER(email));\n\n-- ì‚¬ìš©\nSELECT * FROM users WHERE LOWER(email) = 'test@example.com';\n```\n\n## ì¡°ì¸ ìµœì í™”\n\n### ì¡°ì¸ íƒ€ì… ì´í•´\n\n```\nEXPLAIN ANALYZE\nSELECT u.name, o.total FROM users u\nJOIN orders o ON u.id = o.user_id;\n```\n\n| ì¡°ì¸ íƒ€ì… | ì„¤ëª… | ìµœì  ìƒí™© |\n|---------|------|---------|\n| `Nested Loop` | ì¤‘ì²© ë°˜ë³µ | ì‘ì€ í…Œì´ë¸” ì¡°ì¸ |\n| `Hash Join` | í•´ì‹œ í…Œì´ë¸” ìƒì„± | í° í…Œì´ë¸” ë“±ê°€ ì¡°ì¸ |\n| `Merge Join` | ì •ë ¬ í›„ ë³‘í•© | ì •ë ¬ëœ ëŒ€ëŸ‰ ë°ì´í„° |\n\n### ì¡°ì¸ ìˆœì„œ íŒíŠ¸\n\n```sql\n-- ì¡°ì¸ ìˆœì„œ ê³ ì • (ë“œë¬¼ê²Œ ì‚¬ìš©)\nSET join_collapse_limit = 1;\n\n-- ë˜ëŠ” ì¿¼ë¦¬ì—ì„œ ìˆœì„œ ì§€ì •\nSELECT /*+ Leading(users orders) */ ...\n```\n\n## í†µê³„ ê´€ë¦¬\n\n### í†µê³„ ì—…ë°ì´íŠ¸\n\n```sql\n-- í…Œì´ë¸” í†µê³„ ê°±ì‹  (í•„ìˆ˜!)\nANALYZE users;\n\n-- ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤\nANALYZE;\n\n-- í†µê³„ ì •ë³´ í™•ì¸\nSELECT \n    tablename,\n    n_live_tup,\n    n_dead_tup,\n    last_analyze,\n    last_autoanalyze\nFROM pg_stat_user_tables;\n```\n\n### í†µê³„ ìƒ˜í”Œ í¬ê¸° ì¡°ì •\n\n```sql\n-- íŠ¹ì • ì»¬ëŸ¼ì˜ í†µê³„ ì •ë°€ë„ ì¦ê°€ (ê¸°ë³¸ê°’: 100)\nALTER TABLE users ALTER COLUMN email SET STATISTICS 1000;\nANALYZE users;\n```\n\n## ì‹¤ì „ ë¬¸ì œ ì§„ë‹¨\n\n### ëŠë¦° ì¿¼ë¦¬ ì°¾ê¸°\n\n```sql\n-- pg_stat_statements í™•ì¥ í™œì„±í™” í•„ìš”\nSELECT \n    query,\n    calls,\n    mean_exec_time,\n    total_exec_time,\n    rows\nFROM pg_stat_statements\nORDER BY mean_exec_time DESC\nLIMIT 10;\n```\n\n### ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì¸ë±ìŠ¤ íƒì§€\n\n```sql\nSELECT \n    schemaname,\n    tablename,\n    indexname,\n    idx_scan,\n    idx_tup_read\nFROM pg_stat_user_indexes\nWHERE idx_scan = 0\nAND indexname NOT LIKE 'pg_%';\n```\n\n### ëˆ„ë½ëœ ì¸ë±ìŠ¤ íŒíŠ¸\n\n```sql\n-- ìˆœì°¨ ìŠ¤ìº” ë¹„ìœ¨ì´ ë†’ì€ í…Œì´ë¸”\nSELECT \n    relname,\n    seq_scan,\n    idx_scan,\n    ROUND(100.0 * seq_scan / NULLIF(seq_scan + idx_scan, 0), 2) AS seq_scan_pct\nFROM pg_stat_user_tables\nWHERE seq_scan + idx_scan > 100\nORDER BY seq_scan_pct DESC;\n```\n\n## ì„±ëŠ¥ ì„¤ì • íŠœë‹\n\n### ë©”ëª¨ë¦¬ ê´€ë ¨\n\n```sql\n-- ì •ë ¬/í•´ì‹œ ì‘ì—…ì— ì‚¬ìš©í•  ë©”ëª¨ë¦¬ (ì„¸ì…˜ë³„)\nSET work_mem = '256MB';\n\n-- shared_buffers (postgresql.conf, RAMì˜ 25%)\nshared_buffers = '4GB'\n\n-- íš¨ê³¼ì ì¸ ìºì‹œ í¬ê¸° (ì¿¼ë¦¬ í”Œë˜ë„ˆ íŒíŠ¸)\neffective_cache_size = '12GB'\n```\n\n### í”Œë˜ë„ˆ ê´€ë ¨\n\n```sql\n-- ìˆœì°¨ ìŠ¤ìº” ë¹„ìš© ì¡°ì • (SSDëŠ” ë‚®ê²Œ)\nSET random_page_cost = 1.1;  -- ê¸°ë³¸ê°’ 4.0\n\n-- ë³‘ë ¬ ì¿¼ë¦¬ í™œì„±í™”\nSET max_parallel_workers_per_gather = 4;\n```\n\n## ëª¨ë²” ì‚¬ë¡€ ì²´í¬ë¦¬ìŠ¤íŠ¸\n\n1. âœ… **ì •ê¸°ì ìœ¼ë¡œ ANALYZE ì‹¤í–‰** - autovacuum ì„¤ì • í™•ì¸\n2. âœ… **ë³µí•© ì¸ë±ìŠ¤ ì»¬ëŸ¼ ìˆœì„œ** - ë“±í˜¸ ì¡°ê±´ â†’ ë²”ìœ„ ì¡°ê±´\n3. âœ… **Covering Index í™œìš©** - Index Only Scan ìœ ë„\n4. âœ… **Partial Index** - ìì£¼ ì¡°íšŒí•˜ëŠ” ì„œë¸Œì…‹ì— ì ìš©\n5. âœ… **pg_stat_statements í™œìš©** - ëŠë¦° ì¿¼ë¦¬ ëª¨ë‹ˆí„°ë§\n6. âœ… **ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¸ë±ìŠ¤ ì œê±°** - ì“°ê¸° ì„±ëŠ¥ ì €í•˜ ë°©ì§€\n\n## ì°¸ê³  ìë£Œ\n\n- [PostgreSQL EXPLAIN ê³µì‹ ë¬¸ì„œ](https://www.postgresql.org/docs/current/sql-explain.html)\n- [Using EXPLAIN](https://www.postgresql.org/docs/current/using-explain.html)\n- [Index Types](https://www.postgresql.org/docs/current/indexes-types.html)",
    "docType": "original",
    "category": "Database",
    "tags": [
      "PostgreSQL",
      "Performance",
      "EXPLAIN",
      "Index",
      "Query Optimization"
    ],
    "readingTime": 5,
    "wordCount": 856,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-02"
  },
  {
    "id": "interface-design-principles",
    "slug": "interface-design-principles",
    "path": "backend/go",
    "fullPath": "backend/go/interface-design-principles",
    "title": "Go ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„ ì›ì¹™ - Accept Interfaces, Return Structs",
    "excerpt": "'Accept interfaces, return structs' ì›ì¹™ê³¼ í¬ì¸í„° vs ê°’ ìˆ˜ì‹ ì ì„ íƒ ê¸°ì¤€ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Go ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„ ì›ì¹™\n\n## ê°œìš”\n\nGoì˜ **\"Accept interfaces, return structs\"** ì›ì¹™ì€ ìœ ì—°í•˜ê³  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” í•µì‹¬ ê°€ì´ë“œë¼ì¸ì…ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ì´ ì›ì¹™ì˜ ì² í•™ê³¼ ì‹¤ì „ ì ìš©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n## Accept Interfaces, Return Structs\n\n### ì›ì¹™ ì„¤ëª…\n\n```go\n// âœ… ì¢‹ì€ ì˜ˆ: ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°›ê³ , êµ¬ì²´ íƒ€ì…ì„ ë°˜í™˜\nfunc NewUserService(repo UserRepository) *UserService {\n    return &UserService{repo: repo}\n}\n\n// âŒ ë‚˜ìœ ì˜ˆ: êµ¬ì²´ íƒ€ì…ì„ ë°›ìŒ\nfunc NewUserService(repo *PostgresUserRepo) *UserService {\n    return &UserService{repo: repo}\n}\n```\n\n### ì™œ ì´ë ‡ê²Œ í•´ì•¼ í• ê¹Œ?\n\n| ê´€ì  | ì¸í„°í˜ì´ìŠ¤ ìˆ˜ìš© | êµ¬ì²´ íƒ€ì… ë°˜í™˜ |\n|-----|---------------|--------------|\n| **ìœ ì—°ì„±** | ì–´ë–¤ êµ¬í˜„ì²´ë“  ì£¼ì… ê°€ëŠ¥ | í˜¸ì¶œìê°€ êµ¬ì²´ ë©”ì„œë“œ ì ‘ê·¼ ê°€ëŠ¥ |\n| **í…ŒìŠ¤íŠ¸** | Mock ì‰½ê²Œ ì£¼ì… | íƒ€ì… ë‹¨ì–¸ ì—†ì´ ì‚¬ìš© |\n| **ê²°í•©ë„** | ë‚®ìŒ (êµ¬í˜„ì— ë…ë¦½ì ) | API ëª…í™•ì„± |\n\n### ì‹¤ì „ ì˜ˆì‹œ\n\n```go\n// ì¸í„°í˜ì´ìŠ¤ ì •ì˜ (ì†Œë¹„ì ì¸¡ì—ì„œ ì •ì˜)\ntype UserRepository interface {\n    FindByID(ctx context.Context, id string) (*User, error)\n    Save(ctx context.Context, user *User) error\n}\n\n// êµ¬ì²´ êµ¬í˜„\ntype PostgresUserRepo struct {\n    db *sql.DB\n}\n\nfunc NewPostgresUserRepo(db *sql.DB) *PostgresUserRepo {\n    return &PostgresUserRepo{db: db}\n}\n\nfunc (r *PostgresUserRepo) FindByID(ctx context.Context, id string) (*User, error) {\n    // êµ¬í˜„\n}\n\nfunc (r *PostgresUserRepo) Save(ctx context.Context, user *User) error {\n    // êµ¬í˜„\n}\n\n// ì¶”ê°€ ë©”ì„œë“œ (ì¸í„°í˜ì´ìŠ¤ì— ì—†ìŒ)\nfunc (r *PostgresUserRepo) BulkInsert(ctx context.Context, users []*User) error {\n    // PostgreSQL ì „ìš© ìµœì í™”\n}\n\n// ì„œë¹„ìŠ¤ - ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°›ìŒ\ntype UserService struct {\n    repo UserRepository\n}\n\nfunc NewUserService(repo UserRepository) *UserService {\n    return &UserService{repo: repo}\n}\n```\n\n## ì¸í„°í˜ì´ìŠ¤ ì •ì˜ ìœ„ì¹˜\n\n### ì†Œë¹„ì ì¸¡ì—ì„œ ì •ì˜ (ê¶Œì¥)\n\n```go\n// âŒ êµ¬í˜„ìê°€ ì¸í„°í˜ì´ìŠ¤ ì •ì˜ (Java ìŠ¤íƒ€ì¼)\n// repository/interfaces.go\ntype UserRepository interface { ... }\n\n// repository/postgres.go\ntype PostgresUserRepo struct { ... }\n\n// âœ… ì†Œë¹„ìê°€ ì¸í„°í˜ì´ìŠ¤ ì •ì˜ (Go ìŠ¤íƒ€ì¼)\n// service/user.go\ntype UserRepository interface {\n    FindByID(ctx context.Context, id string) (*User, error)\n}\n\ntype UserService struct {\n    repo UserRepository\n}\n```\n\n> [!IMPORTANT]\n> Goì˜ ì•”ë¬µì  ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ë•ë¶„ì—, ì†Œë¹„ìê°€ í•„ìš”í•œ ë©”ì„œë“œë§Œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ì‘ì€ ì¸í„°í˜ì´ìŠ¤ ì„ í˜¸\n\n```go\n// âŒ ë„ˆë¬´ í° ì¸í„°í˜ì´ìŠ¤\ntype UserRepository interface {\n    FindByID(id string) (*User, error)\n    FindByEmail(email string) (*User, error)\n    FindAll() ([]*User, error)\n    Save(user *User) error\n    Delete(id string) error\n    UpdateProfile(id string, profile *Profile) error\n    // ... 10ê°œ ë”\n}\n\n// âœ… ì‘ì€ ì¸í„°í˜ì´ìŠ¤ (ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™)\ntype UserFinder interface {\n    FindByID(id string) (*User, error)\n}\n\ntype UserSaver interface {\n    Save(user *User) error\n}\n\n// í•„ìš”í•˜ë©´ ì¡°í•©\ntype UserRepository interface {\n    UserFinder\n    UserSaver\n}\n```\n\n## í¬ì¸í„° vs ê°’ ìˆ˜ì‹ ì\n\n### ê¸°ë³¸ ê°€ì´ë“œë¼ì¸\n\n| ìƒí™© | ì„ íƒ | ì´ìœ  |\n|-----|-----|-----|\n| ìƒíƒœ ë³€ê²½ í•„ìš” | `*T` í¬ì¸í„° | ì›ë³¸ ìˆ˜ì • ê°€ëŠ¥ |\n| í° êµ¬ì¡°ì²´ | `*T` í¬ì¸í„° | ë³µì‚¬ ë¹„ìš© ì ˆê° |\n| ì‘ì€ ë¶ˆë³€ ê°’ | `T` ê°’ | ì•ˆì „í•˜ê³  ê°„ë‹¨ |\n| ì¼ê´€ì„± ìœ ì§€ | í•˜ë‚˜ë¡œ í†µì¼ | í˜¼ë€ ë°©ì§€ |\n\n### ì˜ˆì‹œ\n\n```go\n// ê°’ ìˆ˜ì‹ ì - ì‘ê³  ë¶ˆë³€\ntype Point struct {\n    X, Y int\n}\n\nfunc (p Point) Distance() float64 {\n    return math.Sqrt(float64(p.X*p.X + p.Y*p.Y))\n}\n\n// í¬ì¸í„° ìˆ˜ì‹ ì - ìƒíƒœ ë³€ê²½\ntype Counter struct {\n    value int\n}\n\nfunc (c *Counter) Increment() {\n    c.value++\n}\n\nfunc (c *Counter) Value() int {\n    return c.value\n}\n```\n\n### ì¸í„°í˜ì´ìŠ¤ì™€ í¬ì¸í„°/ê°’\n\n```go\ntype Stringer interface {\n    String() string\n}\n\ntype MyType struct {\n    Name string\n}\n\n// ê°’ ìˆ˜ì‹ ìë¡œ ì •ì˜\nfunc (m MyType) String() string {\n    return m.Name\n}\n\nvar s Stringer\n\ns = MyType{Name: \"hello\"}  // âœ… ê°’ í• ë‹¹ ê°€ëŠ¥\ns = &MyType{Name: \"world\"} // âœ… í¬ì¸í„°ë„ í• ë‹¹ ê°€ëŠ¥\n```\n\n```go\n// í¬ì¸í„° ìˆ˜ì‹ ìë¡œ ì •ì˜\nfunc (m *MyType) String() string {\n    return m.Name\n}\n\ns = MyType{Name: \"hello\"}  // âŒ ì»´íŒŒì¼ ì—ëŸ¬!\ns = &MyType{Name: \"world\"} // âœ… í¬ì¸í„°ë§Œ í• ë‹¹ ê°€ëŠ¥\n```\n\n> [!WARNING]\n> í¬ì¸í„° ìˆ˜ì‹ ìë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©´, ê°’ì€ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œì¡±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n### ì¼ê´€ì„± ê·œì¹™\n\n```go\n// âŒ í˜¼í•© ì‚¬ìš© - í˜¼ë€ìŠ¤ëŸ¬ì›€\nfunc (u User) Name() string { ... }\nfunc (u *User) SetName(name string) { ... }\nfunc (u User) Age() int { ... }\nfunc (u *User) SetAge(age int) { ... }\n\n// âœ… í†µì¼ - ëª…í™•í•¨\nfunc (u *User) Name() string { ... }\nfunc (u *User) SetName(name string) { ... }\nfunc (u *User) Age() int { ... }\nfunc (u *User) SetAge(age int) { ... }\n```\n\n## ì¸í„°í˜ì´ìŠ¤ ë°˜í™˜ì´ ì í•©í•œ ê²½ìš°\n\nì¼ë°˜ì ìœ¼ë¡œ êµ¬ì²´ íƒ€ì…ì„ ë°˜í™˜í•˜ì§€ë§Œ, ì˜ˆì™¸ ìƒí™©ë„ ìˆìŠµë‹ˆë‹¤.\n\n### 1. í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¸í„°í˜ì´ìŠ¤\n\n```go\n// io.Reader, io.Writer ë“± í‘œì¤€ ì¸í„°í˜ì´ìŠ¤\nfunc NewReader(data []byte) io.Reader {\n    return bytes.NewReader(data)\n}\n```\n\n### 2. íŒ©í† ë¦¬ íŒ¨í„´\n\n```go\ntype Database interface {\n    Query(query string) ([]Row, error)\n    Close() error\n}\n\n// ì„¤ì •ì— ë”°ë¼ ë‹¤ë¥¸ êµ¬í˜„ ë°˜í™˜\nfunc NewDatabase(config Config) (Database, error) {\n    switch config.Driver {\n    case \"postgres\":\n        return newPostgresDB(config)\n    case \"mysql\":\n        return newMySQLDB(config)\n    default:\n        return nil, errors.New(\"unknown driver\")\n    }\n}\n```\n\n### 3. ë‚´ë¶€ êµ¬í˜„ ìˆ¨ê¸°ê¸°\n\n```go\n// unexported êµ¬í˜„\ntype client struct {\n    httpClient *http.Client\n}\n\n// exported ì¸í„°í˜ì´ìŠ¤\ntype Client interface {\n    Get(url string) (*Response, error)\n}\n\nfunc NewClient() Client {\n    return &client{httpClient: &http.Client{}}\n}\n```\n\n## í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤\n\n### Mock êµ¬í˜„\n\n```go\n// í…ŒìŠ¤íŠ¸ìš© Mock\ntype MockUserRepository struct {\n    FindByIDFunc func(ctx context.Context, id string) (*User, error)\n    SaveFunc     func(ctx context.Context, user *User) error\n}\n\nfunc (m *MockUserRepository) FindByID(ctx context.Context, id string) (*User, error) {\n    return m.FindByIDFunc(ctx, id)\n}\n\nfunc (m *MockUserRepository) Save(ctx context.Context, user *User) error {\n    return m.SaveFunc(ctx, user)\n}\n\n// í…ŒìŠ¤íŠ¸\nfunc TestUserService_GetUser(t *testing.T) {\n    mockRepo := &MockUserRepository{\n        FindByIDFunc: func(ctx context.Context, id string) (*User, error) {\n            return &User{ID: id, Name: \"Test User\"}, nil\n        },\n    }\n    \n    service := NewUserService(mockRepo)\n    \n    user, err := service.GetUser(context.Background(), \"123\")\n    assert.NoError(t, err)\n    assert.Equal(t, \"Test User\", user.Name)\n}\n```\n\n### testify/mock ì‚¬ìš©\n\n```go\nimport \"github.com/stretchr/testify/mock\"\n\ntype MockUserRepository struct {\n    mock.Mock\n}\n\nfunc (m *MockUserRepository) FindByID(ctx context.Context, id string) (*User, error) {\n    args := m.Called(ctx, id)\n    return args.Get(0).(*User), args.Error(1)\n}\n\nfunc TestUserService(t *testing.T) {\n    mockRepo := new(MockUserRepository)\n    mockRepo.On(\"FindByID\", mock.Anything, \"123\").Return(&User{Name: \"Test\"}, nil)\n    \n    service := NewUserService(mockRepo)\n    user, _ := service.GetUser(context.Background(), \"123\")\n    \n    assert.Equal(t, \"Test\", user.Name)\n    mockRepo.AssertExpectations(t)\n}\n```\n\n## ì²´í¬ë¦¬ìŠ¤íŠ¸\n\n### ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„\n\n- [ ] ì†Œë¹„ì ì¸¡ì—ì„œ ì¸í„°í˜ì´ìŠ¤ ì •ì˜\n- [ ] ê°€ëŠ¥í•œ ì‘ì€ ì¸í„°í˜ì´ìŠ¤ (1-3 ë©”ì„œë“œ)\n- [ ] í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ë¡œ ì¸í„°í˜ì´ìŠ¤ ìˆ˜ìš©\n- [ ] êµ¬ì²´ íƒ€ì… ë°˜í™˜ (íŠ¹ë³„í•œ ì´ìœ  ì—†ìœ¼ë©´)\n\n### ìˆ˜ì‹ ì ì„ íƒ\n\n- [ ] ìƒíƒœ ë³€ê²½ í•„ìš”í•˜ë©´ í¬ì¸í„° ìˆ˜ì‹ ì\n- [ ] struct í¬ê¸° > 64 bytesë©´ í¬ì¸í„° ìˆ˜ì‹ ì\n- [ ] ë™ì¼ íƒ€ì…ì—ì„œ ìˆ˜ì‹ ì í†µì¼\n- [ ] ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ì‹œ í¬ì¸í„°/ê°’ ì£¼ì˜\n\n## ì°¸ê³  ìë£Œ\n\n- [Go Wiki: CodeReviewComments](https://go.dev/wiki/CodeReviewComments#interfaces)\n- [Effective Go: Interfaces](https://go.dev/doc/effective_go#interfaces)\n- [Go Proverbs: The bigger the interface, the weaker the abstraction](https://go-proverbs.github.io/)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Interface",
      "Design Patterns",
      "Best Practices"
    ],
    "readingTime": 6,
    "wordCount": 1047,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-02"
  },
  {
    "id": "error-handling-strategy",
    "slug": "error-handling-strategy",
    "path": "backend/go",
    "fullPath": "backend/go/error-handling-strategy",
    "title": "Go ì—ëŸ¬ í•¸ë“¤ë§ ì „ëµ ì™„ë²½ ê°€ì´ë“œ",
    "excerpt": "errors.Is, errors.As, ì»¤ìŠ¤í…€ ì—ëŸ¬ íƒ€ì…, ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ë¥¼ í™œìš©í•œ Goì˜ íš¨ê³¼ì ì¸ ì—ëŸ¬ í•¸ë“¤ë§ ì „ëµì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Go ì—ëŸ¬ í•¸ë“¤ë§ ì „ëµ ì™„ë²½ ê°€ì´ë“œ\n\n## ê°œìš”\n\nGoì˜ ì—ëŸ¬ ì²˜ë¦¬ëŠ” ëª…ì‹œì ì´ê³  ê°’ ê¸°ë°˜ì…ë‹ˆë‹¤. Go 1.13ë¶€í„° ë„ì…ëœ ì—ëŸ¬ ë˜í•‘(wrapping)ê³¼ `errors.Is`, `errors.As`ë¥¼ í™œìš©í•˜ë©´ ì²´ê³„ì ì¸ ì—ëŸ¬ í•¸ë“¤ë§ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n## ì—ëŸ¬ ë˜í•‘ (Error Wrapping)\n\n### fmt.Errorfì™€ %w\n\n```go\nimport (\n    \"errors\"\n    \"fmt\"\n)\n\nfunc readConfig(path string) error {\n    data, err := os.ReadFile(path)\n    if err != nil {\n        // %wë¡œ ì›ë³¸ ì—ëŸ¬ ë˜í•‘ (ì²´ì¸ ìœ ì§€)\n        return fmt.Errorf(\"config íŒŒì¼ ì½ê¸° ì‹¤íŒ¨ [%s]: %w\", path, err)\n    }\n    return nil\n}\n```\n\n> [!IMPORTANT]\n> `%v` ëŒ€ì‹  `%w`ë¥¼ ì‚¬ìš©í•´ì•¼ ì›ë³¸ ì—ëŸ¬ ì²´ì¸ì´ ìœ ì§€ë©ë‹ˆë‹¤. `%v`ëŠ” ë¬¸ìì—´ë¡œë§Œ ë³€í™˜ë©ë‹ˆë‹¤.\n\n### ì—ëŸ¬ ì²´ì¸ ì–¸ë˜í•‘\n\n```go\nerr := readConfig(\"config.yaml\")\nif err != nil {\n    // ê°€ì¥ ë°”ê¹¥ ì—ëŸ¬ ë©”ì‹œì§€\n    fmt.Println(err)\n    // â†’ config íŒŒì¼ ì½ê¸° ì‹¤íŒ¨ [config.yaml]: open config.yaml: no such file or directory\n    \n    // ì›ë³¸ ì—ëŸ¬ ì¶”ì¶œ\n    unwrapped := errors.Unwrap(err)\n    fmt.Println(unwrapped)\n    // â†’ open config.yaml: no such file or directory\n}\n```\n\n## errors.Is - ì—ëŸ¬ ë™ë“±ì„± ê²€ì‚¬\n\n`errors.Is`ëŠ” ì—ëŸ¬ ì²´ì¸ ì „ì²´ë¥¼ ìˆœíšŒí•˜ë©° **íŠ¹ì • ì—ëŸ¬ì™€ ë™ë“±í•œì§€** ê²€ì‚¬í•©ë‹ˆë‹¤.\n\n### ì„¼í‹°ë„¬ ì—ëŸ¬ ë¹„êµ\n\n```go\nimport (\n    \"errors\"\n    \"io\"\n    \"os\"\n)\n\nvar ErrNotFound = errors.New(\"ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\")\n\nfunc findUser(id string) (*User, error) {\n    user, err := db.Find(id)\n    if err != nil {\n        if errors.Is(err, sql.ErrNoRows) {\n            return nil, ErrNotFound  // ë„ë©”ì¸ ì—ëŸ¬ë¡œ ë³€í™˜\n        }\n        return nil, fmt.Errorf(\"DB ì¡°íšŒ ì‹¤íŒ¨: %w\", err)\n    }\n    return user, nil\n}\n\n// í˜¸ì¶œì¸¡\nuser, err := findUser(\"123\")\nif errors.Is(err, ErrNotFound) {\n    // 404 ì‘ë‹µ\n}\n```\n\n### ì²´ì¸ ë‚´ ì—ëŸ¬ ê²€ì‚¬\n\n```go\nfunc processFile(path string) error {\n    data, err := os.ReadFile(path)\n    if err != nil {\n        return fmt.Errorf(\"íŒŒì¼ ì²˜ë¦¬ ì‹¤íŒ¨: %w\", err)\n    }\n    // ...\n}\n\nerr := processFile(\"data.txt\")\nif errors.Is(err, os.ErrNotExist) {\n    fmt.Println(\"íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤\")\n}\nif errors.Is(err, os.ErrPermission) {\n    fmt.Println(\"ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤\")\n}\n```\n\n### Is ë©”ì„œë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§•\n\n```go\ntype TemporaryError struct {\n    Msg string\n}\n\nfunc (e *TemporaryError) Error() string { return e.Msg }\n\n// Is ë©”ì„œë“œ êµ¬í˜„ìœ¼ë¡œ ì»¤ìŠ¤í…€ ë¹„êµ ë¡œì§\nfunc (e *TemporaryError) Is(target error) bool {\n    _, ok := target.(*TemporaryError)\n    return ok\n}\n\n// ì‚¬ìš©\nvar errTemp = &TemporaryError{Msg: \"ì¼ì‹œì  ì˜¤ë¥˜\"}\nerr := fmt.Errorf(\"ì‘ì—… ì‹¤íŒ¨: %w\", errTemp)\n\nif errors.Is(err, &TemporaryError{}) {\n    // ì¬ì‹œë„ ë¡œì§\n}\n```\n\n## errors.As - ì—ëŸ¬ íƒ€ì… ì¶”ì¶œ\n\n`errors.As`ëŠ” ì—ëŸ¬ ì²´ì¸ì—ì„œ **íŠ¹ì • íƒ€ì…ì˜ ì—ëŸ¬ë¥¼ ì¶”ì¶œ**í•©ë‹ˆë‹¤.\n\n### ê¸°ë³¸ ì‚¬ìš©ë²•\n\n```go\ntype ValidationError struct {\n    Field   string\n    Message string\n}\n\nfunc (e *ValidationError) Error() string {\n    return fmt.Sprintf(\"ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ [%s]: %s\", e.Field, e.Message)\n}\n\nfunc validateUser(u User) error {\n    if u.Email == \"\" {\n        return &ValidationError{Field: \"email\", Message: \"í•„ìˆ˜ ì…ë ¥ê°’ì…ë‹ˆë‹¤\"}\n    }\n    return nil\n}\n\n// ì—ëŸ¬ íƒ€ì… ì¶”ì¶œ\nerr := validateUser(User{})\nvar validErr *ValidationError\nif errors.As(err, &validErr) {\n    fmt.Printf(\"í•„ë“œ: %s, ë©”ì‹œì§€: %s\\n\", validErr.Field, validErr.Message)\n}\n```\n\n### ë˜í•‘ëœ ì—ëŸ¬ì—ì„œ ì¶”ì¶œ\n\n```go\nfunc createUser(u User) error {\n    if err := validateUser(u); err != nil {\n        return fmt.Errorf(\"ì‚¬ìš©ì ìƒì„± ì‹¤íŒ¨: %w\", err)\n    }\n    // ...\n}\n\nerr := createUser(User{})\nvar validErr *ValidationError\nif errors.As(err, &validErr) {\n    // ë˜í•‘ë˜ì–´ ìˆì–´ë„ ì¶”ì¶œ ê°€ëŠ¥!\n    log.Printf(\"ê²€ì¦ ì‹¤íŒ¨ í•„ë“œ: %s\", validErr.Field)\n}\n```\n\n## ì»¤ìŠ¤í…€ ì—ëŸ¬ íƒ€ì…\n\n### ë„ë©”ì¸ ì—ëŸ¬ ì •ì˜\n\n```go\npackage domain\n\ntype ErrorCode string\n\nconst (\n    ErrCodeNotFound     ErrorCode = \"NOT_FOUND\"\n    ErrCodeUnauthorized ErrorCode = \"UNAUTHORIZED\"\n    ErrCodeConflict     ErrorCode = \"CONFLICT\"\n)\n\ntype DomainError struct {\n    Code    ErrorCode\n    Message string\n    Cause   error  // ì›ì¸ ì—ëŸ¬\n}\n\nfunc (e *DomainError) Error() string {\n    if e.Cause != nil {\n        return fmt.Sprintf(\"[%s] %s: %v\", e.Code, e.Message, e.Cause)\n    }\n    return fmt.Sprintf(\"[%s] %s\", e.Code, e.Message)\n}\n\n// Unwrapìœ¼ë¡œ ì²´ì¸ ì§€ì›\nfunc (e *DomainError) Unwrap() error {\n    return e.Cause\n}\n\n// ìƒì„±ì í•¨ìˆ˜ë“¤\nfunc NewNotFoundError(resource string, cause error) *DomainError {\n    return &DomainError{\n        Code:    ErrCodeNotFound,\n        Message: fmt.Sprintf(\"%së¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\", resource),\n        Cause:   cause,\n    }\n}\n\nfunc NewConflictError(msg string) *DomainError {\n    return &DomainError{\n        Code:    ErrCodeConflict,\n        Message: msg,\n    }\n}\n```\n\n### HTTP ìƒíƒœ ì½”ë“œ ë§¤í•‘\n\n```go\nfunc (e *DomainError) HTTPStatus() int {\n    switch e.Code {\n    case ErrCodeNotFound:\n        return http.StatusNotFound\n    case ErrCodeUnauthorized:\n        return http.StatusUnauthorized\n    case ErrCodeConflict:\n        return http.StatusConflict\n    default:\n        return http.StatusInternalServerError\n    }\n}\n\n// í•¸ë“¤ëŸ¬ì—ì„œ ì‚¬ìš©\nfunc userHandler(w http.ResponseWriter, r *http.Request) {\n    user, err := userService.Find(r.Context(), userID)\n    if err != nil {\n        var domainErr *DomainError\n        if errors.As(err, &domainErr) {\n            http.Error(w, domainErr.Message, domainErr.HTTPStatus())\n            return\n        }\n        http.Error(w, \"ì„œë²„ ì˜¤ë¥˜\", http.StatusInternalServerError)\n        return\n    }\n    // ...\n}\n```\n\n## ë‹¤ì¤‘ ì—ëŸ¬ ë˜í•‘ (Go 1.20+)\n\n### errors.Join\n\n```go\nfunc validateForm(data FormData) error {\n    var errs []error\n    \n    if data.Name == \"\" {\n        errs = append(errs, errors.New(\"ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤\"))\n    }\n    if data.Email == \"\" {\n        errs = append(errs, errors.New(\"ì´ë©”ì¼ì€ í•„ìˆ˜ì…ë‹ˆë‹¤\"))\n    }\n    if data.Age < 0 {\n        errs = append(errs, errors.New(\"ë‚˜ì´ëŠ” 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤\"))\n    }\n    \n    return errors.Join(errs...)  // nilì´ë©´ nil ë°˜í™˜\n}\n\nerr := validateForm(FormData{})\n// ì¶œë ¥: ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤\n//       ì´ë©”ì¼ì€ í•„ìˆ˜ì…ë‹ˆë‹¤\n```\n\n### ë‹¤ì¤‘ ì—ëŸ¬ ê²€ì‚¬\n\n```go\nvar (\n    ErrNameRequired  = errors.New(\"ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤\")\n    ErrEmailRequired = errors.New(\"ì´ë©”ì¼ì€ í•„ìˆ˜ì…ë‹ˆë‹¤\")\n)\n\nerr := errors.Join(ErrNameRequired, ErrEmailRequired)\n\n// ê°ê° ê²€ì‚¬ ê°€ëŠ¥\nerrors.Is(err, ErrNameRequired)  // true\nerrors.Is(err, ErrEmailRequired) // true\n```\n\n## ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤\n\ní‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ë¥¼ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•©ë‹ˆë‹¤.\n\n### pkg/errors (ë ˆê±°ì‹œ)\n\n```go\nimport \"github.com/pkg/errors\"\n\nfunc readFile(path string) error {\n    data, err := os.ReadFile(path)\n    if err != nil {\n        return errors.Wrap(err, \"íŒŒì¼ ì½ê¸° ì‹¤íŒ¨\")  // ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ í¬í•¨\n    }\n    return nil\n}\n\n// ìŠ¤íƒ ì¶œë ¥\nerr := readFile(\"config.yaml\")\nfmt.Printf(\"%+v\\n\", err)  // ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ í¬í•¨ ì¶œë ¥\n```\n\n### cockroachdb/errors (ê¶Œì¥)\n\n```go\nimport \"github.com/cockroachdb/errors\"\n\nfunc processData() error {\n    if err := readConfig(); err != nil {\n        return errors.Wrap(err, \"ë°ì´í„° ì²˜ë¦¬ ì‹¤íŒ¨\")\n    }\n    return nil\n}\n\n// errors.Is, errors.As í˜¸í™˜\n// ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ìë™ í¬í•¨\n```\n\n### êµ¬ì¡°í™”ëœ ë¡œê¹…ê³¼ í•¨ê»˜\n\n```go\nimport (\n    \"github.com/cockroachdb/errors\"\n    \"log/slog\"\n)\n\nfunc handleRequest() {\n    if err := processData(); err != nil {\n        slog.Error(\"ìš”ì²­ ì²˜ë¦¬ ì‹¤íŒ¨\",\n            \"error\", err,\n            \"stack\", fmt.Sprintf(\"%+v\", err),\n        )\n    }\n}\n```\n\n## ì—ëŸ¬ í•¸ë“¤ë§ íŒ¨í„´\n\n### íŒ¨í„´ 1: ê³„ì¸µë³„ ë˜í•‘\n\n```go\n// Repository ê³„ì¸µ\nfunc (r *UserRepo) FindByID(id string) (*User, error) {\n    user, err := r.db.Get(id)\n    if err != nil {\n        return nil, fmt.Errorf(\"UserRepo.FindByID: %w\", err)\n    }\n    return user, nil\n}\n\n// Service ê³„ì¸µ\nfunc (s *UserService) GetUser(id string) (*User, error) {\n    user, err := s.repo.FindByID(id)\n    if err != nil {\n        if errors.Is(err, sql.ErrNoRows) {\n            return nil, domain.NewNotFoundError(\"user\", err)\n        }\n        return nil, fmt.Errorf(\"UserService.GetUser: %w\", err)\n    }\n    return user, nil\n}\n\n// Handler ê³„ì¸µ\nfunc (h *UserHandler) Get(w http.ResponseWriter, r *http.Request) {\n    user, err := h.service.GetUser(userID)\n    if err != nil {\n        var domainErr *domain.DomainError\n        if errors.As(err, &domainErr) {\n            respondError(w, domainErr)\n            return\n        }\n        slog.Error(\"ì˜ˆìƒì¹˜ ëª»í•œ ì—ëŸ¬\", \"error\", err)\n        http.Error(w, \"Internal Server Error\", 500)\n        return\n    }\n    respondJSON(w, user)\n}\n```\n\n### íŒ¨í„´ 2: ì—ëŸ¬ ë¡œê¹… ìœ„ì¹˜\n\n```go\n// âŒ ëª¨ë“  ê³³ì—ì„œ ë¡œê¹… (ì¤‘ë³µ)\nfunc foo() error {\n    err := bar()\n    if err != nil {\n        log.Error(\"bar ì‹¤íŒ¨\", err)  // ì¤‘ë³µ!\n        return err\n    }\n}\n\n// âœ… ìµœìƒìœ„ì—ì„œë§Œ ë¡œê¹…\nfunc handler() {\n    err := foo()\n    if err != nil {\n        log.Error(\"ìš”ì²­ ì²˜ë¦¬ ì‹¤íŒ¨\", err)  // í•œ ê³³ì—ì„œë§Œ\n        // ì‘ë‹µ ì²˜ë¦¬\n    }\n}\n```\n\n### íŒ¨í„´ 3: ì¬ì‹œë„ ê°€ëŠ¥ ì—ëŸ¬\n\n```go\ntype RetryableError struct {\n    Err       error\n    RetryAfter time.Duration\n}\n\nfunc (e *RetryableError) Error() string {\n    return fmt.Sprintf(\"ì¬ì‹œë„ ê°€ëŠ¥: %v (after %v)\", e.Err, e.RetryAfter)\n}\n\nfunc (e *RetryableError) Unwrap() error { return e.Err }\n\n// ì‚¬ìš©\nfunc callExternalAPI() error {\n    resp, err := http.Get(url)\n    if err != nil {\n        return &RetryableError{Err: err, RetryAfter: 5 * time.Second}\n    }\n    if resp.StatusCode == 429 {\n        return &RetryableError{\n            Err:        errors.New(\"rate limited\"),\n            RetryAfter: parseRetryAfter(resp.Header),\n        }\n    }\n    return nil\n}\n\n// í˜¸ì¶œì¸¡\nfor i := 0; i < maxRetries; i++ {\n    err := callExternalAPI()\n    var retryErr *RetryableError\n    if errors.As(err, &retryErr) {\n        time.Sleep(retryErr.RetryAfter)\n        continue\n    }\n    if err != nil {\n        return err  // ì¬ì‹œë„ ë¶ˆê°€ëŠ¥í•œ ì—ëŸ¬\n    }\n    return nil  // ì„±ê³µ\n}\n```\n\n## ì£¼ì˜ì‚¬í•­\n\n1. âš ï¸ **`%w` vs `%v`** - ì²´ì¸ ìœ ì§€ê°€ í•„ìš”í•˜ë©´ ë°˜ë“œì‹œ `%w`\n2. âš ï¸ **errors.AsëŠ” í¬ì¸í„°ì˜ í¬ì¸í„°** - `var err *CustomError; errors.As(e, &err)`\n3. âš ï¸ **ì„¼í‹°ë„¬ ì—ëŸ¬ëŠ” íŒ¨í‚¤ì§€ ë ˆë²¨** - ì „ì—­ ë³€ìˆ˜ë¡œ ì„ ì–¸\n4. âš ï¸ **ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ëŠ” ì„±ëŠ¥ ë¹„ìš©** - í”„ë¡œë•ì…˜ì—ì„œ ì‹ ì¤‘íˆ ì‚¬ìš©\n\n## ì°¸ê³  ìë£Œ\n\n- [Go Blog: Working with Errors in Go 1.13](https://go.dev/blog/go1.13-errors)\n- [errors íŒ¨í‚¤ì§€ ë¬¸ì„œ](https://pkg.go.dev/errors)\n- [cockroachdb/errors](https://github.com/cockroachdb/errors)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Error Handling",
      "Best Practices"
    ],
    "readingTime": 7,
    "wordCount": 1273,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-02"
  },
  {
    "id": "enterprise-go-9-makefile",
    "slug": "enterprise-go-9-makefile",
    "path": "backend/go",
    "fullPath": "backend/go/enterprise-go-9-makefile",
    "title": "Enterprise Go ì‹œë¦¬ì¦ˆ #9: Makefileë¡œ ê°œë°œ ì›Œí¬í”Œë¡œìš° ìë™í™”",
    "excerpt": "ë³µì¡í•œ Go ëª…ë ¹ì–´ë“¤ì„ Makefileë¡œ ì¶”ìƒí™”í•˜ì—¬ íŒ€ ì „ì²´ì˜ ê°œë°œ ê²½í—˜ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤. FaÃ§ade íŒ¨í„´ì˜ CLI ë²„ì „ì…ë‹ˆë‹¤.",
    "content": "# Enterprise Go ì‹œë¦¬ì¦ˆ #9: Makefileë¡œ ê°œë°œ ì›Œí¬í”Œë¡œìš° ìë™í™”\n\n> **í•µì‹¬ ì•„ì´ë””ì–´**: Makefileì€ **CLIì˜ FaÃ§ade íŒ¨í„´**ì…ë‹ˆë‹¤.\n> ë³µì¡í•œ ëª…ë ¹ì–´ ì¡°í•©ì„ ë‹¨ìˆœí•œ ì¸í„°í˜ì´ìŠ¤ ë’¤ì— ìˆ¨ê¹ë‹ˆë‹¤.\n\n## ì™œ Makefileì¸ê°€?\n\n### ë¬¸ì œ ìƒí™©\n\n```bash\n# ìƒˆ íŒ€ì›ì´ í”„ë¡œì íŠ¸ì— í•©ë¥˜í–ˆì„ ë•Œ\n$ go build -o bin/user-api ./apps/user-api/cmd\n$ go build -o bin/order-api ./apps/order-api/cmd\n$ go generate ./...\n$ mockgen -source=... -destination=...\n$ wire ./apps/user-api/cmd\n$ go test -race -cover ./...\n```\n\n### FaÃ§ade ì ìš© í›„\n\n```bash\nmake build      # ì „ì²´ ë¹Œë“œ\nmake test       # í…ŒìŠ¤íŠ¸\nmake generate   # ì½”ë“œ ìƒì„± (mock, wire)\n```\n\n**FaÃ§ade íŒ¨í„´**ì²˜ëŸ¼, ë³µì¡í•œ í•˜ìœ„ ì‹œìŠ¤í…œì„ ë‹¨ìˆœí•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ê°ìŒ‰ë‹ˆë‹¤.\n\n---\n\n## ê¸°ë³¸ êµ¬ì¡°\n\n```makefile\n# ë³€ìˆ˜ ì •ì˜\nGO := go\nAPPS := user-api order-api worker\nBIN_DIR := bin\n\n# ê¸°ë³¸ íƒ€ê²Ÿ\n.PHONY: all build test lint clean\n\nall: build\n\nbuild: $(APPS)\n\n$(APPS):\n $(GO) build -o $(BIN_DIR)/$@ ./apps/$@/cmd\n\ntest:\n $(GO) test -race -cover ./...\n\nlint:\n golangci-lint run ./...\n\nclean:\n rm -rf $(BIN_DIR)\n```\n\n---\n\n## ëª¨ë…¸ë ˆí¬ìš© íƒ€ê²Ÿ\n\n### ì„œë¹„ìŠ¤ë³„ ë¹Œë“œ\n\n```makefile\n# íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ë¹Œë“œ\n.PHONY: build-user build-order\n\nbuild-user:\n $(GO) build -o $(BIN_DIR)/user-api ./apps/user-api/cmd\n\nbuild-order:\n $(GO) build -o $(BIN_DIR)/order-api ./apps/order-api/cmd\n\n# ë³€ê²½ëœ ì„œë¹„ìŠ¤ë§Œ ë¹Œë“œ (CIìš©)\nbuild-changed:\n @for app in $(shell git diff --name-only HEAD~1 | grep \"apps/\" | cut -d/ -f2 | sort -u); do \\\n  echo \"Building $$app...\"; \\\n  $(GO) build -o $(BIN_DIR)/$$app ./apps/$$app/cmd; \\\n done\n```\n\n---\n\n## ì½”ë“œ ìƒì„± ìë™í™”\n\n### Mock, Wire í†µí•©\n\n```makefile\n.PHONY: generate mock wire\n\ngenerate: mock wire\n\nmock:\n @echo \"Generating mocks...\"\n $(GO) generate ./...\n\nwire:\n @echo \"Running wire...\"\n @for app in $(APPS); do \\\n  wire ./apps/$$app/cmd; \\\n done\n```\n\n---\n\n## ê°œë°œ í™˜ê²½\n\n### ë¡œì»¬ ì‹¤í–‰\n\n```makefile\n.PHONY: run dev\n\n# ë‹¨ì¼ ì„œë¹„ìŠ¤ ì‹¤í–‰\nrun:\n $(GO) run ./apps/user-api/cmd serve\n\n# í•« ë¦¬ë¡œë“œ (air ì‚¬ìš©)\ndev:\n air -c .air.toml\n```\n\n### Docker\n\n```makefile\n.PHONY: docker-build docker-up docker-down\n\ndocker-build:\n docker build -t myapp/user-api -f apps/user-api/Dockerfile .\n\ndocker-up:\n docker-compose up -d\n\ndocker-down:\n docker-compose down\n```\n\n---\n\n## CI/CD ì—°ë™\n\n### GitHub Actions ì˜ˆì‹œ\n\n```yaml\n# .github/workflows/ci.yml\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.21'\n      \n      - name: Lint\n        run: make lint\n      \n      - name: Test\n        run: make test\n      \n      - name: Build\n        run: make build\n```\n\nMakefileì„ ì‚¬ìš©í•˜ë©´ **ë¡œì»¬ê³¼ CI í™˜ê²½ì´ ë™ì¼**í•©ë‹ˆë‹¤.\n\n---\n\n## ìœ ìš©í•œ íŒ¨í„´\n\n### Help íƒ€ê²Ÿ\n\n```makefile\n.PHONY: help\n\nhelp:\n @echo \"ì‚¬ìš© ê°€ëŠ¥í•œ íƒ€ê²Ÿ:\"\n @echo \"  build    - ì „ì²´ ë¹Œë“œ\"\n @echo \"  test     - í…ŒìŠ¤íŠ¸ ì‹¤í–‰\"\n @echo \"  lint     - ë¦°íŠ¸ ê²€ì‚¬\"\n @echo \"  generate - ì½”ë“œ ìƒì„± (mock, wire)\"\n @echo \"  clean    - ë¹Œë“œ ê²°ê³¼ë¬¼ ì‚­ì œ\"\n```\n\n### ì˜ì¡´ì„± ì„¤ì¹˜\n\n```makefile\n.PHONY: tools\n\ntools:\n $(GO) install github.com/golangci/golangci-lint/cmd/golangci-lint@latest\n $(GO) install go.uber.org/mock/mockgen@latest\n $(GO) install github.com/google/wire/cmd/wire@latest\n```\n\n---\n\n## ì •ë¦¬: FaÃ§adeë¡œì„œì˜ Makefile\n\n```mermaid\ngraph TB\n    subgraph \"ê°œë°œì ì¸í„°í˜ì´ìŠ¤\"\n        MAKE[\"make build<br/>make test<br/>make generate\"]\n    end\n    \n    subgraph \"ìˆ¨ê²¨ì§„ ë³µì¡ì„±\"\n        BUILD[\"go build -o ... ./apps/.../cmd\"]\n        TEST[\"go test -race -cover ./...\"]\n        MOCK[\"go generate + mockgen\"]\n        WIRE[\"wire ./apps/.../cmd\"]\n    end\n    \n    MAKE --> BUILD\n    MAKE --> TEST\n    MAKE --> MOCK\n    MAKE --> WIRE\n```\n\n| ì¥ì  | ì„¤ëª… |\n|------|------|\n| **ì˜¨ë³´ë”© ë‹¨ìˆœí™”** | ìƒˆ íŒ€ì›ë„ `make build`ë¡œ ì‹œì‘ |\n| **ì¼ê´€ì„±** | ë¡œì»¬ = CI í™˜ê²½ |\n| **ë¬¸ì„œí™”** | Makefile ìì²´ê°€ ì‹¤í–‰ ê°€ëŠ¥í•œ ë¬¸ì„œ |\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [GNU Make Manual](https://www.gnu.org/software/make/manual/)\n- [Makefile Tutorial](https://makefiletutorial.com/)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Makefile",
      "Automation",
      "Developer Experience",
      "Monorepo",
      "Enterprise"
    ],
    "readingTime": 3,
    "wordCount": 518,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-01"
  },
  {
    "id": "enterprise-go-8-observability",
    "slug": "enterprise-go-8-observability",
    "path": "backend/go",
    "fullPath": "backend/go/enterprise-go-8-observability",
    "title": "Enterprise Go ì‹œë¦¬ì¦ˆ #8: Observabilityì™€ Debugging",
    "excerpt": "Micrometer, Winstonì— ìµìˆ™í•œ ê°œë°œìë¥¼ ìœ„í•œ Go Observability ê°€ì´ë“œ. Grafana ëŒ€ì‹œë³´ë“œì™€ Alert ì—°ë™ê¹Œì§€ ë‹¤ë£¹ë‹ˆë‹¤.",
    "content": "# Enterprise Go ì‹œë¦¬ì¦ˆ #8: Observabilityì™€ Debugging\n\n> **ë‹¤ë¥¸ ìƒíƒœê³„ ê²½í—˜ìë¥¼ ìœ„í•œ ë§¤í•‘**\n>\n> - Java: Micrometer, Logback, Zipkin\n> - Node.js: Winston, prom-client, Jaeger\n\n## í•µì‹¬ ì§ˆë¬¸\n\ní”„ë¡œë•ì…˜ì—ì„œ:\n\n- ì¥ì•  ë°œìƒ ì‹œ ì›ì¸ì„ ì–´ë–»ê²Œ íŒŒì•…í•˜ë‚˜?\n- ì–´ë–¤ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•´ì•¼ í•˜ë‚˜?\n- Grafana ëŒ€ì‹œë³´ë“œì™€ AlertëŠ” ì–´ë–»ê²Œ êµ¬ì„±í•˜ë‚˜?\n\n---\n\n## Observability 3ìš”ì†Œ\n\n```mermaid\ngraph TB\n    subgraph \"Observability\"\n        LOGS[\"Logs<br/>ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚¬ë‚˜?\"]\n        METRICS[\"Metrics<br/>ì–¼ë§ˆë‚˜ ì¼ì–´ë‚¬ë‚˜?\"]\n        TRACES[\"Traces<br/>ì–´ë””ì„œ ì¼ì–´ë‚¬ë‚˜?\"]\n    end\n    \n    LOGS --> DEBUG[ë””ë²„ê¹…, ê°ì‚¬]\n    METRICS --> MONITOR[ëª¨ë‹ˆí„°ë§, ì•Œë¦¼]\n    TRACES --> ANALYSIS[ë³‘ëª© ë¶„ì„, ì˜ì¡´ì„± íŒŒì•…]\n```\n\n---\n\n## Logging (uber/zap)\n\n### êµ¬ì¡°í™”ëœ ë¡œê¹…\n\n| íŒ¨í„´ | Java | Go |\n|------|------|-----|\n| êµ¬ì¡°í™” ë¡œê¹… | Logback + JSON | uber/zap |\n| ì»¨í…ìŠ¤íŠ¸ ì „íŒŒ | MDC | Context + zap.With |\n\n### ë¡œê·¸ ë ˆë²¨ ê°€ì´ë“œ\n\n| ë ˆë²¨ | ì‚¬ìš© ì‹œì  | í”„ë¡œë•ì…˜ |\n|------|----------|---------|\n| DEBUG | ê°œë°œ/ë””ë²„ê¹… | OFF |\n| INFO | ì •ìƒ íë¦„ ê¸°ë¡ | ON |\n| WARN | ë³µêµ¬ ê°€ëŠ¥í•œ ë¬¸ì œ | ON |\n| ERROR | ì‹¤íŒ¨, ì¡°ì¹˜ í•„ìš” | ON + Alert |\n\n### Request ID ì „íŒŒ\n\n```mermaid\nsequenceDiagram\n    participant Middleware\n    participant Handler\n    participant UseCase\n    participant Logger\n    \n    Middleware->>Middleware: requestID ìƒì„±\n    Middleware->>Handler: ctxì— requestID ì €ì¥\n    Handler->>UseCase: ctx ì „ë‹¬\n    UseCase->>Logger: logger.With(ctx)\n    Logger->>Logger: requestID ìë™ í¬í•¨\n```\n\n### ë¡œê±° ì´ˆê¸°í™” íŒ¨í„´\n\n| íŒ¨í„´ | ë°©ì‹ | ì¥ë‹¨ì  |\n|------|------|--------|\n| **ReplaceGlobals** | `zap.ReplaceGlobals(logger)` | ê°„í¸, í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€ |\n| **DI ì£¼ì…** | Wireë¡œ ì£¼ì… | í…ŒìŠ¤íŠ¸ ìš©ì´, ëª…ì‹œì  |\n\n**ReplaceGlobals**: ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ì— ì í•©\n\n```go\nlogger, _ := zap.NewProduction()\nzap.ReplaceGlobals(logger)\n// ì´í›„ ì–´ë””ì„œë“  zap.L().Info(...)\n```\n\n**DI (ê¶Œì¥)**: ì •ì‹ í”„ë¡œì íŠ¸ì—ì„œëŠ” Wireë¡œ ì£¼ì…\n\n```go\n// wire.go\nfunc InitializeServer(logger *zap.Logger) *Server { ... }\n```\n\ní…ŒìŠ¤íŠ¸ ì‹œ Mock ë¡œê±° ì£¼ì… ê°€ëŠ¥, ì˜ì¡´ì„± ëª…ì‹œì \n\n---\n\n## Metrics\n\n### ìˆ˜ì§‘í•´ì•¼ í•  í•µì‹¬ ë©”íŠ¸ë¦­\n\n#### RED Method (Request-driven)\n\n| ë©”íŠ¸ë¦­ | ì„¤ëª… | Prometheus íƒ€ì… |\n|--------|------|----------------|\n| **R**ate | ì´ˆë‹¹ ìš”ì²­ ìˆ˜ | Counter |\n| **E**rrors | ì—ëŸ¬ìœ¨ | Counter |\n| **D**uration | ì‘ë‹µ ì‹œê°„ ë¶„í¬ | Histogram |\n\n#### USE Method (Resource-driven)\n\n| ë©”íŠ¸ë¦­ | ì„¤ëª… | ì˜ˆì‹œ |\n|--------|------|------|\n| **U**tilization | ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥  | CPU, Memory |\n| **S**aturation | í¬í™”ë„, ëŒ€ê¸°ì—´ | Goroutine ìˆ˜ |\n| **E**rrors | ë¦¬ì†ŒìŠ¤ ì—ëŸ¬ | Connection ì‹¤íŒ¨ |\n\n### Grafana ëŒ€ì‹œë³´ë“œ êµ¬ì„±\n\n```mermaid\ngraph TB\n    subgraph \"ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ\"\n        ROW1[\"Row 1: Overview\"]\n        ROW2[\"Row 2: HTTP\"]\n        ROW3[\"Row 3: Database\"]\n        ROW4[\"Row 4: External APIs\"]\n    end\n    \n    ROW1 --> P1[\"ìš”ì²­ë¥ <br/>Panel\"]\n    ROW1 --> P2[\"ì—ëŸ¬ìœ¨<br/>Panel\"]\n    ROW1 --> P3[\"P99 ë ˆì´í„´ì‹œ<br/>Panel\"]\n    \n    ROW2 --> P4[\"ìƒíƒœì½”ë“œë³„<br/>ìš”ì²­ ë¶„í¬\"]\n    ROW2 --> P5[\"ì—”ë“œí¬ì¸íŠ¸ë³„<br/>ë ˆì´í„´ì‹œ\"]\n```\n\n### Alert ì„¤ì • ì˜ˆì‹œ\n\n| Alert ì´ë¦„ | ì¡°ê±´ | ì‹¬ê°ë„ | ì±„ë„ |\n|-----------|------|--------|------|\n| HighErrorRate | ì—ëŸ¬ìœ¨ > 5% (5ë¶„) | Critical | Slack + PagerDuty |\n| HighLatency | P99 > 1s (5ë¶„) | Warning | Slack |\n| PodRestart | ì¬ì‹œì‘ > 3íšŒ (1ì‹œê°„) | Critical | Slack |\n\n---\n\n## Tracing\n\n### ë¶„ì‚° ì¶”ì ì´ í•„ìš”í•œ ìƒí™©\n\n```mermaid\nsequenceDiagram\n    participant Gateway\n    participant UserService\n    participant OrderService\n    participant PaymentService\n    \n    Note over Gateway,PaymentService: ê°™ì€ Trace ID ê³µìœ \n    \n    Gateway->>UserService: traceID: abc123\n    Gateway->>OrderService: traceID: abc123\n    OrderService->>PaymentService: traceID: abc123\n```\n\n### OpenTelemetry ì—°ë™\n\n| Java | Go |\n|------|-----|\n| Spring Cloud Sleuth | OpenTelemetry SDK |\n| Zipkin/Jaeger Exporter | OTLP Exporter |\n| @NewSpan | tracer.Start(ctx, name) |\n\n---\n\n## pprof: ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§\n\n### í”„ë¡œíŒŒì¼ ì¢…ë¥˜\n\n| í”„ë¡œíŒŒì¼ | ë¶„ì„ ëŒ€ìƒ | ì‚¬ìš© ì‹œì  |\n|---------|----------|----------|\n| CPU | í•¨ìˆ˜ë³„ CPU ì‚¬ìš© | ë†’ì€ CPU ì‚¬ìš©ë¥  |\n| Heap | ë©”ëª¨ë¦¬ í• ë‹¹ | ë©”ëª¨ë¦¬ ì¦ê°€ |\n| Goroutine | í™œì„± goroutine | ëˆ„ìˆ˜ ì˜ì‹¬ |\n| Block | ë¸”ë¡œí‚¹ ì§€ì  | ë™ê¸°í™” ë¬¸ì œ |\n\n### í”„ë¡œë•ì…˜ í™œì„±í™”\n\n```mermaid\ngraph LR\n    APP[Application] -->|\":6060\"| PPROF[pprof ì„œë²„]\n    PPROF -->|ì¸ì¦ í•„ìš”| ANALYSIS[ë¶„ì„ ë„êµ¬]\n```\n\n**ë³´ì•ˆ ì£¼ì˜**: pprof ì—”ë“œí¬ì¸íŠ¸ëŠ” ë‚´ë¶€ë§/VPNì—ì„œë§Œ ì ‘ê·¼\n\n---\n\n## í†µí•© ì•„í‚¤í…ì²˜\n\n```mermaid\ngraph TB\n    APP[Go Application]\n    \n    APP -->|zap| LOKI[Loki]\n    APP -->|Prometheus Client| PROM[Prometheus]\n    APP -->|OTLP| TEMPO[Tempo]\n    \n    LOKI --> GRAFANA[Grafana]\n    PROM --> GRAFANA\n    TEMPO --> GRAFANA\n    \n    GRAFANA --> ALERT[Alert Manager]\n    ALERT --> SLACK[Slack]\n    ALERT --> PAGER[PagerDuty]\n```\n\n---\n\n## SPoF ë°©ì§€\n\n### ë‹¨ì¼ ì¥ì•  ì§€ì  ì‹ë³„\n\n```mermaid\ngraph TD\n    subgraph \"í™•ì¸ ì‚¬í•­\"\n        Q1[\"ì™¸ë¶€ ì˜ì¡´ì„±ë³„<br/>Circuit Breaker?\"]\n        Q2[\"DB ì—°ê²° ì‹¤íŒ¨ ì‹œ<br/>Fallback?\"]\n        Q3[\"ë‹¤ìš´ìŠ¤íŠ¸ë¦¼ ì¥ì•  ì‹œ<br/>Graceful Degradation?\"]\n    end\n```\n\n### ë©”íŠ¸ë¦­ ê¸°ë°˜ SPoF íƒì§€\n\n| ë©”íŠ¸ë¦­ | ì„ê³„ì¹˜ | ì˜ë¯¸ |\n|--------|-------|------|\n| ì˜ì¡´ì„±ë³„ ì—ëŸ¬ìœ¨ | > 50% | í•´ë‹¹ ì˜ì¡´ì„± ì¥ì•  |\n| DB ì»¤ë„¥ì…˜ í’€ ì‚¬ìš©ë¥  | > 90% | ì»¤ë„¥ì…˜ ê³ ê°ˆ ìœ„í—˜ |\n| Goroutine ìˆ˜ | ê¸‰ê²©í•œ ì¦ê°€ | ëˆ„ìˆ˜ ë˜ëŠ” ë¸”ë¡œí‚¹ |\n\n---\n\n## ì •ë¦¬\n\n| ìš”ì†Œ | ë„êµ¬ | ìš©ë„ |\n|------|------|------|\n| Logs | zap â†’ Loki | ë””ë²„ê¹…, ê°ì‚¬ |\n| Metrics | Prometheus â†’ Grafana | ëª¨ë‹ˆí„°ë§, Alert |\n| Traces | OpenTelemetry â†’ Tempo | ë³‘ëª© ë¶„ì„ |\n| Profile | pprof | ì„±ëŠ¥ ìµœì í™” |\n\n---\n\n## ì‹œë¦¬ì¦ˆ ë§ˆë¬´ë¦¬\n\n8í¸ì— ê±¸ì³ ì—”í„°í”„ë¼ì´ì¦ˆ Go ê°œë°œì˜ í•µì‹¬ì„ ë‹¤ë¤˜ìŠµë‹ˆë‹¤:\n\n| í¸ | ì£¼ì œ | í•µì‹¬ ìš”ì  |\n|----|------|----------|\n| 1 | í”„ë¡œì íŠ¸ ì„¤ê³„ | Hollow Main, internal/app, ì§„í™” ë‹¨ê³„ |\n| 2 | HTTP ì„œë²„ | ë¯¸ë“¤ì›¨ì–´ ìˆœì„œ, run.Group, Graceful Shutdown |\n| 3 | Context | íƒ€ì„ì•„ì›ƒ, ì·¨ì†Œ ì „íŒŒ, Request ID |\n| 4 | ë™ì‹œì„± | Goroutine ì œí•œ, errgroup |\n| 5 | ë°ì´í„°ë² ì´ìŠ¤ | WithTxë¡œ @Transactional ê²½í—˜ |\n| 6 | ì™¸ë¶€ í†µì‹  | íŒ¨í„´ ì¡°í•© ìˆœì„œ |\n| 7 | í…ŒìŠ¤íŠ¸ | Mock, Testcontainers, Ginkgo |\n| 8 | Observability | RED/USE, Grafana Alert |\n| 9 | Makefile | ê°œë°œ ì›Œí¬í”Œë¡œìš° ìë™í™”, FaÃ§ade |\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [uber/zap](https://github.com/uber-go/zap)\n- [Prometheus Go Client](https://github.com/prometheus/client_golang)\n- [OpenTelemetry Go](https://opentelemetry.io/docs/instrumentation/go/)\n- [Grafana Loki](https://grafana.com/oss/loki/)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Logging",
      "Metrics",
      "Tracing",
      "pprof",
      "Observability",
      "Grafana",
      "Enterprise"
    ],
    "readingTime": 5,
    "wordCount": 883,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-01"
  },
  {
    "id": "enterprise-go-7-testing",
    "slug": "enterprise-go-7-testing",
    "path": "backend/go",
    "fullPath": "backend/go/enterprise-go-7-testing",
    "title": "Enterprise Go ì‹œë¦¬ì¦ˆ #7: í…ŒìŠ¤íŠ¸ ì „ëµê³¼ ì‹¤ì „",
    "excerpt": "JUnit, Jestì— ìµìˆ™í•œ ê°œë°œìë¥¼ ìœ„í•œ Go í…ŒìŠ¤íŠ¸ ìƒíƒœê³„ ê°€ì´ë“œ. Mock, í†µí•© í…ŒìŠ¤íŠ¸, BDD ìŠ¤íƒ€ì¼ì„ ë‹¤ë£¹ë‹ˆë‹¤.",
    "content": "# Enterprise Go ì‹œë¦¬ì¦ˆ #7: í…ŒìŠ¤íŠ¸ ì „ëµê³¼ ì‹¤ì „\n\n> **ë‹¤ë¥¸ ìƒíƒœê³„ ê²½í—˜ìë¥¼ ìœ„í•œ ë§¤í•‘**\n>\n> - Java: JUnit, Mockito, Testcontainers\n> - Node.js: Jest, Supertest\n> - Python: pytest, unittest.mock\n\n## í…ŒìŠ¤íŠ¸ ë„êµ¬ ë§¤í•‘\n\n| ê¸°ëŠ¥ | Java | Node.js | Go |\n|------|------|---------|-----|\n| Mock ìƒì„± | Mockito | jest.mock | **uber/gomock** |\n| í†µí•© í…ŒìŠ¤íŠ¸ | Testcontainers | Testcontainers | **Testcontainers-go** |\n| BDD ìŠ¤íƒ€ì¼ | Cucumber | Jest describe | **Ginkgo** |\n| ì–´ì„¤ì…˜ | AssertJ | Jest expect | **Gomega** |\n\n---\n\n## Mock: uber/gomock\n\n### Mockito vs gomock\n\n| Mockito | gomock |\n|---------|--------|\n| when(...).thenReturn(...) | EXPECT().Return(...) |\n| verify(..., times(n)) | EXPECT().Times(n) |\n| @Mock ì–´ë…¸í…Œì´ì…˜ | mockgen ì½”ë“œ ìƒì„± |\n\n### ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ Mock\n\n```mermaid\ngraph LR\n    INTERFACE[UserRepository<br/>ì¸í„°í˜ì´ìŠ¤] --> IMPL[UserGormRepo<br/>ì‹¤ì œ êµ¬í˜„]\n    INTERFACE --> MOCK[MockUserRepository<br/>Mock êµ¬í˜„]\n```\n\n**Springê³¼ì˜ ì°¨ì´ì :**\n\n- Spring: @MockBeanìœ¼ë¡œ ëŸ°íƒ€ì„ ì£¼ì…\n- Go: **ì¸í„°í˜ì´ìŠ¤ ì •ì˜ í•„ìˆ˜**, ì»´íŒŒì¼ íƒ€ì„ íƒ€ì… ì²´í¬\n\n---\n\n## í†µí•© í…ŒìŠ¤íŠ¸: Testcontainers\n\n### Java vs Go\n\n| Java Testcontainers | Go Testcontainers |\n|---------------------|-------------------|\n| @Container ì–´ë…¸í…Œì´ì…˜ | container.Run() í•¨ìˆ˜ |\n| @DynamicPropertySource | ConnectionString() |\n| JUnit ìƒëª…ì£¼ê¸° | Ginkgo BeforeSuite/AfterSuite |\n\n### ì–¸ì œ ì‚¬ìš©í•˜ë‚˜?\n\n```mermaid\ngraph TD\n    Q{ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸?}\n    Q -->|ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§| MOCK[Mock ì‚¬ìš©]\n    Q -->|SQL ì¿¼ë¦¬| CONTAINER[Testcontainers]\n    Q -->|Repository í†µí•©| CONTAINER\n```\n\n---\n\n## BDD: Ginkgo\n\n### Jest vs Ginkgo\n\n| Jest | Ginkgo |\n|------|--------|\n| describe('...', () => {}) | Describe(\"...\", func() {}) |\n| beforeEach(() => {}) | BeforeEach(func() {}) |\n| it('should...', () => {}) | It(\"should...\", func() {}) |\n| expect(...).toBe(...) | Expect(...).To(Equal(...)) |\n\n### í…ŒìŠ¤íŠ¸ êµ¬ì¡°\n\n```mermaid\ngraph TB\n    DESCRIBE[\"Describe('UserService')\"]\n    DESCRIBE --> BEFORE[\"BeforeEach<br/>Mock ì„¤ì •\"]\n    DESCRIBE --> CONTEXT1[\"Context('ì¡´ì¬í•˜ëŠ” ì‚¬ìš©ì')\"]\n    DESCRIBE --> CONTEXT2[\"Context('ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ì')\"]\n    CONTEXT1 --> IT1[\"It('ì •ë³´ ë°˜í™˜')\"]\n    CONTEXT2 --> IT2[\"It('ì—ëŸ¬ ë°˜í™˜')\"]\n```\n\n---\n\n## í…ŒìŠ¤íŠ¸ ë¶„ë¦¬: Label\n\n### JUnit @Tag vs Ginkgo Label\n\n| JUnit | Ginkgo |\n|-------|--------|\n| @Tag(\"integration\") | Label(\"integration\") |\n| -Dgroups=integration | --label-filter=\"integration\" |\n\n### CI íŒŒì´í”„ë¼ì¸\n\n```mermaid\ngraph LR\n    PR[PR Build] -->|ë¹ ë¥´ê²Œ| UNIT[\"--label-filter='!integration'\"]\n    MAIN[Main Build] -->|ì „ì²´| ALL[\"ginkgo -r\"]\n```\n\n---\n\n## ì •ë¦¬\n\n| ê¸°ëŠ¥ | ì¶”ì²œ ë„êµ¬ | ëŒ€ì‘ |\n|------|----------|------|\n| Mock | uber/gomock | Mockito |\n| í†µí•© í…ŒìŠ¤íŠ¸ | Testcontainers | @Testcontainers |\n| BDD | Ginkgo + Gomega | Jest describe |\n| ë¶„ë¦¬ ì‹¤í–‰ | Label | @Tag |\n\n---\n\n## ë‹¤ìŒ í¸ ì˜ˆê³ \n\n**8í¸: Observabilityì™€ Debugging**ì—ì„œëŠ” Micrometer, Winstonì— ëŒ€ì‘í•˜ëŠ” Goì˜ ê´€ì°°ê°€ëŠ¥ì„± ë„êµ¬ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [uber/gomock](https://github.com/uber-go/mock)\n- [Testcontainers Go](https://golang.testcontainers.org/)\n- [Ginkgo](https://onsi.github.io/ginkgo/)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Testing",
      "gomock",
      "Testcontainers",
      "Ginkgo",
      "BDD",
      "Enterprise"
    ],
    "readingTime": 3,
    "wordCount": 401,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-01"
  },
  {
    "id": "enterprise-go-6-resilient-communication",
    "slug": "enterprise-go-6-resilient-communication",
    "path": "backend/go",
    "fullPath": "backend/go/enterprise-go-6-resilient-communication",
    "title": "Enterprise Go ì‹œë¦¬ì¦ˆ #6: Resilientí•œ ì™¸ë¶€ í†µì‹ ",
    "excerpt": "Resilience4j, Pollyì— ìµìˆ™í•œ ê°œë°œìë¥¼ ìœ„í•œ Go Resilience íŒ¨í„´ ê°€ì´ë“œ. Circuit Breaker, Retry, Rate Limitingì„ ì˜¬ë°”ë¥´ê²Œ ì¡°í•©í•©ë‹ˆë‹¤.",
    "content": "# Enterprise Go ì‹œë¦¬ì¦ˆ #6: Resilientí•œ ì™¸ë¶€ í†µì‹ \n\n> **ë‹¤ë¥¸ ìƒíƒœê³„ ê²½í—˜ìë¥¼ ìœ„í•œ ë§¤í•‘**\n>\n> - Java: Resilience4j, Hystrix\n> - .NET: Polly\n> - Node.js: cockatiel, opossum\n\n## í•µì‹¬ ì§ˆë¬¸\n\në§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œ:\n\n- ì™¸ë¶€ APIê°€ ëŠë ¤ì§€ë©´ ìš°ë¦¬ ì„œë¹„ìŠ¤ëŠ” ì–´ë–»ê²Œ ë˜ë‚˜?\n- ì¬ì‹œë„ëŠ” ì–¸ì œ í•´ì•¼ í•˜ê³  ì–¸ì œ í•˜ë©´ ì•ˆ ë˜ë‚˜?\n- ì¥ì•  ì „íŒŒë¥¼ ì–´ë–»ê²Œ ë§‰ì„ ê²ƒì¸ê°€?\n\n---\n\n## Resilience íŒ¨í„´ ì¡°í•©\n\n### ì˜¬ë°”ë¥¸ ì ìš© ìˆœì„œ\n\n```mermaid\nflowchart LR\n    REQ[Request] --> RL[Rate Limit]\n    RL --> CB[Circuit Breaker]\n    CB --> RETRY[Retry]\n    RETRY --> TIMEOUT[Timeout]\n    TIMEOUT --> CLIENT[HTTP Client]\n```\n\n| ìˆœì„œ | íŒ¨í„´ | ëª©ì  | ìœ„ì¹˜ ì´ìœ  |\n|------|------|------|----------|\n| 1 | Rate Limit | ìš”ì²­ ì†ë„ ì œí•œ | ê°€ì¥ ë°”ê¹¥ì—ì„œ ê³¼ë¶€í•˜ ë°©ì§€ |\n| 2 | Circuit Breaker | ì¥ì•  ì„œë¹„ìŠ¤ ê²©ë¦¬ | ë¶ˆí•„ìš”í•œ ì¬ì‹œë„ ì°¨ë‹¨ |\n| 3 | Retry | ì¼ì‹œì  ì‹¤íŒ¨ ë³µêµ¬ | íƒ€ì„ì•„ì›ƒ ì „ì— ì¬ì‹œë„ ê²°ì • |\n| 4 | Timeout | ë¬´í•œ ëŒ€ê¸° ë°©ì§€ | ê°€ì¥ ì•ˆìª½ì—ì„œ ê°œë³„ ìš”ì²­ ì œì–´ |\n\n---\n\n## Timeout\n\n### ë‹¤ê³„ì¸µ íƒ€ì„ì•„ì›ƒ ì„¤ì •\n\n```mermaid\ngraph TB\n    subgraph \"íƒ€ì„ì•„ì›ƒ ê³„ì¸µ\"\n        DIAL[\"Connection: 5s\"]\n        TLS[\"TLS Handshake: 5s\"]\n        RESP[\"Response Header: 10s\"]\n        TOTAL[\"Total Request: 30s\"]\n    end\n    \n    DIAL --> TLS --> RESP --> TOTAL\n```\n\n| ì„¤ì • | ê¶Œì¥ê°’ | ëŒ€ì‘ ìƒí™© |\n|------|--------|----------|\n| ì—°ê²° íƒ€ì„ì•„ì›ƒ | 5ì´ˆ | DNS ì¥ì• , ë„¤íŠ¸ì›Œí¬ ë‹¨ì ˆ |\n| TLS í•¸ë“œì…°ì´í¬ | 5ì´ˆ | ì¸ì¦ì„œ ë¬¸ì œ |\n| ì‘ë‹µ í—¤ë” | 10ì´ˆ | ì„œë²„ ì²˜ë¦¬ ì§€ì—° |\n| ì „ì²´ ìš”ì²­ | 30ì´ˆ | ëŒ€ìš©ëŸ‰ ì‘ë‹µ í¬í•¨ |\n\n---\n\n## Retry\n\n### ì¬ì‹œë„ ê°€ëŠ¥ ì¡°ê±´\n\n```mermaid\ngraph TD\n    ERR{ì—ëŸ¬ ì¢…ë¥˜}\n    \n    ERR -->|5xx Server Error| YES[ì¬ì‹œë„ O]\n    ERR -->|408 Request Timeout| YES\n    ERR -->|429 Too Many Requests| WAIT[ëŒ€ê¸° í›„ ì¬ì‹œë„]\n    ERR -->|ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜| YES\n    \n    ERR -->|4xx Client Error| NO[ì¬ì‹œë„ X]\n    ERR -->|400, 401, 403, 404| NO\n```\n\n### Exponential Backoff with Jitter\n\n```mermaid\ngraph LR\n    R1[\"1ì°¨: 100ms\"] --> R2[\"2ì°¨: 200ms + jitter\"]\n    R2 --> R3[\"3ì°¨: 400ms + jitter\"]\n    R3 --> R4[\"4ì°¨: 800ms + jitter\"]\n    R4 --> FAIL[ìµœëŒ€ ë„ë‹¬]\n```\n\n**Jitterê°€ í•„ìš”í•œ ì´ìœ :**\n\n- ë™ì‹œì— ì‹¤íŒ¨í•œ í´ë¼ì´ì–¸íŠ¸ë“¤ì´ ë™ì‹œì— ì¬ì‹œë„ â†’ Thundering Herd\n- ëœë¤ ì§€ì—°ìœ¼ë¡œ ì¬ì‹œë„ ë¶„ì‚°\n\n---\n\n## Circuit Breaker\n\n### ìƒíƒœ ë¨¸ì‹ \n\n```mermaid\nstateDiagram-v2\n    [*] --> Closed: ì •ìƒ ë™ì‘\n    \n    Closed --> Open: ì‹¤íŒ¨ìœ¨ >= 60%<br/>(ìµœì†Œ 5íšŒ ìš”ì²­)\n    \n    Open --> HalfOpen: 30ì´ˆ ê²½ê³¼\n    \n    HalfOpen --> Closed: í…ŒìŠ¤íŠ¸ ì„±ê³µ\n    HalfOpen --> Open: í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨\n```\n\n### ìƒíƒœë³„ ë™ì‘\n\n| ìƒíƒœ | ìš”ì²­ ì²˜ë¦¬ | ë©”íŠ¸ë¦­ ìˆ˜ì§‘ |\n|------|----------|------------|\n| **Closed** | ì •ìƒ í†µê³¼ | O |\n| **Open** | ì¦‰ì‹œ ì‹¤íŒ¨ (Fallback) | X |\n| **Half-Open** | ì œí•œëœ ìˆ˜ë§Œ í†µê³¼ | O |\n\n### Resilience4j ëŒ€ì‘\n\n| Resilience4j | Go (sony/gobreaker) |\n|--------------|---------------------|\n| failureRateThreshold | ReadyToTrip ì½œë°± |\n| waitDurationInOpenState | Timeout |\n| permittedNumberOfCallsInHalfOpenState | MaxRequests |\n\n---\n\n## Rate Limiting\n\n### Token Bucket ì•Œê³ ë¦¬ì¦˜\n\n```mermaid\ngraph LR\n    FILL[\"í† í° ë³´ì¶©<br/>Nê°œ/ì´ˆ\"] --> BUCKET[\"ë²„í‚·<br/>ìµœëŒ€ Mê°œ\"]\n    BUCKET --> REQ[\"ìš”ì²­ ë„ì°©\"]\n    \n    REQ -->|í† í° ìˆìŒ| OK[ì²˜ë¦¬]\n    REQ -->|í† í° ì—†ìŒ| WAIT[ëŒ€ê¸°/ê±°ë¶€]\n```\n\n### ì™¸ë¶€ API Rate Limit ëŒ€ì‘\n\nì™¸ë¶€ APIê°€ 100 req/s ì œí•œì´ë¼ë©´:\n\n- **ìš°ë¦¬ ì„¤ì •**: 80 req/s (ì—¬ìœ ë¶„ 20%)\n- **ì´ìœ **: ë²„ìŠ¤íŠ¸ íŠ¸ë˜í”½, ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ ê³ ë ¤\n\n---\n\n## íŒ¨í„´ ì¡°í•© ì „ëµ\n\n### ì–¸ì œ ì–´ë–¤ íŒ¨í„´ì„?\n\n| ìƒí™© | ì ìš© íŒ¨í„´ |\n|------|----------|\n| ë„¤íŠ¸ì›Œí¬ ì¼ì‹œ ì¥ì•  | Retry + Exponential Backoff |\n| ì™¸ë¶€ ì„œë¹„ìŠ¤ ì¥ì•  | Circuit Breaker |\n| ì™¸ë¶€ API í˜¸ì¶œëŸ‰ ì œí•œ | Rate Limiting |\n| ëª¨ë“  ì™¸ë¶€ í˜¸ì¶œ | Timeout (í•„ìˆ˜) |\n\n### ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ â†’ ì •ì‹ ì±„íƒ\n\në¹ ë¥¸ ê°œë°œì„ ìœ„í•´ Timeoutë§Œ ì„¤ì •í–ˆìœ¼ë‚˜, í”„ë¡œë•ì…˜ ë°°í¬ í›„ ê°œì„ :\n\n1. **1ì°¨**: Timeoutë§Œ ì ìš© â†’ ì™¸ë¶€ ì¥ì•  ì‹œ ìš”ì²­ ëˆ„ì \n2. **2ì°¨**: Retry ì¶”ê°€ â†’ ì¬ì‹œë„ í­í’ ë°œìƒ\n3. **3ì°¨**: Circuit Breaker ì¶”ê°€ â†’ ì¥ì•  ê²©ë¦¬ ì„±ê³µ\n4. **ìµœì¢…**: Rate Limitingìœ¼ë¡œ ì•ˆì •ì„± í™•ë³´\n\n---\n\n## Go ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ\n\n| íŒ¨í„´ | ê¶Œì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ |\n|------|---------------|\n| Circuit Breaker | sony/gobreaker |\n| Retry | ì§ì ‘ êµ¬í˜„ ë˜ëŠ” avast/retry-go |\n| Rate Limiting | golang.org/x/time/rate |\n| í†µí•© | failsafe-go |\n\n---\n\n## ì •ë¦¬\n\n| íŒ¨í„´ | ëª©ì  | ì ìš© ìœ„ì¹˜ |\n|------|------|----------|\n| **Timeout** | ë¬´í•œ ëŒ€ê¸° ë°©ì§€ | í•„ìˆ˜, ëª¨ë“  ì™¸ë¶€ í˜¸ì¶œ |\n| **Retry** | ì¼ì‹œì  ì‹¤íŒ¨ ë³µêµ¬ | 5xx, ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ë§Œ |\n| **Circuit Breaker** | ì¥ì•  ì „íŒŒ ì°¨ë‹¨ | ì™¸ë¶€ ì˜ì¡´ì„± í˜¸ì¶œ |\n| **Rate Limiting** | ê³¼ë¶€í•˜ ë°©ì§€ | API í˜¸ì¶œëŸ‰ ì œí•œ ì‹œ |\n\n---\n\n## ë‹¤ìŒ í¸ ì˜ˆê³ \n\n**7í¸: í…ŒìŠ¤íŠ¸ ì „ëµê³¼ ì‹¤ì „**ì—ì„œëŠ” JUnit, Jestì— ëŒ€ì‘í•˜ëŠ” Goì˜ í…ŒìŠ¤íŠ¸ ìƒíƒœê³„ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [sony/gobreaker](https://github.com/sony/gobreaker)\n- [failsafe-go](https://failsafe-go.dev/)\n- [golang.org/x/time/rate](https://pkg.go.dev/golang.org/x/time/rate)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "HTTP Client",
      "Retry",
      "Circuit Breaker",
      "Rate Limiting",
      "Enterprise"
    ],
    "readingTime": 4,
    "wordCount": 716,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-01"
  },
  {
    "id": "enterprise-go-5-database",
    "slug": "enterprise-go-5-database",
    "path": "backend/go",
    "fullPath": "backend/go/enterprise-go-5-database",
    "title": "Enterprise Go ì‹œë¦¬ì¦ˆ #5: ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ íŒ¨í„´",
    "excerpt": "Springì˜ @Transactionalì²˜ëŸ¼ í¸ë¦¬í•˜ê²Œ íŠ¸ëœì­ì…˜ì„ ê´€ë¦¬í•˜ëŠ” Go íŒ¨í„´ì„ ë‹¤ë£¹ë‹ˆë‹¤. ì–´ë…¸í…Œì´ì…˜ í•˜ë‚˜ë¡œ í•´ê²°ë˜ë˜ ê²ƒì„ Goì—ì„œ ì–´ë–»ê²Œ êµ¬í˜„í• ê¹Œìš”?",
    "content": "# Enterprise Go ì‹œë¦¬ì¦ˆ #5: ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ íŒ¨í„´\n\n> **Spring ê°œë°œìë¥¼ ìœ„í•œ í•µì‹¬ ì§ˆë¬¸**\n> `@Transactional` ì–´ë…¸í…Œì´ì…˜ í•˜ë‚˜ë¡œ ë©”ì„œë“œë“¤ì„ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ë˜ í¸ë¦¬í•¨, Goì—ì„œë„ ê°€ëŠ¥í• ê¹Œìš”?\n\n## @Transactionalì˜ ë³¸ì§ˆ\n\n### Springì—ì„œì˜ ê²½í—˜\n\n```java\n@Transactional\npublic void transfer(String from, String to, BigDecimal amount) {\n    accountRepository.withdraw(from, amount);  // ê°™ì€ TX\n    accountRepository.deposit(to, amount);     // ê°™ì€ TX\n    logRepository.save(new TransferLog(...));  // ê°™ì€ TX\n}\n```\n\n**í•µì‹¬ í¸ì˜ì„±:**\n\n- ì–´ë…¸í…Œì´ì…˜ë§Œ ë¶™ì´ë©´ ë\n- ë©”ì„œë“œ ë‚´ ëª¨ë“  Repository í˜¸ì¶œì´ **ìë™ìœ¼ë¡œ ê°™ì€ íŠ¸ëœì­ì…˜**\n- ì˜ˆì™¸ ë°œìƒ ì‹œ **ìë™ ë¡¤ë°±**\n- ê°œë°œìëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ë§Œ ì§‘ì¤‘\n\n### Goì˜ í˜„ì‹¤\n\nGoì—ëŠ” AOPê°€ ì—†ìœ¼ë¯€ë¡œ `@Transactional`ê³¼ 100% ë™ì¼í•œ ê²½í—˜ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ **ë¹„ìŠ·í•œ ìˆ˜ì¤€ì˜ í¸ì˜ì„±**ì„ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## ëª©í‘œ: @Transactionalê³¼ ìœ ì‚¬í•œ ê²½í—˜\n\n### ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²ƒ\n\n```mermaid\ngraph LR\n    subgraph \"Spring\"\n        A[\"@Transactional<br/>ì–´ë…¸í…Œì´ì…˜ í•œ ì¤„\"]\n    end\n    \n    subgraph \"Go ëª©í‘œ\"\n        B[\"WithTx(ctx, func(ctx) {...})<br/>ë˜í¼ í•¨ìˆ˜ í•œ ì¤„\"]\n    end\n    \n    A --> RESULT[Repositoryë“¤ì´<br/>ê°™ì€ TX ì‚¬ìš©]\n    B --> RESULT\n```\n\n### í•µì‹¬ ì•„ì´ë””ì–´\n\n```mermaid\nsequenceDiagram\n    participant Service\n    participant WithTx\n    participant Repository1\n    participant Repository2\n    participant DB\n    \n    Service->>WithTx: WithTx(ctx, func(ctx) error)\n    WithTx->>DB: BEGIN\n    WithTx->>WithTx: ctxì— TX ì‚½ì…\n    \n    WithTx->>Service: ctx (TX í¬í•¨)\n    \n    Service->>Repository1: Withdraw(ctx, ...)\n    Repository1->>Repository1: ctxì—ì„œ TX ì¶”ì¶œ\n    Repository1->>DB: UPDATE (TX ì‚¬ìš©)\n    \n    Service->>Repository2: Deposit(ctx, ...)\n    Repository2->>Repository2: ctxì—ì„œ TX ì¶”ì¶œ\n    Repository2->>DB: UPDATE (ê°™ì€ TX)\n    \n    alt ì„±ê³µ\n        WithTx->>DB: COMMIT\n    else ì—ëŸ¬\n        WithTx->>DB: ROLLBACK\n    end\n```\n\n---\n\n## êµ¬í˜„ íŒ¨í„´\n\n### ì‚¬ìš© ì½”ë“œ (UseCase)\n\nSpringì˜ `@Transactional`ê³¼ ìœ ì‚¬í•˜ê²Œ, **ë˜í¼ í•¨ìˆ˜ í•œ ì¤„**ë¡œ íŠ¸ëœì­ì…˜ ê²½ê³„ë¥¼ ì •ì˜í•©ë‹ˆë‹¤:\n\n```go\nfunc (u *TransferUseCase) Transfer(ctx context.Context, from, to string, amount int64) error {\n    // WithTx í•œ ì¤„ë¡œ íŠ¸ëœì­ì…˜ ì‹œì‘ - @Transactionalê³¼ ìœ ì‚¬!\n    return database.WithTx(ctx, u.db, func(ctx context.Context) error {\n        // ì´ ì•ˆì˜ ëª¨ë“  Repository í˜¸ì¶œì€ ê°™ì€ íŠ¸ëœì­ì…˜\n        if err := u.accountRepo.Withdraw(ctx, from, amount); err != nil {\n            return err  // ìë™ ë¡¤ë°±\n        }\n        if err := u.accountRepo.Deposit(ctx, to, amount); err != nil {\n            return err  // ìë™ ë¡¤ë°±\n        }\n        return u.logRepo.Save(ctx, &TransferLog{...})\n    })\n    // ì„±ê³µ ì‹œ ìë™ ì»¤ë°‹, ì‹¤íŒ¨ ì‹œ ìë™ ë¡¤ë°±\n}\n```\n\n### RepositoryëŠ” íŠ¸ëœì­ì…˜ì„ ëª¨ë¦„\n\n```go\nfunc (r *AccountRepository) Withdraw(ctx context.Context, id string, amount int64) error {\n    // ctxì—ì„œ TXê°€ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ ì¼ë°˜ DB\n    db := database.GetDB(ctx, r.db)\n    return db.Model(&Account{}).Where(\"id = ?\", id).\n        Update(\"balance\", gorm.Expr(\"balance - ?\", amount)).Error\n}\n```\n\n---\n\n## Spring vs Go ë¹„êµ\n\n| ì¸¡ë©´ | Spring @Transactional | Go WithTx |\n|------|----------------------|-----------|\n| ë¬¸ë²• | ì–´ë…¸í…Œì´ì…˜ | ë˜í¼ í•¨ìˆ˜ |\n| ëª…ì‹œì„± | ì•”ë¬µì  | ëª…ì‹œì  |\n| íŠ¸ëœì­ì…˜ ì „íŒŒ | ì„ ì–¸ì  (REQUIRED ë“±) | Context ì „ë‹¬ |\n| ë¡¤ë°± ì¡°ê±´ | ì˜ˆì™¸ íƒ€ì… ê¸°ë°˜ | error ë°˜í™˜ |\n| í•™ìŠµ ê³¡ì„  | AOP ì´í•´ í•„ìš” | Context ì´í•´ í•„ìš” |\n\n### Goì˜ ì¥ì \n\n- **ëª…ì‹œì **: íŠ¸ëœì­ì…˜ ê²½ê³„ê°€ ì½”ë“œì— ë³´ì„\n- **í…ŒìŠ¤íŠ¸ ìš©ì´**: Mock Context ì£¼ì… ê°€ëŠ¥\n- **ë””ë²„ê¹… ìš©ì´**: ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ëª…í™•\n\n### Goì˜ ë‹¨ì \n\n- **ë°˜ë³µ ì½”ë“œ**: ë§¤ë²ˆ WithTx í˜¸ì¶œ í•„ìš”\n- **ê·œìœ¨ í•„ìš”**: GetDB í˜¸ì¶œ ëˆ„ë½ ì‹œ ë³„ë„ TX ì‚¬ìš©\n\n---\n\n## Connection Pool ì„¤ì •\n\n### í•µì‹¬ ì„¤ì •\n\n| ì„¤ì • | ê¶Œì¥ | ì´ìœ  |\n|------|------|------|\n| MaxOpenConns | 25-50 | DB ë™ì‹œ ì—°ê²° ì œí•œ ê³ ë ¤ |\n| MaxIdleConns | 10-25 | Openì˜ 40-50% |\n| ConnMaxLifetime | 5ë¶„ | ë°©í™”ë²½/LB íƒ€ì„ì•„ì›ƒ ê³ ë ¤ |\n\n### Spring ëŒ€ì‘\n\n| Spring | Go |\n|--------|-----|\n| HikariCP maximumPoolSize | MaxOpenConns |\n| minimumIdle | MaxIdleConns |\n| maxLifetime | ConnMaxLifetime |\n\n---\n\n## ì •ë¦¬\n\n| ìš”ì†Œ | ì—­í•  |\n|------|------|\n| **WithTx** | @Transactional ëŒ€ì‘, íŠ¸ëœì­ì…˜ ê²½ê³„ |\n| **GetDB** | Contextì—ì„œ TX ì¶”ì¶œ |\n| **Repository** | TXë¥¼ ëª¨ë¦„, Contextë§Œ ë°›ìŒ |\n\n**í•µì‹¬ ë©”ì‹œì§€**: Goì—ì„œë„ `WithTx` ë˜í¼ í•˜ë‚˜ë¡œ Springì˜ `@Transactional`ê³¼ ìœ ì‚¬í•œ í¸ì˜ì„±ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## ë‹¤ìŒ í¸ ì˜ˆê³ \n\n**6í¸: Resilientí•œ ì™¸ë¶€ í†µì‹ **ì—ì„œëŠ” Resilience4jì— ëŒ€ì‘í•˜ëŠ” Goì˜ Circuit Breaker, Retry íŒ¨í„´ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [GORM ê³µì‹ ë¬¸ì„œ](https://gorm.io/)\n- [database/sql](https://golang.org/pkg/database/sql/)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "GORM",
      "Database",
      "Transaction",
      "Repository",
      "Enterprise"
    ],
    "readingTime": 3,
    "wordCount": 594,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-01"
  },
  {
    "id": "enterprise-go-4-goroutine-channel",
    "slug": "enterprise-go-4-goroutine-channel",
    "path": "backend/go",
    "fullPath": "backend/go/enterprise-go-4-goroutine-channel",
    "title": "Enterprise Go ì‹œë¦¬ì¦ˆ #4: Goroutineê³¼ Channel ì‹¤ì „ í™œìš©",
    "excerpt": "ExecutorService, Worker Threadsì— ìµìˆ™í•œ ê°œë°œìë¥¼ ìœ„í•œ Go ë™ì‹œì„± ëª¨ë¸ ê°€ì´ë“œ. Goroutineì˜ ë©”ëª¨ë¦¬ íŠ¹ì„±ê³¼ ì•ˆì „í•œ íŒ¨í„´ì„ ë‹¤ë£¹ë‹ˆë‹¤.",
    "content": "# Enterprise Go ì‹œë¦¬ì¦ˆ #4: Goroutineê³¼ Channel ì‹¤ì „ í™œìš©\n\n> **ë‹¤ë¥¸ ì–¸ì–´ ê²½í—˜ìë¥¼ ìœ„í•œ ë§¤í•‘**\n>\n> - Java: `ExecutorService`, `CompletableFuture`\n> - Node.js: Worker Threads, `Promise.all`\n> - Rust: `tokio::spawn`, `mpsc`\n\n## Goroutineì˜ ì‹¤ì²´\n\n### Java Thread vs Go Goroutine\n\n| íŠ¹ì„± | Java Thread | Go Goroutine |\n|------|------------|--------------|\n| ì´ˆê¸° ìŠ¤íƒ | ~1MB (OS í• ë‹¹) | **~2KB** (Go ëŸ°íƒ€ì„) |\n| ìµœëŒ€ ìŠ¤íƒ | ê³ ì • | **ë™ì  í™•ì¥** (ìµœëŒ€ 1GB) |\n| ìŠ¤ì¼€ì¤„ë§ | OS ì»¤ë„ | Go ëŸ°íƒ€ì„ (M:N) |\n| ìƒì„± ë¹„ìš© | ë†’ìŒ | ë‚®ìŒ |\n| ì‹¤ìš©ì  ìƒí•œ | ìˆ˜ì²œ ê°œ | **ìˆ˜ì‹­ë§Œ ê°œ** |\n\n### ì™œ ì œí•œì´ í•„ìš”í•œê°€?\n\nGoroutineì´ ê°€ë³ë‹¤ê³  í•´ì„œ ë¬´ì œí•œì€ ì•„ë‹™ë‹ˆë‹¤.\n\n**ì‹¤ì¦ì  ê·¼ê±°:**\n\n- ì´ˆê¸° ìŠ¤íƒ 2KB + ë””ìŠ¤í¬ë¦½í„° ~400ë°”ì´íŠ¸ â‰ˆ **ì•½ 2.4KB / goroutine**\n- 100,000ê°œ goroutine = **ìµœì†Œ 240MB** ë©”ëª¨ë¦¬\n- ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ì œí•œ(512MB~2GB)ì—ì„œ OOM ìœ„í—˜\n\n```mermaid\ngraph LR\n    subgraph \"ë©”ëª¨ë¦¬ ê³„ì‚°\"\n        G[100,000 goroutines] --> MEM[\"240MB+ ë©”ëª¨ë¦¬\"]\n        MEM --> LIMIT[\"ì»¨í…Œì´ë„ˆ ì œí•œ ì´ˆê³¼\"]\n        LIMIT --> OOM[\"OOM Killer\"]\n    end\n```\n\n**ì‹¤ì œ OOM ì‹œë‚˜ë¦¬ì˜¤:**\n\n1. ìš”ì²­ë§ˆë‹¤ goroutine ìƒì„±\n2. ì™¸ë¶€ API ì‘ë‹µ ì§€ì—°ìœ¼ë¡œ goroutine ëŒ€ê¸°\n3. ëŒ€ê¸° ì¤‘ì¸ goroutine ëˆ„ì \n4. ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ì œí•œ ë„ë‹¬ â†’ ê°•ì œ ì¢…ë£Œ\n\n---\n\n## Java ê°œë°œìë¥¼ ìœ„í•œ íŒ¨í„´ ë§¤í•‘\n\n### ExecutorService â†’ Worker Pool\n\n```mermaid\ngraph TB\n    subgraph \"Java ExecutorService\"\n        JES[newFixedThreadPool 10]\n        JQ[BlockingQueue]\n        JES --> JQ\n    end\n    \n    subgraph \"Go Worker Pool\"\n        GW[10 Worker Goroutines]\n        GC[Buffered Channel]\n        GW --> GC\n    end\n```\n\n| Java | Go |\n|------|-----|\n| `Executors.newFixedThreadPool(10)` | Worker Pool íŒ¨í„´ |\n| `executor.submit(task)` | `jobs <- task` |\n| `Future.get()` | `<-results` |\n\n### CompletableFuture.allOf â†’ errgroup\n\n```mermaid\nsequenceDiagram\n    participant Main\n    participant G1 as Goroutine 1\n    participant G2 as Goroutine 2\n    participant G3 as Goroutine 3\n    \n    Main->>G1: g.Go(fn1)\n    Main->>G2: g.Go(fn2)\n    Main->>G3: g.Go(fn3)\n    \n    G2->>Main: return error\n    Note over Main: Context ì·¨ì†Œ ì „íŒŒ\n    \n    G1-->>Main: ctx.Done() ê°ì§€\n    G3-->>Main: ctx.Done() ê°ì§€\n    \n    Main->>Main: g.Wait() - ì²« ì—ëŸ¬ ë°˜í™˜\n```\n\n**Javaì™€ì˜ ì°¨ì´ì :**\n\n- `CompletableFuture.allOf`ëŠ” ëª¨ë“  ì™„ë£Œë¥¼ ê¸°ë‹¤ë¦¼\n- `errgroup`ì€ ì²« ì—ëŸ¬ ì‹œ ë‚˜ë¨¸ì§€ **ì·¨ì†Œ ê°€ëŠ¥** (Context ì—°ë™)\n\n---\n\n## Channel ì„¤ê³„ ì›ì¹™\n\n### Buffered vs Unbuffered\n\n| íƒ€ì… | Java ëŒ€ì‘ | ì‚¬ìš© ì‹œì  |\n|------|----------|----------|\n| Unbuffered | `SynchronousQueue` | í•¸ë“œì…°ì´í¬, ë™ê¸° í†µì‹  |\n| Buffered | `ArrayBlockingQueue` | ë°±í”„ë ˆì…”, ë¹„ë™ê¸° |\n\n### ë‹«ê¸° ê·œì¹™\n\n```mermaid\ngraph LR\n    PRODUCER[\"Producer<br/>(Channel ìƒì„±ì)\"] -->|close| CH[Channel]\n    CH --> C1[Consumer 1]\n    CH --> C2[Consumer 2]\n```\n\n**Javaì™€ì˜ ì°¨ì´:**\n\n- Java: `BlockingQueue`ëŠ” ë³´í†µ ë‹«ì§€ ì•ŠìŒ\n- Go: **Producerê°€ close() í˜¸ì¶œ** (ê·œì¹™)\n\n---\n\n## ë™ê¸°í™” ë„êµ¬ ì„ íƒ\n\n### Mutex vs Channel\n\n```mermaid\ngraph TD\n    Q{ë¬´ì—‡ì´ í•„ìš”í•œê°€?}\n    Q -->|ìƒíƒœ ë³´í˜¸| MUTEX[sync.Mutex]\n    Q -->|ë°ì´í„° ì „ë‹¬| CHANNEL[Channel]\n    \n    MUTEX --> M1[\"ìºì‹œ, ì¹´ìš´í„°\"]\n    CHANNEL --> C1[\"ì‘ì—… ë¶„ë°°, ì´ë²¤íŠ¸\"]\n```\n\n| ìƒí™© | Java | Go |\n|------|------|-----|\n| ê³µìœ  ìƒíƒœ ë³´í˜¸ | `synchronized` | `sync.Mutex` |\n| ì‘ì—… ë¶„ë°° | `BlockingQueue` | Channel |\n| ë³‘ë ¬ ì‹¤í–‰ í›„ ìˆ˜ì§‘ | `CompletableFuture` | errgroup |\n\n---\n\n## Race Detector\n\nGoì˜ ê°•ë ¥í•œ ì¥ì  ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. Javaì˜ ThreadSanitizerì— ëŒ€ì‘ë˜ë‚˜, **í‘œì¤€ ë„êµ¬ë¡œ ë‚´ì¥**ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n```bash\ngo test -race ./...\ngo build -race ./cmd/myapp\n```\n\n**CI í•„ìˆ˜ ì ìš© ê¶Œì¥** - ëŸ°íƒ€ì„ ì˜¤ë²„í—¤ë“œê°€ ìˆìœ¼ë‚˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” ë¬¸ì œì—†ìŒ\n\n---\n\n## ì •ë¦¬\n\n| ê°œë… | Java ëŒ€ì‘ | Go |\n|------|----------|-----|\n| ìŠ¤ë ˆë“œ í’€ | ExecutorService | Worker Pool + Channel |\n| ë³‘ë ¬ ì‹¤í–‰ | CompletableFuture | errgroup |\n| ê³µìœ  ìƒíƒœ | synchronized | sync.Mutex |\n| ë©”ì‹œì§€ ì „ë‹¬ | BlockingQueue | Channel |\n| ê²½ìŸ ìƒíƒœ íƒì§€ | ThreadSanitizer | -race í”Œë˜ê·¸ |\n\n---\n\n## ë‹¤ìŒ í¸ ì˜ˆê³ \n\n**5í¸: ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ íŒ¨í„´**ì—ì„œëŠ” Springì˜ `@Transactional`ì— ëŒ€ì‘í•˜ëŠ” Goì˜ íŠ¸ëœì­ì…˜ ê´€ë¦¬ ì „ëµì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [Go Concurrency Patterns](https://talks.golang.org/2012/concurrency.slide)\n- [errgroup Package](https://pkg.go.dev/golang.org/x/sync/errgroup)\n- [Goroutine Stack Size](https://go.dev/blog/go1.4)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Goroutine",
      "Channel",
      "Concurrency",
      "errgroup",
      "Enterprise"
    ],
    "readingTime": 3,
    "wordCount": 583,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-01"
  },
  {
    "id": "enterprise-go-3-context",
    "slug": "enterprise-go-3-context",
    "path": "backend/go",
    "fullPath": "backend/go/enterprise-go-3-context",
    "title": "Enterprise Go ì‹œë¦¬ì¦ˆ #3: Contextë¡œ ìš”ì²­ ìƒëª…ì£¼ê¸° ê´€ë¦¬",
    "excerpt": "Javaì˜ ThreadLocal, Node.jsì˜ AsyncLocalStorageì— ìµìˆ™í•œ ê°œë°œìë¥¼ ìœ„í•œ Go Context íŒ¨í„´ ê°€ì´ë“œì…ë‹ˆë‹¤.",
    "content": "# Enterprise Go ì‹œë¦¬ì¦ˆ #3: Contextë¡œ ìš”ì²­ ìƒëª…ì£¼ê¸° ê´€ë¦¬\n\n> **ë‹¤ë¥¸ ìƒíƒœê³„ ê²½í—˜ìë¥¼ ìœ„í•œ ë§¤í•‘**\n>\n> - Java: ThreadLocal, MDC\n> - Node.js: AsyncLocalStorage\n> - Python: contextvars\n\n## Contextì˜ ì—­í• \n\n### ë‹¤ë¥¸ ì–¸ì–´ì™€ì˜ ë¹„êµ\n\n| ê¸°ëŠ¥ | Java | Node.js | Go |\n|------|------|---------|-----|\n| ìš”ì²­ ë²”ìœ„ ê°’ | ThreadLocal | AsyncLocalStorage | context.WithValue |\n| íƒ€ì„ì•„ì›ƒ | ExecutorService timeout | AbortController | context.WithTimeout |\n| ì·¨ì†Œ ì „íŒŒ | Future.cancel() | AbortSignal | context.WithCancel |\n\n### í•µì‹¬ ì°¨ì´ì \n\nGo ContextëŠ” ì„¸ ê°€ì§€ ì—­í• ì„ **í•˜ë‚˜ì˜ ì¸í„°í˜ì´ìŠ¤**ì—ì„œ ì²˜ë¦¬:\n\n1. ê°’ ì „íŒŒ (Request ID, Trace ID)\n2. íƒ€ì„ì•„ì›ƒ\n3. ì·¨ì†Œ ì‹ í˜¸ ì „íŒŒ\n\n---\n\n## íƒ€ì„ì•„ì›ƒ ì„¤ê³„\n\n### ê³„ì¸µë³„ ì „ëµ\n\n```mermaid\ngraph TB\n    HTTP[\"HTTP ì „ì²´: 30s\"] --> UC[\"UseCase: 10s\"]\n    UC --> DB[\"DB ì¿¼ë¦¬: 3s\"]\n    UC --> EXT[\"ì™¸ë¶€ API: 5s\"]\n```\n\n**ì›ì¹™**: í•˜ìœ„ íƒ€ì„ì•„ì›ƒ í•© < ìƒìœ„ íƒ€ì„ì•„ì›ƒ\n\n### Spring vs Go\n\n| Spring | Go |\n|--------|-----|\n| @Transactional(timeout=3) | WithTimeout(ctx, 3*time.Second) |\n| RestTemplate.setConnectTimeout | http.Client Timeout |\n\n---\n\n## ì·¨ì†Œ ì „íŒŒ\n\n### ì™œ ì¤‘ìš”í•œê°€?\n\n```mermaid\nsequenceDiagram\n    participant Client\n    participant Server\n    participant DB\n    participant API\n    \n    Client->>Server: ìš”ì²­\n    Server->>DB: ì¿¼ë¦¬ ì‹œì‘\n    Server->>API: API í˜¸ì¶œ ì‹œì‘\n    Client-xServer: ì—°ê²° ëŠê¹€\n    \n    Note over DB,API: Context ì „íŒŒ O<br/>â†’ ëª¨ë‘ ì·¨ì†Œ\n    Note over DB,API: Context ì „íŒŒ X<br/>â†’ ê³„ì† ì‹¤í–‰ (ë‚­ë¹„)\n```\n\n### Java ëŒ€ì‘\n\n| Java | Go |\n|------|-----|\n| Future.cancel(true) | cancel() í˜¸ì¶œ |\n| InterruptedException | ctx.Done() ì±„ë„ |\n\n---\n\n## Request ID ì „íŒŒ\n\n### MDC vs Context\n\n```mermaid\ngraph LR\n    subgraph \"Java MDC\"\n        FILTER[Filter] --> MDC[\"MDC.put('requestId')\"]\n        MDC --> SERVICE[Service]\n        SERVICE --> LOG[\"ìë™ í¬í•¨\"]\n    end\n    \n    subgraph \"Go Context\"\n        MW[Middleware] --> CTX[\"WithValue(requestID)\"]\n        CTX --> HANDLER[Handler]\n        HANDLER --> LOGGER[\"logger.With(ctx)\"]\n    end\n```\n\n---\n\n## ì•ˆí‹°íŒ¨í„´\n\n### Contextë¥¼ êµ¬ì¡°ì²´ì— ì €ì¥\n\n```mermaid\ngraph TD\n    BAD[\"struct { ctx Context }\"] --> PROBLEM1[\"ìƒëª…ì£¼ê¸° ë¶ˆì¼ì¹˜\"]\n    BAD --> PROBLEM2[\"ì·¨ì†Œ ì‹ í˜¸ ë¬´ì‹œ\"]\n    \n    GOOD[\"func(ctx Context)\"] --> OK[\"ë§¤ë²ˆ ìµœì‹  ctx ì‚¬ìš©\"]\n```\n\n### Spring ê°œë°œì ì£¼ì˜ì \n\n| Spring ìŠµê´€ | Go ê·œì¹™ |\n|------------|---------|\n| @Autowiredë¡œ ì£¼ì… | **íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬** |\n| ThreadLocalì— ì €ì¥ | **ì €ì¥í•˜ì§€ ì•ŠìŒ** |\n| ì„ íƒì  ì‚¬ìš© | **ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„° (í•„ìˆ˜)** |\n\n---\n\n## ì •ë¦¬\n\n| ê°œë… | Java/Spring | Go |\n|------|-------------|-----|\n| ìš”ì²­ ë²”ìœ„ ê°’ | ThreadLocal/MDC | WithValue |\n| íƒ€ì„ì•„ì›ƒ | @Transactional timeout | WithTimeout |\n| ì·¨ì†Œ | Future.cancel | cancel() |\n| ì‚¬ìš© íŒ¨í„´ | ì•”ë¬µì  (ThreadLocal) | **ëª…ì‹œì  (íŒŒë¼ë¯¸í„°)** |\n\n---\n\n## ë‹¤ìŒ í¸ ì˜ˆê³ \n\n**4í¸: Goroutineê³¼ Channel ì‹¤ì „ í™œìš©**ì—ì„œëŠ” Javaì˜ ExecutorService, Node.jsì˜ Worker Threadsì— ëŒ€ì‘í•˜ëŠ” Go ë™ì‹œì„± íŒ¨í„´ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [Go Blog: Context](https://blog.golang.org/context)\n- [context Package](https://pkg.go.dev/context)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Context",
      "Timeout",
      "Cancellation",
      "Tracing",
      "Enterprise"
    ],
    "readingTime": 3,
    "wordCount": 409,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-01"
  },
  {
    "id": "enterprise-go-2-http-server",
    "slug": "enterprise-go-2-http-server",
    "path": "backend/go",
    "fullPath": "backend/go/enterprise-go-2-http-server",
    "title": "Enterprise Go ì‹œë¦¬ì¦ˆ #2: ê²¬ê³ í•œ HTTP ì„œë²„ êµ¬ì¶•",
    "excerpt": "Spring MVCì˜ Filter/Interceptor, Expressì˜ Middlewareì— ìµìˆ™í•œ ê°œë°œìë¥¼ ìœ„í•œ Echo ë¯¸ë“¤ì›¨ì–´ ì„¤ê³„ ê°€ì´ë“œì…ë‹ˆë‹¤.",
    "content": "# Enterprise Go ì‹œë¦¬ì¦ˆ #2: ê²¬ê³ í•œ HTTP ì„œë²„ êµ¬ì¶•\n\n> **ë‹¤ë¥¸ ìƒíƒœê³„ ê²½í—˜ìë¥¼ ìœ„í•œ ë§¤í•‘**\n>\n> - Java: Spring MVC Filter, HandlerInterceptor\n> - Node.js: Express Middleware\n> - Python: Django Middleware, FastAPI Middleware\n\n## ë¯¸ë“¤ì›¨ì–´ ì²´ì¸: ìˆœì„œê°€ ì¤‘ìš”í•˜ë‹¤\n\n### ì‹¤í–‰ íë¦„\n\n```mermaid\nsequenceDiagram\n    participant Client\n    participant Recover\n    participant RequestID\n    participant Logger\n    participant Auth\n    participant Handler\n    \n    Client->>Recover: Request\n    Recover->>RequestID: \n    RequestID->>Logger: \n    Logger->>Auth: \n    Auth->>Handler: \n    Handler-->>Auth: Response\n    Auth-->>Logger: \n    Logger-->>RequestID: \n    RequestID-->>Recover: \n    Recover-->>Client: \n```\n\n### ê¶Œì¥ ìˆœì„œì™€ ì´ìœ \n\n| ìˆœì„œ | ë¯¸ë“¤ì›¨ì–´ | Spring ëŒ€ì‘ | ìœ„ì¹˜ ì´ìœ  |\n|------|---------|------------|----------|\n| 1 | Recover | @ControllerAdvice | íŒ¨ë‹‰ â†’ 500 ë³€í™˜ |\n| 2 | Request ID | MDC ì„¤ì • | ë¡œê¹… ì „ ID í•„ìš” |\n| 3 | Logger | AccessLogFilter | ì¸ì¦ ì‹¤íŒ¨ë„ ë¡œê¹… |\n| 4 | CORS | CorsFilter | preflight ì²˜ë¦¬ |\n| 5 | Auth | SecurityFilter | í•¸ë“¤ëŸ¬ ë³´í˜¸ |\n\n### ê²½í—˜ë‹´\n\në¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ì„ ìœ„í•´ ë¯¸ë“¤ì›¨ì–´ ìˆœì„œë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì•˜ìœ¼ë‚˜, ì •ì‹ ì±„íƒ í›„:\n\n> Recoverë¥¼ Auth ë’¤ì— ë‘ì—ˆë”ë‹ˆ, ì¸ì¦ ë¡œì§ íŒ¨ë‹‰ ì‹œ ì‘ë‹µ ì—†ì´ ì—°ê²° ëŠê¹€\n\n> Loggerë¥¼ RequestID ì•ì— ë‘ì—ˆë”ë‹ˆ, ë¡œê·¸ì—ì„œ ìš”ì²­ ì¶”ì  ë¶ˆê°€\n\n---\n\n## ì—ëŸ¬ í•¸ë“¤ë§\n\n### ì¼ê´€ëœ ì‘ë‹µ êµ¬ì¡°\n\n```mermaid\ngraph TD\n    subgraph \"í‘œì¤€ ì—ëŸ¬ ì‘ë‹µ\"\n        CODE[\"code: 'VALIDATION_ERROR'\"]\n        MSG[\"message: 'ì´ë©”ì¼ í˜•ì‹ ì˜¤ë¥˜'\"]\n        DETAILS[\"details: {...}\"]\n    end\n```\n\n### ë„ë©”ì¸ ì—ëŸ¬ â†’ HTTP ë§¤í•‘\n\n| Domain Error | HTTP Status | Spring ëŒ€ì‘ |\n|--------------|-------------|------------|\n| ErrNotFound | 404 | @ResponseStatus |\n| ErrValidation | 400 | MethodArgumentNotValidException |\n| ErrUnauthorized | 401 | AuthenticationException |\n| ê¸°íƒ€ | 500 | @ExceptionHandler |\n\n---\n\n## Graceful Shutdown\n\n### ì™œ í•„ìš”í•œê°€?\n\n```mermaid\nsequenceDiagram\n    participant K8s\n    participant Pod\n    participant Client\n    \n    K8s->>Pod: SIGTERM\n    Pod->>Pod: ìƒˆ ìš”ì²­ ê±°ë¶€\n    Pod->>Client: ì§„í–‰ ì¤‘ ìš”ì²­ ì™„ë£Œ\n    Pod->>K8s: ì •ìƒ ì¢…ë£Œ\n```\n\n### Spring vs Go\n\n| ì¸¡ë©´ | Spring Boot | Go Echo |\n|------|-------------|---------|\n| ì„¤ì • | server.shutdown=graceful | ì§ì ‘ êµ¬í˜„ |\n| íƒ€ì„ì•„ì›ƒ | spring.lifecycle.timeout-per-shutdown-phase | WithTimeout |\n| ì‹œê·¸ë„ | ìë™ ì²˜ë¦¬ | signal.NotifyContext |\n\n### run.Group íŒ¨í„´ (Prometheus ë°©ì‹)\n\nì„œë²„ê°€ ì—¬ëŸ¬ ê³ ë£¨í‹´(ì›¹ ì„œë²„, ì›Œì»¤, í—¬ìŠ¤ì²´í¬ ë“±)ìœ¼ë¡œ êµ¬ì„±ë  ë•Œ:\n\n```go\nimport \"github.com/oklog/run\"\n\nvar g run.Group\n\n// HTTP ì„œë²„\ng.Add(func() error {\n    return server.ListenAndServe()\n}, func(err error) {\n    server.Shutdown(ctx)\n})\n\n// ë°±ê·¸ë¼ìš´ë“œ ì›Œì»¤\ng.Add(func() error {\n    return worker.Run()\n}, func(err error) {\n    worker.Stop()\n})\n\n// í•˜ë‚˜ë¼ë„ ì¢…ë£Œë˜ë©´ ì „ì²´ ì¢…ë£Œ\nif err := g.Run(); err != nil {\n    log.Error(err)\n}\n```\n\n**ì¥ì :** ì‹œê·¸ë„ ì²˜ë¦¬, ì—ëŸ¬ ì „íŒŒ, ì¢…ë£Œ ìˆœì„œë¥¼ í•œ ê³³ì—ì„œ ê´€ë¦¬\n\n---\n\n## ì •ë¦¬\n\n| ìš”ì†Œ | í•µì‹¬ |\n|------|------|\n| ë¯¸ë“¤ì›¨ì–´ ìˆœì„œ | Recover â†’ RequestID â†’ Logger â†’ Auth |\n| ì—ëŸ¬ í•¸ë“¤ë§ | ë„ë©”ì¸ ì—ëŸ¬ â†’ HTTP ìƒíƒœ ë§¤í•‘ |\n| Graceful Shutdown | SIGTERM ì²˜ë¦¬, run.Group íŒ¨í„´ |\n\n---\n\n## ë‹¤ìŒ í¸ ì˜ˆê³ \n\n**3í¸: Contextë¡œ ìš”ì²­ ìƒëª…ì£¼ê¸° ê´€ë¦¬**ì—ì„œëŠ” Javaì˜ ThreadLocal, Node.jsì˜ AsyncLocalStorageì— ëŒ€ì‘í•˜ëŠ” Context íŒ¨í„´ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [Echo ê³µì‹ ë¬¸ì„œ](https://echo.labstack.com/)\n- [Graceful Shutdown](https://pkg.go.dev/net/http#Server.Shutdown)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Echo",
      "HTTP",
      "Middleware",
      "Graceful Shutdown",
      "Enterprise"
    ],
    "readingTime": 3,
    "wordCount": 460,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-01"
  },
  {
    "id": "enterprise-go-1-project-structure",
    "slug": "enterprise-go-1-project-structure",
    "path": "backend/go",
    "fullPath": "backend/go/enterprise-go-1-project-structure",
    "title": "Enterprise Go ì‹œë¦¬ì¦ˆ #1: í”„ë¡œì íŠ¸ ì„¤ê³„ì™€ êµ¬ì¡°í™”",
    "excerpt": "Kubernetes, Docker CLI, Prometheus, Hugoì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ë¶„ì„í•˜ì—¬ ë„ì¶œí•œ Go í”„ë¡œì íŠ¸ êµ¬ì¡° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.",
    "content": "# Enterprise Go ì‹œë¦¬ì¦ˆ #1: í”„ë¡œì íŠ¸ ì„¤ê³„ì™€ êµ¬ì¡°í™”\n\n> **ëŒ€ìƒ ë…ì**: Java, Node.js ë“± ë‹¤ë¥¸ ìƒíƒœê³„ì—ì„œ ì¶©ë¶„í•œ ê²½í—˜ì„ ìŒ“ì€ í›„ Goë¡œ ì „í™˜í•˜ëŠ” ì‹œë‹ˆì–´ ì—”ì§€ë‹ˆì–´\n\n## ì‹œë¦¬ì¦ˆ ì†Œê°œ\n\n| # | ì£¼ì œ | ë‹¤ë¥¸ ì–¸ì–´ì—ì„œì˜ ëŒ€ì‘ ê°œë… |\n|---|------|------------------------|\n| **1** | í”„ë¡œì íŠ¸ ì„¤ê³„ | Maven ë©€í‹°ëª¨ë“ˆ, Gradle ì»¨ë²¤ì…˜ |\n| 2 | HTTP ì„œë²„ | Spring MVC, Express |\n| 3 | Context | ThreadLocal, AsyncLocalStorage |\n| 4 | ë™ì‹œì„± | ExecutorService, Worker Threads |\n| 5 | ë°ì´í„°ë² ì´ìŠ¤ | @Transactional, Sequelize |\n| 6 | ì™¸ë¶€ í†µì‹  | Resilience4j, Polly |\n| 7 | í…ŒìŠ¤íŠ¸ | JUnit, Jest |\n| 8 | Observability | Micrometer, Winston |\n| 9 | Makefile | npm scripts, Gradle tasks |\n\n---\n\n## ì‹¤ì œ í”„ë¡œë•ì…˜ í”„ë¡œì íŠ¸ ë¶„ì„\n\nì´ë¡ ì´ ì•„ë‹Œ **ì‹¤ì œ ì½”ë“œ**ë¥¼ ë¶„ì„í–ˆìŠµë‹ˆë‹¤:\n\n| í”„ë¡œì íŠ¸ | íŠ¹ì„± | Main ì—­í•  | ì¡°ë¦½ ì½”ë“œ ìœ„ì¹˜ |\n|---------|------|----------|--------------|\n| Kubernetes | ê±°ëŒ€ ëª¨ë†€ë¦¬ìŠ¤ | ìµœì†Œí™” | `cmd/<bin>/app/` |\n| Docker CLI | CLI ë„êµ¬ | ìµœì†Œí™” | `cli/command/` |\n| Prometheus | ë°ëª¬/ì„œë¹„ìŠ¤ | ì¤‘ê°„ | `main.go` ë‚´ë¶€ |\n| Hugo | ì»´íŒŒì¼ëŸ¬ | ìµœì†Œí™” | `commands/` |\n\n---\n\n## í•µì‹¬ ì¸ì‚¬ì´íŠ¸: Hollow Main íŒ¨í„´\n\n> **í”„ë¡œì íŠ¸ê°€ ì„±ìˆ™í• ìˆ˜ë¡ main í•¨ìˆ˜ëŠ” ë¹„ì–´ê°„ë‹¤.**\n\n### Fat Mainì˜ ë¬¸ì œ\n\n```go\n// âŒ ë‚˜ìœ ì˜ˆ: Fat Main\nfunc main() {\n    cfg := loadConfig()\n    db := connectDB(cfg)\n    userRepo := NewUserRepo(db)\n    userService := NewUserService(userRepo)\n    handler := NewHandler(userService)\n    http.ListenAndServe(\":8080\", handler)\n}\n```\n\n**ë¬¸ì œì :**\n\n- `main`ì€ í…ŒìŠ¤íŠ¸ ë¶ˆê°€\n- `main` íŒ¨í‚¤ì§€ëŠ” ë‹¤ë¥¸ ê³³ì—ì„œ import ë¶ˆê°€\n\n### Hollow Main (ê¶Œì¥)\n\n```go\n// âœ… ì¢‹ì€ ì˜ˆ: Hollow Main\npackage main\n\nimport \"myproject/internal/app\"\n\nfunc main() {\n    if err := app.Run(); err != nil {\n        os.Exit(1)\n    }\n}\n```\n\nëª¨ë“  ë¡œì§ì€ `internal/app`ìœ¼ë¡œ ì´ë™ â†’ **í…ŒìŠ¤íŠ¸ ê°€ëŠ¥**.\n\n---\n\n## ê¶Œì¥ ë””ë ‰í† ë¦¬ êµ¬ì¡°\n\n```\nproject/\nâ”œâ”€â”€ cmd/\nâ”‚   â””â”€â”€ myapp/\nâ”‚       â””â”€â”€ main.go         # í…… ë¹„ì–´ìˆìŒ\nâ”‚\nâ”œâ”€â”€ internal/\nâ”‚   â”œâ”€â”€ app/                # ì¡°ë¦½ ì½”ë“œ (Composition Root)\nâ”‚   â”‚   â”œâ”€â”€ app.go          # Run() í•¨ìˆ˜\nâ”‚   â”‚   â””â”€â”€ config.go       # ì„¤ì • ë¡œë“œ\nâ”‚   â”œâ”€â”€ api/                # HTTP í•¸ë“¤ëŸ¬, gRPC\nâ”‚   â”œâ”€â”€ biz/                # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§\nâ”‚   â””â”€â”€ data/               # DB, ì™¸ë¶€ API\nâ”‚\nâ”œâ”€â”€ pkg/                    # ì™¸ë¶€ ê³µê°œ (ì‹ ì¤‘í•˜ê²Œ)\nâ”œâ”€â”€ configs/                # ì„¤ì • íŒŒì¼\nâ”œâ”€â”€ api/                    # OpenAPI, Protobuf\nâ””â”€â”€ Makefile\n```\n\n---\n\n## internal/app: ì¡°ë¦½ì˜ ì¤‘ì‹¬\n\n```go\n// internal/app/app.go\nfunc Run() error {\n    cfg := LoadConfig()\n    \n    // ì˜ì¡´ì„± ì¡°ë¦½ (DI)\n    db := data.NewDatabase(cfg.DSN)\n    svc := biz.NewService(db)\n    server := api.NewServer(svc)\n    \n    // ì„œë²„ ì‹œì‘\n    return server.Start()\n}\n```\n\n**ì´ ìœ„ì¹˜ì˜ ì¥ì :**\n\n- `cmd/`ì—ì„œ ë¶„ë¦¬ â†’ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥\n- ì„¤ì • ë¡œë“œ, DI, ë¼ì´í”„ì‚¬ì´í´ ê´€ë¦¬ ì§‘ì¤‘\n\n---\n\n## í”„ë¡œì íŠ¸ ì§„í™” ë‹¨ê³„\n\n### 1ë‹¨ê³„: í”„ë¡œí† íƒ€ì…\n\n```\nproject/\nâ”œâ”€â”€ main.go\nâ””â”€â”€ go.mod\n```\n\n500ì¤„ ë¯¸ë§Œì˜ PoC. ê´œì°®ìŠµë‹ˆë‹¤.\n\n### 2ë‹¨ê³„: ëª¨ë“ˆí™”\n\n```\nproject/\nâ”œâ”€â”€ cmd/myapp/main.go\nâ””â”€â”€ internal/\n    â”œâ”€â”€ app/\n    â”œâ”€â”€ api/\n    â””â”€â”€ data/\n```\n\n1000ì¤„ì„ ë„˜ì–´ê°€ê±°ë‚˜, DB ì½”ë“œì™€ í•¸ë“¤ëŸ¬ê°€ ì„ì´ê¸° ì‹œì‘í•˜ë©´.\n\n### 3ë‹¨ê³„: ë©€í‹° ë°”ì´ë„ˆë¦¬\n\n```\nproject/\nâ”œâ”€â”€ cmd/\nâ”‚   â”œâ”€â”€ api/\nâ”‚   â”œâ”€â”€ worker/\nâ”‚   â””â”€â”€ admin-cli/\nâ””â”€â”€ internal/        # ê³µìœ \n```\n\nì›¹ ì„œë²„ + ì›Œì»¤ + CLIê°€ ê°™ì€ ë¡œì§ì„ ê³µìœ í•  ë•Œ.\n\n---\n\n## CLI ë„êµ¬ìš© êµ¬ì¡°\n\nì›¹ ì„œë¹„ìŠ¤ê°€ ì•„ë‹Œ CLI ë„êµ¬ë¼ë©´:\n\n```\ncmd/myapp/\nâ””â”€â”€ main.go\n\ninternal/cli/\nâ”œâ”€â”€ root.go         # ë£¨íŠ¸ ì»¤ë§¨ë“œ\nâ”œâ”€â”€ serve.go        # serve ì„œë¸Œì»¤ë§¨ë“œ\nâ””â”€â”€ migrate.go      # migrate ì„œë¸Œì»¤ë§¨ë“œ\n```\n\n**íŒ¨í„´:** `cmd.Execute()` í•œ ì¤„ë¡œ ìœ„ì„\n\n---\n\n## internal/ ìš°ì„  ì „ëµ\n\n| ì–¸ì œ internal/ | ì–¸ì œ pkg/ |\n|---------------|----------|\n| ê¸°ë³¸ê°’ | ì™¸ë¶€ì—ì„œ import í•„ìš”í•  ë•Œ |\n| ë¦¬íŒ©í† ë§ ììœ  | API ì•ˆì •ì„± ì•½ì† |\n| ì´ˆê¸° ê°œë°œ | í”„ë¡œì íŠ¸ ì„±ìˆ™ í›„ |\n\n> **ê²½í—˜ì¹™:** ì²˜ìŒë¶€í„° pkg/ë¥¼ ì“°ì§€ ë§ˆì„¸ìš”. ë‚˜ì¤‘ì— í•„ìš”í•˜ë©´ ì˜®ê¸°ì„¸ìš”.\n\n---\n\n## ì •ë¦¬\n\n| ì›ì¹™ | ì„¤ëª… |\n|------|------|\n| **Hollow Main** | main.goëŠ” í…… ë¹„ì›Œë‘ì„¸ìš” |\n| **internal/app** | ì¡°ë¦½ ì½”ë“œëŠ” ì—¬ê¸°ì— |\n| **internal/ ìš°ì„ ** | pkg/ëŠ” ì„±ìˆ™ í›„ì— |\n| **ë‹¨ê³„ë³„ ì§„í™”** | í”„ë¡œí† íƒ€ì… â†’ ëª¨ë“ˆí™” â†’ ë©€í‹° ë°”ì´ë„ˆë¦¬ |\n\n---\n\n## ë‹¤ìŒ í¸ ì˜ˆê³ \n\n**2í¸: ê²¬ê³ í•œ HTTP ì„œë²„ êµ¬ì¶•**ì—ì„œëŠ” Echo ë¯¸ë“¤ì›¨ì–´ ì„¤ê³„ì™€ Graceful Shutdownì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [golang-standards/project-layout](https://github.com/golang-standards/project-layout)\n- [Kubernetes cmd êµ¬ì¡°](https://github.com/kubernetes/kubernetes/tree/master/cmd)\n- [Docker CLI êµ¬ì¡°](https://github.com/docker/cli/tree/master/cmd)\n- [Google Wire](https://github.com/google/wire)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Monorepo",
      "Project Layout",
      "Cobra",
      "Wire",
      "DI",
      "Enterprise"
    ],
    "readingTime": 4,
    "wordCount": 646,
    "isFeatured": false,
    "isPublic": true,
    "date": "2026-01-01"
  },
  {
    "id": "rrf-í•˜ì´ë¸Œë¦¬ë“œ-ê²€ìƒ‰ì˜-í•µì‹¬-ë­í¬-í“¨ì „-ì•Œê³ ë¦¬ì¦˜",
    "slug": "rrf-haibeurideu-geomsaegyi-haegsim-raengkeu-pyujeon-algorijeum",
    "path": "ai-ml",
    "fullPath": "ai-ml/rrf-haibeurideu-geomsaegyi-haegsim-raengkeu-pyujeon-algorijeum",
    "title": "RRF: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ì˜ í•µì‹¬ ë­í¬ í“¨ì „ ì•Œê³ ë¦¬ì¦˜",
    "excerpt": "í‚¤ì›Œë“œ ê²€ìƒ‰ê³¼ ë²¡í„° ê²€ìƒ‰ì„ ê²°í•©í•˜ëŠ” Reciprocal Rank Fusion(RRF) ì•Œê³ ë¦¬ì¦˜ì˜ ì›ë¦¬ì™€ ì‹¤ë¬´ ì ìš© ë°©ë²•ì„ ìƒì„¸íˆ ë¶„ì„í•©ë‹ˆë‹¤.",
    "content": "# RRF: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ì˜ í•µì‹¬ ë­í¬ í“¨ì „ ì•Œê³ ë¦¬ì¦˜\n\n**Reciprocal Rank Fusion(RRF)**ì€ ì—¬ëŸ¬ ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ê²°ê³¼ë¥¼ ë‹¨ì¼ ë­í‚¹ìœ¼ë¡œ í†µí•©í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤. í‚¤ì›Œë“œ ê²€ìƒ‰(BM25)ê³¼ ë²¡í„° ê²€ìƒ‰(Semantic Search)ì„ ê²°í•©í•˜ëŠ” **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰**ì˜ í•µì‹¬ ê¸°ìˆ ë¡œ, OpenSearch 2.19+, Elasticsearch 8.8+ ë“± ì£¼ìš” ê²€ìƒ‰ ì—”ì§„ì—ì„œ ê³µì‹ ì§€ì›í•©ë‹ˆë‹¤.\n\n---\n\n## ì™œ RRFê°€ í•„ìš”í•œê°€?\n\n### ë‹¨ì¼ ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ í•œê³„\n\n```mermaid\ngraph TD\n    subgraph BM25[\"BM25 (í‚¤ì›Œë“œ ê²€ìƒ‰)\"]\n        B1[\"âœ… ì •í™•í•œ í‚¤ì›Œë“œ ë§¤ì¹­\"]\n        B2[\"âŒ ë™ì˜ì–´/ìœ ì‚¬ì–´ ë¯¸ê²€ì¶œ\"]\n        B3[\"âŒ 'ìë™ì°¨' ê²€ìƒ‰ ì‹œ 'ì°¨ëŸ‰' ëˆ„ë½\"]\n    end\n    \n    subgraph Vector[\"ë²¡í„° ê²€ìƒ‰ (ì‹œë§¨í‹±)\"]\n        V1[\"âœ… ì˜ë¯¸ì  ìœ ì‚¬ì„± ê°ì§€\"]\n        V2[\"âŒ ì •í™•í•œ í‚¤ì›Œë“œ ëˆ„ë½ ê°€ëŠ¥\"]\n        V3[\"âŒ 'iPhone 15 Pro' ê²€ìƒ‰ ì‹œ 'iPhone 14' ìš°ì„ \"]\n    end\n```\n\n| ê²€ìƒ‰ ë°©ì‹ | ê°•ì  | ì•½ì  |\n|-----------|------|------|\n| **BM25** | ì •í™•í•œ ìš©ì–´ ë§¤ì¹­ | ë™ì˜ì–´, ë¬¸ë§¥ ì´í•´ ë¶ˆê°€ |\n| **ë²¡í„°** | ì˜ë¯¸ì  ìœ ì‚¬ì„± | ì •í™•í•œ í‚¤ì›Œë“œ ë§¤ì¹­ ì•½í•¨ |\n| **RRF í•˜ì´ë¸Œë¦¬ë“œ** | ë‘ ì¥ì  ê²°í•© | - |\n\n### RRFì˜ ì ‘ê·¼ë²•\n\nRRFëŠ” ê° ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ **ì ìˆ˜(score)**ê°€ ì•„ë‹Œ **ìˆœìœ„(rank)**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê²°ê³¼ë¥¼ ê²°í•©í•©ë‹ˆë‹¤. ì´ ì ‘ê·¼ë²•ì´ ê°•ë ¥í•œ ì´ìœ :\n\n1. **ì ìˆ˜ ì •ê·œí™” ë¶ˆí•„ìš”**: BM25 ì ìˆ˜(0~âˆ)ì™€ ì½”ì‚¬ì¸ ìœ ì‚¬ë„(0~1)ë¥¼ ì§ì ‘ ë¹„êµí•  í•„ìš” ì—†ìŒ\n2. **ì´ìƒì¹˜ì— ê°•ê±´**: ê·¹ë‹¨ì ì¸ ì ìˆ˜ ê°’ì˜ ì˜í–¥ì„ ìµœì†Œí™”\n3. **ë‹¨ìˆœí•¨**: íŒŒë¼ë¯¸í„° í•˜ë‚˜($k$)ë§Œìœ¼ë¡œ ë™ì‘\n\n---\n\n## RRF ìˆ˜í•™ì  ì›ë¦¬\n\n### ê¸°ë³¸ ê³µì‹\n\në¬¸ì„œ $d$ì— ëŒ€í•œ RRF ì ìˆ˜:\n\n$$\n\\text{RRF}(d) = \\sum_{r \\in R} \\frac{1}{k + r(d)}\n$$\n\n- $R$: ê²€ìƒ‰ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ì˜ ì§‘í•© (BM25 ê²°ê³¼, ë²¡í„° ê²€ìƒ‰ ê²°ê³¼ ë“±)\n- $r(d)$: ë¦¬ìŠ¤íŠ¸ $r$ì—ì„œ ë¬¸ì„œ $d$ì˜ ìˆœìœ„ (1ë¶€í„° ì‹œì‘)\n- $k$: ë­í‚¹ ìƒìˆ˜ (ê¸°ë³¸ê°’: 60)\n\n### ìƒìˆ˜ kì˜ ì—­í• \n\n**k**ëŠ” ìƒìœ„ ìˆœìœ„ì™€ í•˜ìœ„ ìˆœìœ„ ê°„ì˜ ì ìˆ˜ ì°¨ì´ë¥¼ ì¡°ì ˆí•©ë‹ˆë‹¤.\n\n| k ê°’ | íŠ¹ì„± | 1ìœ„ vs 10ìœ„ ì ìˆ˜ ë¹„ìœ¨ |\n|------|------|----------------------|\n| **1** | ìƒìœ„ ìˆœìœ„ ê·¹ë„ë¡œ ìš°ëŒ€ | 5.5ë°° |\n| **60 (ê¸°ë³¸)** | ê· í˜• ì¡íŒ ê°€ì¤‘ì¹˜ | 1.16ë°° |\n| **1000** | ìˆœìœ„ ì°¨ì´ ê±°ì˜ ë¬´ì‹œ | 1.01ë°° |\n\n```mermaid\nxychart-beta\n    title \"k ê°’ì— ë”°ë¥¸ ìˆœìœ„ë³„ ì ìˆ˜ ê¸°ì—¬ë„\"\n    x-axis \"Rank\" [1, 5, 10, 20, 30, 50]\n    y-axis \"Score Contribution\" 0 --> 0.5\n    line \"k=1\" [0.50, 0.17, 0.09, 0.05, 0.03, 0.02]\n    line \"k=60\" [0.016, 0.015, 0.014, 0.013, 0.011, 0.009]\n```\n\n### ê³„ì‚° ì˜ˆì‹œ\n\në‘ ê²€ìƒ‰ ì‹œìŠ¤í…œ(BM25, ë²¡í„°)ì˜ ê²°ê³¼ë¥¼ RRFë¡œ ê²°í•©:\n\n| ë¬¸ì„œ | BM25 ìˆœìœ„ | ë²¡í„° ìˆœìœ„ | RRF ì ìˆ˜ (k=60) |\n|------|-----------|-----------|-----------------|\n| A | 1 | 5 | $\\frac{1}{61} + \\frac{1}{65} = 0.0318$ |\n| B | 3 | 1 | $\\frac{1}{63} + \\frac{1}{61} = 0.0322$ |\n| C | 2 | 10 | $\\frac{1}{62} + \\frac{1}{70} = 0.0304$ |\n| D | - | 2 | $\\frac{0}{-} + \\frac{1}{62} = 0.0161$ |\n\n**ìµœì¢… ìˆœìœ„**: B > A > C > D\n\në¬¸ì„œ BëŠ” BM25ì—ì„œ 3ìœ„ì˜€ì§€ë§Œ, ë²¡í„° ê²€ìƒ‰ì—ì„œ 1ìœ„ì˜€ê¸° ë•Œë¬¸ì— ìµœì¢…ì ìœ¼ë¡œ 1ìœ„ê°€ ë©ë‹ˆë‹¤.\n\n---\n\n## Python êµ¬í˜„\n\n### ê¸°ë³¸ RRF êµ¬í˜„\n\n```python\nfrom typing import List, Dict, Any\nfrom collections import defaultdict\n\ndef reciprocal_rank_fusion(\n    rankings: List[List[Any]],\n    k: int = 60\n) -> List[tuple]:\n    \"\"\"\n    ì—¬ëŸ¬ ê²€ìƒ‰ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ë¥¼ RRFë¡œ ê²°í•©\n    \n    Args:\n        rankings: ê° ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ (ë¬¸ì„œ ID ìˆœì„œëŒ€ë¡œ)\n        k: ë­í‚¹ ìƒìˆ˜ (ê¸°ë³¸ê°’: 60)\n    \n    Returns:\n        (ë¬¸ì„œ ID, RRF ì ìˆ˜) íŠœí”Œì˜ ì •ë ¬ëœ ë¦¬ìŠ¤íŠ¸\n    \"\"\"\n    rrf_scores = defaultdict(float)\n    \n    for ranking in rankings:\n        for rank, doc_id in enumerate(ranking, start=1):\n            rrf_scores[doc_id] += 1 / (k + rank)\n    \n    # ì ìˆ˜ ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬\n    sorted_results = sorted(\n        rrf_scores.items(),\n        key=lambda x: x[1],\n        reverse=True\n    )\n    \n    return sorted_results\n\n# ì‚¬ìš© ì˜ˆì‹œ\nbm25_results = [\"doc_A\", \"doc_B\", \"doc_C\", \"doc_D\", \"doc_E\"]\nvector_results = [\"doc_C\", \"doc_A\", \"doc_F\", \"doc_B\", \"doc_G\"]\n\nfused_results = reciprocal_rank_fusion([bm25_results, vector_results])\n\nfor doc_id, score in fused_results[:5]:\n    print(f\"{doc_id}: {score:.4f}\")\n```\n\nì¶œë ¥:\n\n```\ndoc_A: 0.0322\ndoc_C: 0.0322\ndoc_B: 0.0305\ndoc_D: 0.0156\ndoc_F: 0.0159\n```\n\n### ê°€ì¤‘ì¹˜ê°€ ìˆëŠ” RRF\n\nê²€ìƒ‰ ì‹œìŠ¤í…œë³„ë¡œ ë‹¤ë¥¸ ê°€ì¤‘ì¹˜ë¥¼ ì ìš©:\n\n```python\ndef weighted_rrf(\n    rankings: List[List[Any]],\n    weights: List[float] = None,\n    k: int = 60\n) -> List[tuple]:\n    \"\"\"\n    ê°€ì¤‘ì¹˜ê°€ ì ìš©ëœ RRF\n    \n    Args:\n        rankings: ê²€ìƒ‰ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ë“¤\n        weights: ê° ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ê°€ì¤‘ì¹˜ (í•©ì´ 1ì´ ì•„ë‹ˆì–´ë„ ë¨)\n        k: ë­í‚¹ ìƒìˆ˜\n    \"\"\"\n    if weights is None:\n        weights = [1.0] * len(rankings)\n    \n    rrf_scores = defaultdict(float)\n    \n    for ranking, weight in zip(rankings, weights):\n        for rank, doc_id in enumerate(ranking, start=1):\n            rrf_scores[doc_id] += weight / (k + rank)\n    \n    return sorted(rrf_scores.items(), key=lambda x: x[1], reverse=True)\n\n# BM25ì— ë” ë†’ì€ ê°€ì¤‘ì¹˜ ë¶€ì—¬\nresults = weighted_rrf(\n    [bm25_results, vector_results],\n    weights=[0.7, 0.3],  # BM25: 70%, Vector: 30%\n    k=60\n)\n```\n\n### ì„¸ ê°œ ì´ìƒì˜ ê²€ìƒ‰ ì‹œìŠ¤í…œ ê²°í•©\n\n```python\n# BM25 + Dense Vector + Sparse Vector ê²°í•©\nbm25_results = [\"A\", \"B\", \"C\", \"D\", \"E\"]\ndense_results = [\"C\", \"A\", \"F\", \"B\", \"G\"]\nsparse_results = [\"B\", \"D\", \"A\", \"H\", \"C\"]\n\n# ë™ì¼ ê°€ì¤‘ì¹˜\nfused = reciprocal_rank_fusion([\n    bm25_results,\n    dense_results,\n    sparse_results\n])\n\n# ë‹¤ë¥¸ ê°€ì¤‘ì¹˜ (BM25: 40%, Dense: 40%, Sparse: 20%)\nfused_weighted = weighted_rrf(\n    [bm25_results, dense_results, sparse_results],\n    weights=[0.4, 0.4, 0.2]\n)\n```\n\n---\n\n## OpenSearchì—ì„œ RRF ì‚¬ìš©\n\n### Search Pipeline ìƒì„±\n\nOpenSearch 2.19+ì—ì„œ `score-ranker-processor`ë¥¼ ì‚¬ìš©í•œ RRF:\n\n```json\nPUT /_search/pipeline/hybrid-rrf-pipeline\n{\n  \"description\": \"Hybrid search with RRF\",\n  \"phase_results_processors\": [\n    {\n      \"score-ranker-processor\": {\n        \"combination\": {\n          \"technique\": \"rrf\",\n          \"rank_constant\": 60\n        }\n      }\n    }\n  ]\n}\n```\n\n### í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì¿¼ë¦¬\n\n```json\nPOST /products/_search?search_pipeline=hybrid-rrf-pipeline\n{\n  \"query\": {\n    \"hybrid\": {\n      \"queries\": [\n        {\n          \"match\": {\n            \"title\": \"wireless headphones\"\n          }\n        },\n        {\n          \"knn\": {\n            \"embedding\": {\n              \"vector\": [0.12, -0.34, 0.56, ...],\n              \"k\": 100\n            }\n          }\n        }\n      ]\n    }\n  },\n  \"size\": 10\n}\n```\n\n### ì •ê·œí™” + RRF ì¡°í•© (OpenSearch 2.10+)\n\nì ìˆ˜ ì •ê·œí™” í›„ RRF ì ìš©:\n\n```json\nPUT /_search/pipeline/normalized-hybrid-pipeline\n{\n  \"description\": \"Normalized hybrid search\",\n  \"phase_results_processors\": [\n    {\n      \"normalization-processor\": {\n        \"normalization\": {\n          \"technique\": \"min_max\"\n        },\n        \"combination\": {\n          \"technique\": \"arithmetic_mean\",\n          \"parameters\": {\n            \"weights\": [0.4, 0.6]\n          }\n        }\n      }\n    }\n  ]\n}\n```\n\n---\n\n## Elasticsearchì—ì„œ RRF ì‚¬ìš©\n\n### ê¸°ë³¸ RRF ì¿¼ë¦¬ (ES 8.8+)\n\n```json\nPOST /products/_search\n{\n  \"retriever\": {\n    \"rrf\": {\n      \"retrievers\": [\n        {\n          \"standard\": {\n            \"query\": {\n              \"match\": { \"title\": \"laptop\" }\n            }\n          }\n        },\n        {\n          \"knn\": {\n            \"field\": \"embedding\",\n            \"query_vector\": [0.1, 0.2, ...],\n            \"k\": 100,\n            \"num_candidates\": 200\n          }\n        }\n      ],\n      \"rank_constant\": 60,\n      \"rank_window_size\": 100\n    }\n  },\n  \"size\": 10\n}\n```\n\n### ì¤‘ì²© RRF\n\nì—¬ëŸ¬ ë ˆë²¨ì˜ RRF ì ìš©:\n\n```json\n{\n  \"retriever\": {\n    \"rrf\": {\n      \"retrievers\": [\n        {\n          \"rrf\": {\n            \"retrievers\": [\n              { \"standard\": { \"query\": { \"match\": { \"title\": \"query\" } } } },\n              { \"standard\": { \"query\": { \"match\": { \"body\": \"query\" } } } }\n            ],\n            \"rank_constant\": 10\n          }\n        },\n        {\n          \"knn\": {\n            \"field\": \"embedding\",\n            \"query_vector\": [...],\n            \"k\": 50\n          }\n        }\n      ],\n      \"rank_constant\": 60\n    }\n  }\n}\n```\n\n---\n\n## ì•„í‚¤í…ì²˜ íŒ¨í„´\n\n### íŒ¨í„´ 1: ë™ê¸°ì‹ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰\n\n```mermaid\nflowchart LR\n    Query[ì‚¬ìš©ì ì¿¼ë¦¬] --> Embed[ì„ë² ë”© ìƒì„±]\n    Query --> BM25[BM25 ê²€ìƒ‰]\n    Embed --> Vector[ë²¡í„° ê²€ìƒ‰]\n    BM25 --> RRF[RRF Fusion]\n    Vector --> RRF\n    RRF --> Results[ìµœì¢… ê²°ê³¼]\n```\n\n### íŒ¨í„´ 2: ë¹„ë™ê¸°ì‹ ë³‘ë ¬ ê²€ìƒ‰\n\n```python\nimport asyncio\nfrom typing import List\n\nasync def hybrid_search(query: str, k: int = 10) -> List[dict]:\n    \"\"\"ë¹„ë™ê¸° í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰\"\"\"\n    \n    # BM25ì™€ ë²¡í„° ê²€ìƒ‰ì„ ë³‘ë ¬ ì‹¤í–‰\n    bm25_task = asyncio.create_task(bm25_search(query, top_k=100))\n    vector_task = asyncio.create_task(vector_search(query, top_k=100))\n    \n    bm25_results, vector_results = await asyncio.gather(\n        bm25_task, vector_task\n    )\n    \n    # RRFë¡œ ê²°í•©\n    fused = reciprocal_rank_fusion([\n        [doc[\"id\"] for doc in bm25_results],\n        [doc[\"id\"] for doc in vector_results]\n    ])\n    \n    # ìƒìœ„ kê°œ ë°˜í™˜\n    return fused[:k]\n```\n\n### íŒ¨í„´ 3: Two-Stage Retrieval\n\n```mermaid\nflowchart TD\n    Query[ì¿¼ë¦¬] --> Stage1[\"Stage 1: í›„ë³´ ê²€ìƒ‰<br/>(BM25 Top-1000)\"]\n    Stage1 --> Stage2[\"Stage 2: ë¦¬ë­í‚¹<br/>(Vector + RRF)\"]\n    Stage2 --> Final[\"ìµœì¢… Top-10\"]\n```\n\n```python\ndef two_stage_search(query: str, final_k: int = 10) -> List[dict]:\n    # Stage 1: ë¹ ë¥¸ BM25ë¡œ í›„ë³´ ê²€ìƒ‰\n    candidates = bm25_search(query, top_k=1000)\n    candidate_ids = [doc[\"id\"] for doc in candidates]\n    \n    # Stage 2: í›„ë³´ ë‚´ì—ì„œ ë²¡í„° ë¦¬ë­í‚¹\n    query_embedding = embed(query)\n    vector_scores = compute_similarities(query_embedding, candidate_ids)\n    \n    # RRF ì ìš©\n    bm25_ranking = candidate_ids  # ì´ë¯¸ BM25 ìˆœìœ„ëŒ€ë¡œ ì •ë ¬ë¨\n    vector_ranking = sorted(candidate_ids, key=lambda x: vector_scores[x], reverse=True)\n    \n    fused = reciprocal_rank_fusion([bm25_ranking, vector_ranking])\n    return fused[:final_k]\n```\n\n---\n\n## ì„±ëŠ¥ ìµœì í™”\n\n### k ê°’ íŠœë‹\n\n```python\ndef tune_rrf_k(\n    rankings: List[List[str]],\n    ground_truth: List[str],\n    k_values: List[int] = [1, 10, 20, 40, 60, 80, 100]\n) -> int:\n    \"\"\"nDCG ê¸°ë°˜ ìµœì  k ê°’ íƒìƒ‰\"\"\"\n    \n    best_k = 60\n    best_ndcg = 0\n    \n    for k in k_values:\n        fused = reciprocal_rank_fusion(rankings, k=k)\n        ndcg = calculate_ndcg(fused, ground_truth)\n        \n        if ndcg > best_ndcg:\n            best_ndcg = ndcg\n            best_k = k\n        \n        print(f\"k={k}: nDCG={ndcg:.4f}\")\n    \n    return best_k\n```\n\n### ìºì‹± ì „ëµ\n\n```python\nfrom functools import lru_cache\nimport hashlib\n\n@lru_cache(maxsize=10000)\ndef cached_rrf(rankings_hash: str, k: int = 60) -> tuple:\n    \"\"\"RRF ê²°ê³¼ ìºì‹±\"\"\"\n    rankings = decode_rankings(rankings_hash)\n    return tuple(reciprocal_rank_fusion(rankings, k))\n\ndef search_with_cache(query: str) -> List:\n    bm25_results = bm25_search(query)\n    vector_results = vector_search(query)\n    \n    # í•´ì‹œ ìƒì„±í•˜ì—¬ ìºì‹±\n    rankings_hash = hashlib.md5(\n        str([bm25_results, vector_results]).encode()\n    ).hexdigest()\n    \n    return cached_rrf(rankings_hash)\n```\n\n---\n\n## RRF vs ë‹¤ë¥¸ í“¨ì „ ë°©ë²•\n\n### ë¹„êµ í‘œ\n\n| ë°©ë²• | ì¥ì  | ë‹¨ì  |\n|------|------|------|\n| **RRF** | ì •ê·œí™” ë¶ˆí•„ìš”, ë‹¨ìˆœí•¨ | ì ìˆ˜ ì •ë³´ ì†ì‹¤ |\n| **Linear Combination** | ì ìˆ˜ ë³´ì¡´ | ì •ê·œí™” í•„ìš” |\n| **Borda Count** | ì´í•´ ì‰¬ì›€ | ë™ì  ì²˜ë¦¬ ë³µì¡ |\n| **Learned Fusion** | ìµœì í™” ê°€ëŠ¥ | í•™ìŠµ ë°ì´í„° í•„ìš” |\n\n### Linear Combination vs RRF\n\n```python\ndef linear_combination(\n    score_lists: List[List[tuple]],  # [(doc_id, score), ...]\n    weights: List[float]\n) -> List[tuple]:\n    \"\"\"ì„ í˜• ê²°í•© ê¸°ë°˜ í“¨ì „\"\"\"\n    \n    combined = defaultdict(float)\n    \n    for scores, weight in zip(score_lists, weights):\n        # Min-Max ì •ê·œí™”\n        min_s = min(s for _, s in scores)\n        max_s = max(s for _, s in scores)\n        \n        for doc_id, score in scores:\n            normalized = (score - min_s) / (max_s - min_s + 1e-10)\n            combined[doc_id] += weight * normalized\n    \n    return sorted(combined.items(), key=lambda x: x[1], reverse=True)\n```\n\n---\n\n## ì‹¤ë¬´ ì ìš© ê°€ì´ë“œ\n\n### ë„ë©”ì¸ë³„ ê¶Œì¥ ì„¤ì •\n\n| ë„ë©”ì¸ | k ê°’ | BM25 ê°€ì¤‘ì¹˜ | ë²¡í„° ê°€ì¤‘ì¹˜ |\n|--------|------|-------------|-------------|\n| **E-commerce** | 60 | 0.4 | 0.6 |\n| **ê¸°ìˆ  ë¬¸ì„œ** | 40 | 0.6 | 0.4 |\n| **Q&A/FAQ** | 20 | 0.3 | 0.7 |\n| **ë²•ë¥ /ì˜ë£Œ** | 80 | 0.7 | 0.3 |\n| **ë‰´ìŠ¤/ë¸”ë¡œê·¸** | 60 | 0.5 | 0.5 |\n\n### A/B í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸\n\n- [ ] ë‹¤ì–‘í•œ k ê°’ (20, 40, 60, 80) ë¹„êµ\n- [ ] BM25/ë²¡í„° ê°€ì¤‘ì¹˜ ì¡°í•© í…ŒìŠ¤íŠ¸\n- [ ] ì¿¼ë¦¬ ìœ í˜•ë³„ ì„±ëŠ¥ ë¶„ì„ (ë‹¨ì¼ í‚¤ì›Œë“œ vs ë¬¸ì¥í˜•)\n- [ ] í´ë¦­ë¥ (CTR), ì²´ë¥˜ ì‹œê°„ ë“± ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­ ì¸¡ì •\n\n---\n\n## ê²°ë¡ \n\n| ìƒí™© | ê¶Œì¥ ì ‘ê·¼ë²• |\n|------|-------------|\n| **ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘** | RRF (k=60, ë™ì¼ ê°€ì¤‘ì¹˜) |\n| **ì •ë°€ íŠœë‹ í•„ìš”** | Weighted RRF + A/B í…ŒìŠ¤íŠ¸ |\n| **ì ìˆ˜ í•´ì„ í•„ìš”** | Linear Combination |\n| **ëŒ€ëŸ‰ íŠ¸ë˜í”½** | Two-Stage Retrieval + ìºì‹± |\n\nRRFëŠ” ë‹¨ìˆœí•˜ë©´ì„œë„ íš¨ê³¼ì ì¸ ë­í¬ í“¨ì „ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤. ì ìˆ˜ ì •ê·œí™” ì—†ì´ ì—¬ëŸ¬ ê²€ìƒ‰ ì‹œìŠ¤í…œì„ ê²°í•©í•  ìˆ˜ ìˆì–´, **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ì˜ ì²« ë²ˆì§¸ ì„ íƒì§€**ë¡œ ì í•©í•©ë‹ˆë‹¤. ë‹¤ë§Œ, ë” ì •êµí•œ íŠœë‹ì´ í•„ìš”í•œ ê²½ìš° ê°€ì¤‘ì¹˜ ì¡°ì ˆì´ë‚˜ í•™ìŠµ ê¸°ë°˜ í“¨ì „ ë°©ë²•ì„ ê³ ë ¤í•˜ì„¸ìš”.\n\n---\n\n## References\n\n- Cormack, G. V., Clarke, C. L. A., & Buettcher, S. (2009). [Reciprocal Rank Fusion outperforms Condorcet and individual Rank Learning Methods](https://plg.uwaterloo.ca/~gvcormac/cormacksigir09-rrf.pdf)\n- [OpenSearch Score Ranker Processor](https://opensearch.org/docs/latest/search-plugins/search-pipelines/score-ranker-processor/)\n- [Elasticsearch RRF](https://www.elastic.co/guide/en/elasticsearch/reference/current/rrf.html)\n- [Hybrid Search in OpenSearch](https://opensearch.org/docs/latest/vector-search/ai-search/hybrid-search/)",
    "docType": "original",
    "category": "AI-ML",
    "tags": [
      "information-retrieval",
      "search",
      "rrf",
      "hybrid-search",
      "ranking"
    ],
    "readingTime": 9,
    "wordCount": 1686,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-31"
  },
  {
    "id": "faiss-ì™€-opensearch-ë²¡í„°-ê²€ìƒ‰-ë¹„êµ",
    "slug": "faiss-wa-opensearch-begteo-geomsaeg-bigyo",
    "path": "ai-ml",
    "fullPath": "ai-ml/faiss-wa-opensearch-begteo-geomsaeg-bigyo",
    "title": "Faissì™€ OpenSearch ë²¡í„° ê²€ìƒ‰ ë¹„êµ",
    "excerpt": "Facebookì˜ Faissì™€ AWSì˜ OpenSearchê°€ ì œê³µí•˜ëŠ” ë²¡í„° ê²€ìƒ‰ ê¸°ìˆ ì„ ë¹„êµí•˜ê³ , ê° ë„êµ¬ì˜ ê°•ì ê³¼ ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.",
    "content": "# Faissì™€ OpenSearch ë²¡í„° ê²€ìƒ‰ ë¹„êµ\n\nAI/ML ì‹œëŒ€ì— ì„ë² ë”© ë²¡í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ê²€ìƒ‰í•˜ëŠ” ê²ƒì€ í•µì‹¬ ì¸í”„ë¼ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë‘ ê°€ì§€ ì†”ë£¨ì…˜ì¸ **Faiss**ì™€ **OpenSearch**ë¥¼ ë¹„êµ ë¶„ì„í•©ë‹ˆë‹¤.\n\n---\n\n## ê°œìš”\n\n| í•­ëª© | Faiss | OpenSearch |\n|------|-------|------------|\n| **ê°œë°œì‚¬** | Meta (Facebook AI Research) | AWS / OpenSearch Project |\n| **ìœ í˜•** | ë¼ì´ë¸ŒëŸ¬ë¦¬ | ë¶„ì‚° ê²€ìƒ‰ ì—”ì§„ |\n| **ì–¸ì–´** | C++ (Python/Go ë°”ì¸ë”©) | Java (REST API) |\n| **ë¼ì´ì„ ìŠ¤** | MIT | Apache 2.0 |\n| **ì£¼ìš” ìš©ë„** | ìˆœìˆ˜ ë²¡í„° ê²€ìƒ‰ | ë²¡í„° + ì „ë¬¸ ê²€ìƒ‰ í†µí•© |\n\n---\n\n## Faiss: ìˆœìˆ˜ ë²¡í„° ê²€ìƒ‰ ë¼ì´ë¸ŒëŸ¬ë¦¬\n\n**Faiss**ëŠ” Meta AI Researchì—ì„œ ê°œë°œí•œ ê³ ì„±ëŠ¥ ìœ ì‚¬ë„ ê²€ìƒ‰ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ìˆ˜ì‹­ì–µ ê°œì˜ ë²¡í„°ë¥¼ ë°€ë¦¬ì´ˆ ë‹¨ìœ„ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n### í•µì‹¬ íŠ¹ì§•\n\n- **GPU ê°€ì†**: CUDAë¥¼ í™œìš©í•œ ë³‘ë ¬ ì²˜ë¦¬ë¡œ CPU ëŒ€ë¹„ ìµœëŒ€ 100ë°° ì´ìƒ ë¹ ë¥¸ ê²€ìƒ‰\n- **ë‹¤ì–‘í•œ ì¸ë±ìŠ¤ íƒ€ì…**: ì •í™•ë„ì™€ ì†ë„ ì‚¬ì´ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ì„¸ë°€í•˜ê²Œ ì¡°ì ˆ ê°€ëŠ¥\n- **ë©”ëª¨ë¦¬ íš¨ìœ¨**: Product Quantization(PQ)ë¥¼ í†µí•œ ë²¡í„° ì••ì¶•ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì†Œí™”\n- **ì¸ë©”ëª¨ë¦¬ ì²˜ë¦¬**: ë””ìŠ¤í¬ I/O ì—†ì´ RAMì—ì„œ ì§ì ‘ ê²€ìƒ‰\n\n### ì£¼ìš” ì¸ë±ìŠ¤ íƒ€ì…\n\n```mermaid\ngraph TD\n    subgraph Exact[\"ì •í™•í•œ ê²€ìƒ‰ (Exact)\"]\n        Flat[\"IndexFlatL2 / IndexFlatIP\"]\n    end\n    \n    subgraph Approximate[\"ê·¼ì‚¬ ê²€ìƒ‰ (Approximate)\"]\n        IVF[\"IVF (Inverted File Index)\"]\n        HNSW[\"HNSW (Hierarchical NSW)\"]\n        PQ[\"PQ (Product Quantization)\"]\n    end\n    \n    Flat --> |\"100% ì •í™•, ëŠë¦¼\"| Use1[\"ì†Œê·œëª¨ ë°ì´í„°ì…‹\"]\n    IVF --> |\"í´ëŸ¬ìŠ¤í„° ê¸°ë°˜\"| Use2[\"ëŒ€ê·œëª¨ ë°ì´í„°ì…‹\"]\n    HNSW --> |\"ê·¸ë˜í”„ ê¸°ë°˜\"| Use3[\"ê³ ì† ê²€ìƒ‰\"]\n    PQ --> |\"ì••ì¶• ë²¡í„°\"| Use4[\"ë©”ëª¨ë¦¬ ì œì•½ í™˜ê²½\"]\n```\n\n### ê¸°ë³¸ ì‚¬ìš©ë²• (Python)\n\n```python\nimport numpy as np\nimport faiss\n\n# ë°ì´í„° ì¤€ë¹„: 10ë§Œ ê°œì˜ 128ì°¨ì› ë²¡í„°\nd = 128  # ì°¨ì›\nnb = 100000  # ë°ì´í„°ë² ì´ìŠ¤ í¬ê¸°\nnq = 10  # ì¿¼ë¦¬ ìˆ˜\n\nnp.random.seed(1234)\nxb = np.random.random((nb, d)).astype('float32')\nxq = np.random.random((nq, d)).astype('float32')\n\n# 1. Flat Index (ì •í™•í•œ ê²€ìƒ‰)\nindex_flat = faiss.IndexFlatL2(d)\nindex_flat.add(xb)\n\nk = 5  # ìƒìœ„ 5ê°œ ê²°ê³¼\nD, I = index_flat.search(xq, k)\nprint(f\"ê°€ì¥ ê°€ê¹Œìš´ ì´ì›ƒ: {I[0]}\")\nprint(f\"ê±°ë¦¬: {D[0]}\")\n```\n\n### GPU ê°€ì† ê²€ìƒ‰\n\n```python\nimport faiss\n\n# GPU ë¦¬ì†ŒìŠ¤ ì´ˆê¸°í™”\nres = faiss.StandardGpuResources()\n\n# CPU ì¸ë±ìŠ¤ â†’ GPU ì¸ë±ìŠ¤ ë³€í™˜\nindex_flat = faiss.IndexFlatL2(d)\ngpu_index = faiss.index_cpu_to_gpu(res, 0, index_flat)  # GPU 0ë²ˆ ì‚¬ìš©\n\n# GPUì—ì„œ ê²€ìƒ‰ (ë™ì¼í•œ API)\ngpu_index.add(xb)\nD, I = gpu_index.search(xq, k)\n```\n\n### Index Factoryë¡œ ë³µì¡í•œ ì¸ë±ìŠ¤ ìƒì„±\n\n```python\n# ë¬¸ìì—´ë¡œ ì¸ë±ìŠ¤ êµ¬ì¡° ì •ì˜\n# \"IVF100,PQ8\" = 100ê°œ í´ëŸ¬ìŠ¤í„° + 8ë°”ì´íŠ¸ PQ ì••ì¶•\nindex = faiss.index_factory(d, \"IVF100,PQ8\")\n\n# í›ˆë ¨ í•„ìš”\nindex.train(xb)\nindex.add(xb)\n\n# ê²€ìƒ‰\nD, I = index.search(xq, k)\n```\n\n---\n\n## OpenSearch: í†µí•© ê²€ìƒ‰ í”Œë«í¼\n\n**OpenSearch**ëŠ” Elasticsearchì˜ ì˜¤í”ˆì†ŒìŠ¤ í¬í¬ë¡œ, ì „ë¬¸ ê²€ìƒ‰(Full-text Search)ê³¼ ë²¡í„° ê²€ìƒ‰ì„ ëª¨ë‘ ì§€ì›í•˜ëŠ” ë¶„ì‚° ê²€ìƒ‰ ì—”ì§„ì…ë‹ˆë‹¤.\n\n### í•µì‹¬ íŠ¹ì§•\n\n- **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰**: í‚¤ì›Œë“œ ê²€ìƒ‰ + ë²¡í„° ê²€ìƒ‰ì„ ë‹¨ì¼ ì¿¼ë¦¬ë¡œ ê²°í•©\n- **ë¶„ì‚° ì•„í‚¤í…ì²˜**: í´ëŸ¬ìŠ¤í„° ê¸°ë°˜ ìˆ˜í‰ í™•ì¥\n- **ë‹¤ì¤‘ ì—”ì§„ ì§€ì›**: Faiss, Lucene, NMSLIB ì¤‘ ì„ íƒ ê°€ëŠ¥\n- **í•„í„°ë§ í†µí•©**: ë©”íƒ€ë°ì´í„° ê¸°ë°˜ pre/post í•„í„°ë§\n- **ê´€ë¦¬ ìš©ì´ì„±**: REST APIë¡œ ëª¨ë“  ì‘ì—… ê°€ëŠ¥\n\n### ì§€ì› ì—”ì§„ ë¹„êµ\n\n| ì—”ì§„ | ì•Œê³ ë¦¬ì¦˜ | í›ˆë ¨ í•„ìš” | íŠ¹ì§• |\n|------|----------|-----------|------|\n| **Lucene** | HNSW | ì•„ë‹ˆì˜¤ | ê¸°ë³¸ ì—”ì§„, ì•ˆì •ì  |\n| **Faiss** | HNSW, IVF | IVFë§Œ í•„ìš” | ê³ ì„±ëŠ¥, ë‹¤ì–‘í•œ ì˜µì…˜ |\n| **NMSLIB** | HNSW | ì•„ë‹ˆì˜¤ | ë ˆê±°ì‹œ, í˜¸í™˜ì„± |\n\n### ì¸ë±ìŠ¤ ìƒì„± (Faiss ì—”ì§„ + HNSW)\n\n```json\nPUT /embedding-index\n{\n  \"settings\": {\n    \"index\": {\n      \"knn\": true,\n      \"knn.algo_param.ef_search\": 100\n    }\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"title\": { \"type\": \"text\" },\n      \"embedding\": {\n        \"type\": \"knn_vector\",\n        \"dimension\": 768,\n        \"method\": {\n          \"name\": \"hnsw\",\n          \"space_type\": \"l2\",\n          \"engine\": \"faiss\",\n          \"parameters\": {\n            \"ef_construction\": 128,\n            \"m\": 24\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n### ë¬¸ì„œ ìƒ‰ì¸\n\n```json\nPOST /embedding-index/_doc\n{\n  \"title\": \"Introduction to Vector Search\",\n  \"embedding\": [0.12, -0.34, 0.56, ...]  // 768ì°¨ì› ë²¡í„°\n}\n```\n\n### k-NN ê²€ìƒ‰ ì¿¼ë¦¬\n\n```json\nGET /embedding-index/_search\n{\n  \"size\": 10,\n  \"query\": {\n    \"knn\": {\n      \"embedding\": {\n        \"vector\": [0.11, -0.32, 0.54, ...],\n        \"k\": 10\n      }\n    }\n  }\n}\n```\n\n### í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (í‚¤ì›Œë“œ + ë²¡í„°)\n\n```json\nGET /embedding-index/_search\n{\n  \"size\": 10,\n  \"query\": {\n    \"bool\": {\n      \"must\": {\n        \"match\": { \"title\": \"vector search\" }\n      },\n      \"should\": {\n        \"knn\": {\n          \"embedding\": {\n            \"vector\": [0.11, -0.32, 0.54, ...],\n            \"k\": 50\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n---\n\n## ìƒì„¸ ë¹„êµ\n\n### ì„±ëŠ¥\n\n| ì‹œë‚˜ë¦¬ì˜¤ | Faiss | OpenSearch |\n|----------|-------|------------|\n| ìˆœìˆ˜ ë²¡í„° ê²€ìƒ‰ (10ì–µ ë²¡í„°) | â­â­â­â­â­ | â­â­â­ |\n| GPU ê°€ì† | âœ… ë„¤ì´í‹°ë¸Œ ì§€ì› | âŒ ë¯¸ì§€ì› |\n| ë¶„ì‚° ê²€ìƒ‰ | âŒ ìˆ˜ë™ êµ¬í˜„ í•„ìš” | âœ… ë‚´ì¥ |\n| ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ | âš ï¸ ì¸ë±ìŠ¤ ì¬êµ¬ì¶• í•„ìš” | âœ… ì‹¤ì‹œê°„ |\n\n### í™•ì¥ì„±\n\n```mermaid\ngraph LR\n    subgraph Faissë°©ì‹[\"Faiss (ì§ì ‘ êµ¬í˜„)\"]\n        App1[App Server 1] --> Shard1[(Shard 1)]\n        App2[App Server 2] --> Shard2[(Shard 2)]\n        App3[App Server 3] --> Shard3[(Shard 3)]\n        Router[Router] --> App1\n        Router --> App2\n        Router --> App3\n    end\n    \n    subgraph OpenSearchë°©ì‹[\"OpenSearch (ë‚´ì¥)\"]\n        Client[Client] --> Coordinator[Coordinator Node]\n        Coordinator --> Data1[Data Node 1]\n        Coordinator --> Data2[Data Node 2]\n        Coordinator --> Data3[Data Node 3]\n    end\n```\n\n### ìš´ì˜ ë³µì¡ë„\n\n| í•­ëª© | Faiss | OpenSearch |\n|------|-------|------------|\n| ì„¤ì¹˜ | pip install | í´ëŸ¬ìŠ¤í„° êµ¬ì„± |\n| ëª¨ë‹ˆí„°ë§ | ì§ì ‘ êµ¬í˜„ | OpenSearch Dashboards |\n| ë°±ì—…/ë³µêµ¬ | ì§ì ‘ êµ¬í˜„ | ìŠ¤ëƒ…ìƒ· API |\n| ê³ ê°€ìš©ì„± | ì§ì ‘ êµ¬í˜„ | ë ˆí”Œë¦¬ì¹´ ìë™í™” |\n\n---\n\n## ì‚¬ìš© ì‚¬ë¡€ë³„ ê¶Œì¥\n\n### Faissë¥¼ ì„ íƒí•´ì•¼ í•  ë•Œ\n\n1. **ì´ˆì €ì§€ì—°ì´ í•„ìš”í•œ ê²½ìš°**: ë°€ë¦¬ì´ˆ ë‹¨ìœ„ì˜ ì‘ë‹µ ì‹œê°„ì´ ì¤‘ìš”í•œ ì‹¤ì‹œê°„ ì¶”ì²œ\n2. **GPU ìì›ì´ í’ë¶€í•œ ê²½ìš°**: ML ì¸í”„ë¼ì— GPUê°€ ì´ë¯¸ ì¡´ì¬\n3. **ìˆœìˆ˜ ë²¡í„° ê²€ìƒ‰ë§Œ í•„ìš”í•œ ê²½ìš°**: í‚¤ì›Œë“œ ê²€ìƒ‰ì´ ë¶ˆí•„ìš”\n4. **ì»¤ìŠ¤í…€ ìµœì í™”ê°€ í•„ìš”í•œ ê²½ìš°**: ì¸ë±ìŠ¤ íŒŒë¼ë¯¸í„° ì„¸ë°€ ì¡°ì •\n\n```python\n# Faiss ìµœì  ì‚¬ìš© ì˜ˆ: ì‹¤ì‹œê°„ ì¶”ì²œ ì‹œìŠ¤í…œ\ndef get_recommendations(user_embedding, k=10):\n    D, I = gpu_index.search(user_embedding.reshape(1, -1), k)\n    return product_ids[I[0]]  # ë°€ë¦¬ì´ˆ ë‚´ ë°˜í™˜\n```\n\n### OpenSearchë¥¼ ì„ íƒí•´ì•¼ í•  ë•Œ\n\n1. **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ì´ í•„ìš”í•œ ê²½ìš°**: í‚¤ì›Œë“œ + ë²¡í„° ê²€ìƒ‰ í†µí•©\n2. **ìš´ì˜ í¸ì˜ì„±ì´ ì¤‘ìš”í•œ ê²½ìš°**: ëª¨ë‹ˆí„°ë§, ë°±ì—… ë“± ìš´ì˜ ê¸°ëŠ¥ í•„ìš”\n3. **ê¸°ì¡´ Elasticsearch ì¸í”„ë¼ê°€ ìˆëŠ” ê²½ìš°**: ë§ˆì´ê·¸ë ˆì´ì…˜ ìš©ì´\n4. **ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ê²½ìš°**: ì¸ë±ìŠ¤ ì¬êµ¬ì¶• ì—†ì´ ê°±ì‹ \n\n```json\n// OpenSearch ìµœì  ì‚¬ìš© ì˜ˆ: RAG ê²€ìƒ‰ íŒŒì´í”„ë¼ì¸\n{\n  \"query\": {\n    \"bool\": {\n      \"filter\": { \"term\": { \"category\": \"technical\" } },\n      \"must\": {\n        \"knn\": {\n          \"embedding\": {\n            \"vector\": [/* query embedding */],\n            \"k\": 20\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n---\n\n## ì•„í‚¤í…ì²˜ íŒ¨í„´\n\n### íŒ¨í„´ 1: Faiss + Redis (ê³ ì„±ëŠ¥ ìºì‹±)\n\n```mermaid\nflowchart LR\n    Client[Client] --> Gateway[API Gateway]\n    Gateway --> Cache{Redis Cache}\n    Cache -->|Hit| Client\n    Cache -->|Miss| Faiss[Faiss Index<br/>GPU Server]\n    Faiss --> Cache\n```\n\n### íŒ¨í„´ 2: OpenSearch + LLM (RAG)\n\n```mermaid\nflowchart LR\n    User[User Query] --> Embed[Embedding Model]\n    Embed --> Search[OpenSearch k-NN]\n    Search --> Context[Retrieved Context]\n    Context --> LLM[LLM<br/>GPT/Claude]\n    LLM --> Response[Final Response]\n```\n\n### íŒ¨í„´ 3: Faiss ë°±ì—”ë“œ + OpenSearch (í•˜ì´ë¸Œë¦¬ë“œ)\n\n```mermaid\nflowchart TB\n    Query[Query] --> OpenSearch[OpenSearch<br/>Keyword Search]\n    Query --> Faiss[Faiss<br/>Vector Search]\n    OpenSearch --> Merge[Result Merger]\n    Faiss --> Merge\n    Merge --> Rerank[Reranker]\n    Rerank --> Final[Final Results]\n```\n\n---\n\n## ë§ˆì´ê·¸ë ˆì´ì…˜ ê³ ë ¤ì‚¬í•­\n\n### Faiss â†’ OpenSearch\n\n```python\n# Faiss ì¸ë±ìŠ¤ì˜ ë²¡í„°ë¥¼ OpenSearchë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜\nfrom opensearchpy import OpenSearch, helpers\n\nclient = OpenSearch(hosts=['https://localhost:9200'])\n\ndef migrate_vectors(faiss_index, opensearch_index):\n    vectors = faiss.rev_swig_ptr(\n        faiss_index.get_xb(), faiss_index.ntotal * d\n    ).reshape(-1, d)\n    \n    actions = [\n        {\n            \"_index\": opensearch_index,\n            \"_id\": str(i),\n            \"_source\": {\"embedding\": vectors[i].tolist()}\n        }\n        for i in range(len(vectors))\n    ]\n    \n    helpers.bulk(client, actions)\n```\n\n### OpenSearch â†’ Faiss\n\n```python\n# OpenSearchì—ì„œ ë²¡í„° ì¶”ì¶œ í›„ Faiss ì¸ë±ìŠ¤ ìƒì„±\nfrom opensearchpy import OpenSearch\nimport numpy as np\nimport faiss\n\nclient = OpenSearch(hosts=['https://localhost:9200'])\n\ndef export_to_faiss(opensearch_index, field_name):\n    vectors = []\n    query = {\"query\": {\"match_all\": {}}, \"size\": 1000}\n    \n    response = client.search(index=opensearch_index, body=query, scroll='5m')\n    while response['hits']['hits']:\n        for hit in response['hits']['hits']:\n            vectors.append(hit['_source'][field_name])\n        response = client.scroll(scroll_id=response['_scroll_id'], scroll='5m')\n    \n    vectors = np.array(vectors, dtype='float32')\n    index = faiss.IndexFlatL2(vectors.shape[1])\n    index.add(vectors)\n    return index\n```\n\n---\n\n## ê²°ë¡ \n\n| ìš”êµ¬ì‚¬í•­ | ì¶”ì²œ ì†”ë£¨ì…˜ |\n|----------|-------------|\n| ìˆœìˆ˜ ë²¡í„° ê²€ìƒ‰ ì„±ëŠ¥ ê·¹ëŒ€í™” | **Faiss** |\n| í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (í‚¤ì›Œë“œ + ë²¡í„°) | **OpenSearch** |\n| GPU ê°€ì† í•„ìˆ˜ | **Faiss** |\n| ìš´ì˜ í¸ì˜ì„± ìš°ì„  | **OpenSearch** |\n| ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í†µí•© | **OpenSearch** |\n| ML íŒŒì´í”„ë¼ì¸ ë‚´ì¥ | **Faiss** |\n\në‘ ë„êµ¬ëŠ” ìƒí˜¸ ë³´ì™„ì ì¸ ê´€ê³„ì…ë‹ˆë‹¤. **OpenSearchëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Faissë¥¼ ì—”ì§„ìœ¼ë¡œ ì‚¬ìš©**í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë³µì¡í•œ ê²€ìƒ‰ ìš”êµ¬ì‚¬í•­ì—ëŠ” OpenSearchë¥¼, ìˆœìˆ˜ ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ML íŒŒì´í”„ë¼ì¸ì—ëŠ” Faissë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ìµœì„ ì˜ ì„ íƒì…ë‹ˆë‹¤.\n\n---\n\n## References\n\n- [Faiss GitHub Repository](https://github.com/facebookresearch/faiss)\n- [OpenSearch k-NN Documentation](https://opensearch.org/docs/latest/search-plugins/knn/)\n- [Faiss Wiki - Running on GPUs](https://github.com/facebookresearch/faiss/wiki/Running-on-GPUs)\n- [OpenSearch Vector Search](https://opensearch.org/docs/latest/vector-search/)",
    "docType": "original",
    "category": "AI-ML",
    "tags": [
      "vector-search",
      "faiss",
      "opensearch",
      "similarity-search",
      "embedding"
    ],
    "readingTime": 7,
    "wordCount": 1303,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-31"
  },
  {
    "id": "bm25-ê²€ìƒ‰-ì—”ì§„ì˜-í•µì‹¬-ë­í‚¹-ì•Œê³ ë¦¬ì¦˜",
    "slug": "bm25-geomsaeg-enjinyi-haegsim-raengking-algorijeum",
    "path": "ai-ml",
    "fullPath": "ai-ml/bm25-geomsaeg-enjinyi-haegsim-raengking-algorijeum",
    "title": "BM25: ê²€ìƒ‰ ì—”ì§„ì˜ í•µì‹¬ ë­í‚¹ ì•Œê³ ë¦¬ì¦˜",
    "excerpt": "í˜„ëŒ€ ê²€ìƒ‰ ì—”ì§„ì˜ í‘œì¤€ ë­í‚¹ ì•Œê³ ë¦¬ì¦˜ì¸ BM25ì˜ ìˆ˜í•™ì  ì›ë¦¬ì™€ êµ¬í˜„ ë°©ë²•, ê·¸ë¦¬ê³  ì‹¤ë¬´ í™œìš©ë²•ì„ ìƒì„¸íˆ ë¶„ì„í•©ë‹ˆë‹¤.",
    "content": "# BM25: ê²€ìƒ‰ ì—”ì§„ì˜ í•µì‹¬ ë­í‚¹ ì•Œê³ ë¦¬ì¦˜\n\n**BM25**(Best Matching 25)ëŠ” Elasticsearch, OpenSearch, Lucene ë“± ê±°ì˜ ëª¨ë“  í˜„ëŒ€ ê²€ìƒ‰ ì—”ì§„ì˜ ê¸°ë³¸ ë­í‚¹ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” BM25ì˜ ìˆ˜í•™ì  ì›ë¦¬ë¶€í„° ì‹¤ë¬´ í™œìš©ê¹Œì§€ ê¹Šì´ ìˆê²Œ ë‹¤ë£¹ë‹ˆë‹¤.\n\n---\n\n## TF-IDFì—ì„œ BM25ë¡œ\n\n### TF-IDFì˜ í•œê³„\n\n**TF-IDF**(Term Frequency - Inverse Document Frequency)ëŠ” ì •ë³´ ê²€ìƒ‰ì˜ ê³ ì „ì ì¸ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤:\n\n$$\n\\text{TF-IDF}(t, d) = \\text{TF}(t, d) \\times \\text{IDF}(t)\n$$\n\ní•˜ì§€ë§Œ TF-IDFì—ëŠ” ì¹˜ëª…ì ì¸ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤:\n\n1. **ìš©ì–´ ë¹ˆë„ì˜ ë¬´í•œ ì„±ì¥**: ë‹¨ì–´ê°€ 100ë²ˆ ë“±ì¥í•˜ë©´ 1ë²ˆ ë“±ì¥í•œ ê²ƒë³´ë‹¤ 100ë°° ì¤‘ìš”í• ê¹Œìš”?\n2. **ë¬¸ì„œ ê¸¸ì´ ë¬´ì‹œ**: 10í˜ì´ì§€ ë¬¸ì„œì™€ 1í˜ì´ì§€ ë¬¸ì„œë¥¼ ë™ë“±í•˜ê²Œ ì·¨ê¸‰\n\n### BM25ì˜ í•´ê²°ì±…\n\nBM25ëŠ” 1994ë…„ Stephen Robertsonê³¼ Karen SpÃ¤rck Jonesê°€ ì œì•ˆí•œ **í™•ë¥ ì  ì •ë³´ ê²€ìƒ‰ ëª¨ë¸**ì…ë‹ˆë‹¤. TF-IDFì˜ í•œê³„ë¥¼ ê·¹ë³µí•œ í•µì‹¬ ê°œì„ ì :\n\n- **ìš©ì–´ ë¹ˆë„ í¬í™”(Saturation)**: ë¹ˆë„ê°€ ë†’ì•„ì§ˆìˆ˜ë¡ ì˜í–¥ë ¥ ì¦ê°€ ì†ë„ê°€ ê°ì†Œ\n- **ë¬¸ì„œ ê¸¸ì´ ì •ê·œí™”**: ê¸´ ë¬¸ì„œì— ë¶ˆë¦¬í•˜ì§€ ì•Šë„ë¡ ë³´ì •\n\n```mermaid\ngraph LR\n    subgraph TF-IDF\n        A1[\"TF 10 â†’ ì ìˆ˜ 10\"] --> A2[\"TF 100 â†’ ì ìˆ˜ 100\"]\n    end\n    subgraph BM25\n        B1[\"TF 10 â†’ ì ìˆ˜ 2.5\"] --> B2[\"TF 100 â†’ ì ìˆ˜ 2.9\"]\n    end\n```\n\n---\n\n## BM25 ìˆ˜í•™ì  ê³µì‹\n\n### ì „ì²´ ê³µì‹\n\nì¿¼ë¦¬ $Q$ì™€ ë¬¸ì„œ $D$ì— ëŒ€í•œ BM25 ì ìˆ˜:\n\n$$\n\\text{BM25}(D, Q) = \\sum_{i=1}^{n} \\text{IDF}(q_i) \\cdot \\frac{f(q_i, D) \\cdot (k_1 + 1)}{f(q_i, D) + k_1 \\cdot \\left(1 - b + b \\cdot \\frac{|D|}{\\text{avgdl}}\\right)}\n$$\n\n### êµ¬ì„± ìš”ì†Œ ë¶„í•´\n\n| ê¸°í˜¸ | ì˜ë¯¸ | ì„¤ëª… |\n|------|------|------|\n| $q_i$ | ì¿¼ë¦¬ ìš©ì–´ | ì¿¼ë¦¬ì— í¬í•¨ëœ ië²ˆì§¸ ë‹¨ì–´ |\n| $f(q_i, D)$ | TF | ë¬¸ì„œ Dì—ì„œ $q_i$ì˜ ë“±ì¥ íšŸìˆ˜ |\n| $\\|D\\|$ | ë¬¸ì„œ ê¸¸ì´ | ë¬¸ì„œ Dì˜ ë‹¨ì–´ ìˆ˜ |\n| $\\text{avgdl}$ | í‰ê·  ë¬¸ì„œ ê¸¸ì´ | ì „ì²´ ë¬¸ì„œì˜ í‰ê·  ë‹¨ì–´ ìˆ˜ |\n| $k_1$ | í¬í™” íŒŒë¼ë¯¸í„° | ê¸°ë³¸ê°’: 1.2 (ë²”ìœ„: 0~3) |\n| $b$ | ê¸¸ì´ ì •ê·œí™” | ê¸°ë³¸ê°’: 0.75 (ë²”ìœ„: 0~1) |\n\n### IDF ê³„ì‚°\n\n$$\n\\text{IDF}(q_i) = \\ln\\left(\\frac{N - n(q_i) + 0.5}{n(q_i) + 0.5} + 1\\right)\n$$\n\n- $N$: ì „ì²´ ë¬¸ì„œ ìˆ˜\n- $n(q_i)$: ìš©ì–´ $q_i$ë¥¼ í¬í•¨í•œ ë¬¸ì„œ ìˆ˜\n\n---\n\n## íŒŒë¼ë¯¸í„° ì‹¬ì¸µ ë¶„ì„\n\n### k1: ìš©ì–´ ë¹ˆë„ í¬í™”ë„\n\n**k1**ì€ ìš©ì–´ ë¹ˆë„(TF)ê°€ ì ìˆ˜ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì¡°ì ˆí•©ë‹ˆë‹¤.\n\n```mermaid\nxychart-beta\n    title \"k1 ê°’ì— ë”°ë¥¸ TF í¬í™” ê³¡ì„ \"\n    x-axis \"Term Frequency\" [0, 5, 10, 15, 20, 25, 30]\n    y-axis \"Score Contribution\" 0 --> 3.5\n    line \"k1=0.5\" [0, 1.5, 2.0, 2.2, 2.3, 2.4, 2.4]\n    line \"k1=1.2\" [0, 1.8, 2.4, 2.6, 2.7, 2.8, 2.9]\n    line \"k1=2.0\" [0, 2.0, 2.7, 3.0, 3.1, 3.2, 3.3]\n```\n\n| k1 ê°’ | íŠ¹ì„± | ì í•©í•œ ìƒí™© |\n|-------|------|-------------|\n| **0.5 ì´í•˜** | ë¹ ë¥¸ í¬í™” | ë¶ˆìš©ì–´ê°€ ë§ì€ ì½˜í…ì¸  |\n| **1.2 (ê¸°ë³¸)** | ê· í˜• | ì¼ë°˜ì ì¸ í…ìŠ¤íŠ¸ ê²€ìƒ‰ |\n| **2.0 ì´ìƒ** | ëŠë¦° í¬í™” | ì „ë¬¸ ìš©ì–´ê°€ ë§ì€ ê¸°ìˆ  ë¬¸ì„œ |\n\n### b: ë¬¸ì„œ ê¸¸ì´ ì •ê·œí™”\n\n**b**ëŠ” ë¬¸ì„œ ê¸¸ì´ê°€ ì ìˆ˜ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì¡°ì ˆí•©ë‹ˆë‹¤.\n\n| b ê°’ | ì˜ë¯¸ | ì í•©í•œ ìƒí™© |\n|------|------|-------------|\n| **0** | ê¸¸ì´ ë¬´ì‹œ | ëª¨ë“  ë¬¸ì„œê°€ ë¹„ìŠ·í•œ ê¸¸ì´ |\n| **0.75 (ê¸°ë³¸)** | ì ì ˆí•œ íŒ¨ë„í‹° | ì¼ë°˜ì ì¸ ì›¹ ë¬¸ì„œ |\n| **1** | ê°•í•œ íŒ¨ë„í‹° | ê¸´ ë¬¸ì„œê°€ ë¶ˆë¦¬í•´ì•¼ í•  ë•Œ |\n\n---\n\n## Python êµ¬í˜„\n\n### ê¸°ë³¸ BM25 êµ¬í˜„\n\n```python\nimport math\nfrom collections import Counter\nfrom typing import List, Dict\n\nclass BM25:\n    def __init__(self, corpus: List[List[str]], k1: float = 1.2, b: float = 0.75):\n        self.k1 = k1\n        self.b = b\n        self.corpus = corpus\n        self.corpus_size = len(corpus)\n        \n        # ë¬¸ì„œ ê¸¸ì´ ê³„ì‚°\n        self.doc_lengths = [len(doc) for doc in corpus]\n        self.avgdl = sum(self.doc_lengths) / self.corpus_size\n        \n        # IDF ê³„ì‚°\n        self.doc_freqs = self._calc_doc_freqs()\n        self.idf = self._calc_idf()\n        \n        # TF ìºì‹±\n        self.doc_term_freqs = [Counter(doc) for doc in corpus]\n    \n    def _calc_doc_freqs(self) -> Dict[str, int]:\n        \"\"\"ê° ìš©ì–´ê°€ ë“±ì¥í•˜ëŠ” ë¬¸ì„œ ìˆ˜ ê³„ì‚°\"\"\"\n        df = {}\n        for doc in self.corpus:\n            for term in set(doc):\n                df[term] = df.get(term, 0) + 1\n        return df\n    \n    def _calc_idf(self) -> Dict[str, float]:\n        \"\"\"IDF ì ìˆ˜ ê³„ì‚°\"\"\"\n        idf = {}\n        for term, freq in self.doc_freqs.items():\n            idf[term] = math.log(\n                (self.corpus_size - freq + 0.5) / (freq + 0.5) + 1\n            )\n        return idf\n    \n    def score(self, query: List[str], doc_idx: int) -> float:\n        \"\"\"ë‹¨ì¼ ë¬¸ì„œì— ëŒ€í•œ BM25 ì ìˆ˜ ê³„ì‚°\"\"\"\n        score = 0.0\n        doc_len = self.doc_lengths[doc_idx]\n        term_freqs = self.doc_term_freqs[doc_idx]\n        \n        for term in query:\n            if term not in self.idf:\n                continue\n            \n            tf = term_freqs.get(term, 0)\n            idf = self.idf[term]\n            \n            # BM25 ê³µì‹\n            numerator = tf * (self.k1 + 1)\n            denominator = tf + self.k1 * (1 - self.b + self.b * doc_len / self.avgdl)\n            score += idf * (numerator / denominator)\n        \n        return score\n    \n    def search(self, query: List[str], top_k: int = 10) -> List[tuple]:\n        \"\"\"ì „ì²´ ë¬¸ì„œì—ì„œ ìƒìœ„ kê°œ ê²€ìƒ‰\"\"\"\n        scores = [(i, self.score(query, i)) for i in range(self.corpus_size)]\n        scores.sort(key=lambda x: x[1], reverse=True)\n        return scores[:top_k]\n```\n\n### ì‚¬ìš© ì˜ˆì œ\n\n```python\n# ìƒ˜í”Œ ë¬¸ì„œ (í† í°í™”ëœ ìƒíƒœ)\ncorpus = [\n    [\"machine\", \"learning\", \"is\", \"subset\", \"of\", \"artificial\", \"intelligence\"],\n    [\"deep\", \"learning\", \"uses\", \"neural\", \"networks\", \"for\", \"learning\"],\n    [\"natural\", \"language\", \"processing\", \"is\", \"part\", \"of\", \"ai\"],\n    [\"machine\", \"learning\", \"algorithms\", \"learn\", \"from\", \"data\"],\n]\n\n# BM25 ì¸ë±ìŠ¤ ìƒì„±\nbm25 = BM25(corpus)\n\n# ê²€ìƒ‰\nquery = [\"machine\", \"learning\"]\nresults = bm25.search(query, top_k=3)\n\nfor doc_idx, score in results:\n    print(f\"ë¬¸ì„œ {doc_idx}: {score:.4f} - {' '.join(corpus[doc_idx][:5])}...\")\n```\n\nì¶œë ¥:\n\n```\në¬¸ì„œ 3: 1.2847 - machine learning algorithms learn from...\në¬¸ì„œ 0: 1.0923 - machine learning is subset of...\në¬¸ì„œ 1: 0.4651 - deep learning uses neural networks...\n```\n\n---\n\n## Elasticsearchì—ì„œ BM25 í™œìš©\n\n### ê¸°ë³¸ ì„¤ì •\n\nElasticsearchëŠ” BM25ë¥¼ **ê¸°ë³¸ ìœ ì‚¬ë„ ì•Œê³ ë¦¬ì¦˜**ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤:\n\n```json\nPUT /my-index\n{\n  \"settings\": {\n    \"index\": {\n      \"similarity\": {\n        \"custom_bm25\": {\n          \"type\": \"BM25\",\n          \"k1\": 1.5,\n          \"b\": 0.8\n        }\n      }\n    }\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"content\": {\n        \"type\": \"text\",\n        \"similarity\": \"custom_bm25\"\n      }\n    }\n  }\n}\n```\n\n### í•„ë“œë³„ ë‹¤ë¥¸ ì„¤ì • ì ìš©\n\n```json\nPUT /products\n{\n  \"settings\": {\n    \"index\": {\n      \"similarity\": {\n        \"title_similarity\": {\n          \"type\": \"BM25\",\n          \"k1\": 1.2,\n          \"b\": 0.3\n        },\n        \"description_similarity\": {\n          \"type\": \"BM25\",\n          \"k1\": 1.5,\n          \"b\": 0.9\n        }\n      }\n    }\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"title\": {\n        \"type\": \"text\",\n        \"similarity\": \"title_similarity\"\n      },\n      \"description\": {\n        \"type\": \"text\",\n        \"similarity\": \"description_similarity\"\n      }\n    }\n  }\n}\n```\n\n### ì ìˆ˜ ì„¤ëª… í™•ì¸\n\n```json\nGET /my-index/_explain/1\n{\n  \"query\": {\n    \"match\": { \"content\": \"machine learning\" }\n  }\n}\n```\n\nì‘ë‹µì—ì„œ BM25 ê³„ì‚° ê³¼ì •ì„ ìƒì„¸íˆ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```json\n{\n  \"explanation\": {\n    \"value\": 2.8547,\n    \"description\": \"weight(content:learning in 0) [PerFieldSimilarity]\",\n    \"details\": [\n      {\n        \"value\": 1.8,\n        \"description\": \"idf, computed as log(1 + (N - n + 0.5) / (n + 0.5))\"\n      },\n      {\n        \"value\": 1.58,\n        \"description\": \"tf, computed as freq / (freq + k1 * (1 - b + b * dl / avgdl))\"\n      }\n    ]\n  }\n}\n```\n\n---\n\n## BM25 vs ë²¡í„° ê²€ìƒ‰\n\n### íŠ¹ì„± ë¹„êµ\n\n| í•­ëª© | BM25 | ë²¡í„° ê²€ìƒ‰ |\n|------|------|-----------|\n| **ê²€ìƒ‰ ë°©ì‹** | í‚¤ì›Œë“œ ë§¤ì¹­ | ì˜ë¯¸ì  ìœ ì‚¬ë„ |\n| **ì²˜ë¦¬ ì†ë„** | ë§¤ìš° ë¹ ë¦„ | ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¼ |\n| **ì •í™•ë„** | ì •í™•í•œ í‚¤ì›Œë“œ í•„ìš” | ì˜ë¯¸ì  ìœ ì‚¬ì„± ê°ì§€ |\n| **ë¦¬ì†ŒìŠ¤** | ë‚®ìŒ | ë†’ìŒ (ì„ë² ë”© ëª¨ë¸ í•„ìš”) |\n| **ë™ì˜ì–´ ì²˜ë¦¬** | ìˆ˜ë™ ì„¤ì • í•„ìš” | ìë™ (ì˜ë¯¸ ê¸°ë°˜) |\n\n### í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì „ëµ\n\n```mermaid\nflowchart LR\n    Query[ì‚¬ìš©ì ì¿¼ë¦¬] --> BM25[BM25 ê²€ìƒ‰<br/>Top 100]\n    Query --> Vector[ë²¡í„° ê²€ìƒ‰<br/>Top 100]\n    BM25 --> Fusion[RRF<br/>Reciprocal Rank Fusion]\n    Vector --> Fusion\n    Fusion --> Final[ìµœì¢… ê²°ê³¼<br/>Top 10]\n```\n\n### Reciprocal Rank Fusion (RRF) ê³µì‹\n\n$$\n\\text{RRF}(d) = \\sum_{r \\in R} \\frac{1}{k + r(d)}\n$$\n\n- $r(d)$: ë¬¸ì„œ $d$ì˜ ë­í‚¹ ìˆœìœ„\n- $k$: ìƒìˆ˜ (ì¼ë°˜ì ìœ¼ë¡œ 60)\n\nPython êµ¬í˜„:\n\n```python\ndef reciprocal_rank_fusion(rankings: List[List[int]], k: int = 60) -> List[int]:\n    \"\"\"\n    ì—¬ëŸ¬ ë­í‚¹ ë¦¬ìŠ¤íŠ¸ë¥¼ RRFë¡œ ê²°í•©\n    \n    Args:\n        rankings: ê° ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ë¬¸ì„œ ID ìˆœìœ„ ë¦¬ìŠ¤íŠ¸\n        k: ìŠ¤ë¬´ë”© ìƒìˆ˜\n    \n    Returns:\n        í†µí•©ëœ ìµœì¢… ë­í‚¹\n    \"\"\"\n    scores = {}\n    \n    for ranking in rankings:\n        for rank, doc_id in enumerate(ranking, start=1):\n            scores[doc_id] = scores.get(doc_id, 0) + 1 / (k + rank)\n    \n    # ì ìˆ˜ ê¸°ì¤€ ì •ë ¬\n    sorted_docs = sorted(scores.items(), key=lambda x: x[1], reverse=True)\n    return [doc_id for doc_id, _ in sorted_docs]\n\n# ì‚¬ìš© ì˜ˆ\nbm25_results = [101, 203, 305, 402, 501]\nvector_results = [203, 101, 408, 305, 602]\n\nfinal_ranking = reciprocal_rank_fusion([bm25_results, vector_results])\nprint(final_ranking)  # [203, 101, 305, 402, 408, 501, 602]\n```\n\n---\n\n## ì‹¤ë¬´ ìµœì í™” íŒ\n\n### 1. ë„ë©”ì¸ë³„ k1, b íŠœë‹\n\n```python\n# A/B í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ìµœì  íŒŒë¼ë¯¸í„° íƒìƒ‰\nparam_grid = {\n    'k1': [0.5, 1.0, 1.2, 1.5, 2.0],\n    'b': [0.0, 0.25, 0.5, 0.75, 1.0]\n}\n\nbest_params = None\nbest_ndcg = 0\n\nfor k1 in param_grid['k1']:\n    for b in param_grid['b']:\n        bm25 = BM25(corpus, k1=k1, b=b)\n        ndcg = evaluate_ndcg(bm25, test_queries, ground_truth)\n        if ndcg > best_ndcg:\n            best_ndcg = ndcg\n            best_params = (k1, b)\n\nprint(f\"ìµœì  íŒŒë¼ë¯¸í„°: k1={best_params[0]}, b={best_params[1]}\")\n```\n\n### 2. í•„ë“œ ë¶€ìŠ¤íŒ…\n\n```json\nGET /products/_search\n{\n  \"query\": {\n    \"multi_match\": {\n      \"query\": \"wireless headphones\",\n      \"fields\": [\"title^3\", \"description^1\", \"brand^2\"],\n      \"type\": \"best_fields\"\n    }\n  }\n}\n```\n\n### 3. í•¨ìˆ˜ ìŠ¤ì½”ì–´ ê²°í•©\n\n```json\nGET /products/_search\n{\n  \"query\": {\n    \"function_score\": {\n      \"query\": { \"match\": { \"title\": \"laptop\" } },\n      \"functions\": [\n        {\n          \"field_value_factor\": {\n            \"field\": \"sales_count\",\n            \"factor\": 1.2,\n            \"modifier\": \"sqrt\"\n          }\n        },\n        {\n          \"gauss\": {\n            \"created_at\": {\n              \"origin\": \"now\",\n              \"scale\": \"30d\"\n            }\n          }\n        }\n      ],\n      \"score_mode\": \"multiply\"\n    }\n  }\n}\n```\n\n---\n\n## BM25+ì™€ BM25L\n\n### BM25+\n\nBM25ì˜ ë³€í˜•ìœ¼ë¡œ, ë‚®ì€ TFì— í˜ë„í‹°ë¥¼ ì£¼ì§€ ì•Šë„ë¡ ë³´ì •:\n\n$$\n\\text{BM25+} = \\text{BM25} + \\delta \\cdot \\text{IDF}(q_i)\n$$\n\n- $\\delta$: í•˜í•œ ë³´ì • ìƒìˆ˜ (ì¼ë°˜ì ìœ¼ë¡œ 1)\n\n### BM25L\n\nê¸´ ë¬¸ì„œì— ëŒ€í•œ ê³¼ë„í•œ íŒ¨ë„í‹°ë¥¼ ì™„í™”:\n\n$$\nc(q_i, D) = \\frac{f(q_i, D)}{1 - b + b \\cdot \\frac{|D|}{\\text{avgdl}}}\n$$\n\n---\n\n## ê²°ë¡ \n\n| ìƒí™© | ê¶Œì¥ ì„¤ì • |\n|------|-----------|\n| **ì¼ë°˜ ì›¹ ê²€ìƒ‰** | k1=1.2, b=0.75 (ê¸°ë³¸ê°’) |\n| **ì§§ì€ ì œëª© ê²€ìƒ‰** | k1=1.2, b=0.3 |\n| **ê¸´ ê¸°ìˆ  ë¬¸ì„œ** | k1=1.5~2.0, b=0.75 |\n| **ìƒí’ˆ ì„¤ëª…** | k1=1.2, b=0.9 |\n| **FAQ/Q&A** | k1=0.8, b=0.4 |\n\nBM25ëŠ” ë‹¨ìˆœí•˜ì§€ë§Œ ê°•ë ¥í•©ë‹ˆë‹¤. 40ë…„ ê°€ê¹Œì´ ê²€ìƒ‰ì˜ í‘œì¤€ìœ¼ë¡œ ìë¦¬ ì¡ì€ ì´ìœ ëŠ” **ìˆ˜í•™ì  ê²¬ê³ í•¨**ê³¼ **ì‹¤ìš©ì  ì„±ëŠ¥**ì˜ ê· í˜• ë•Œë¬¸ì…ë‹ˆë‹¤. ë²¡í„° ê²€ìƒ‰ì´ ë¶€ìƒí•˜ëŠ” ì‹œëŒ€ì—ë„, BM25ëŠ” í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œë¡œ ê³„ì† í™œìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## References\n\n- Robertson, S., & Zaragoza, H. (2009). [The Probabilistic Relevance Framework: BM25 and Beyond](https://www.staff.city.ac.uk/~sbrp622/papers/foundations_bm25_review.pdf)\n- [Elasticsearch Similarity Module](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules-similarity.html)\n- [OpenSearch k-NN and BM25 Hybrid Search](https://opensearch.org/docs/latest/search-plugins/knn/)",
    "docType": "original",
    "category": "AI-ML",
    "tags": [
      "information-retrieval",
      "search",
      "bm25",
      "elasticsearch",
      "ranking"
    ],
    "readingTime": 8,
    "wordCount": 1566,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-31"
  },
  {
    "id": "turf-polygon-operations",
    "slug": "turf-polygon-operations",
    "path": "frontend/maps",
    "fullPath": "frontend/maps/turf-polygon-operations",
    "title": "Turf.jsë¡œ í´ë¦¬ê³¤ ê³µê°„ ì—°ì‚° ìˆ˜í–‰í•˜ê¸°",
    "excerpt": "Turf.jsë¥¼ ì‚¬ìš©í•˜ì—¬ ë©€í‹°í´ë¦¬ê³¤ì˜ í•©ì§‘í•©, ì°¨ì§‘í•©, êµì§‘í•© ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Turf.jsë¡œ í´ë¦¬ê³¤ ê³µê°„ ì—°ì‚° ìˆ˜í–‰í•˜ê¸°\n\n## ê°œìš”\n\n**Turf.js**ëŠ” ë¸Œë¼ìš°ì €ì™€ Node.jsì—ì„œ ì‹¤í–‰ë˜ëŠ” GeoJSON ê¸°ë°˜ ê³µê°„ ë¶„ì„ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. v7ë¶€í„° `polygon-clipping` ì—”ì§„ìœ¼ë¡œ ì„±ëŠ¥ê³¼ ì •í™•ë„ê°€ í¬ê²Œ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n![Union, Difference, Intersect ì—°ì‚° ê²°ê³¼ ì‹œê°í™”](/images/turf-operations-demo-image.png)\n\n## ì„¤ì¹˜\n\n```bash\n# ì „ì²´ ë¼ì´ë¸ŒëŸ¬ë¦¬\nnpm install @turf/turf\n\n# ë˜ëŠ” ê°œë³„ ëª¨ë“ˆ\nnpm install @turf/union @turf/difference @turf/intersect @turf/helpers\n```\n\n## ê¸°ë³¸ ë°ì´í„° ìƒì„±\n\n### í´ë¦¬ê³¤ ìƒì„±\n\n```javascript\nimport { polygon, multiPolygon, featureCollection } from '@turf/helpers';\n\n// ë‹¨ì¼ í´ë¦¬ê³¤\nconst poly1 = polygon([\n    [[0, 0], [2, 0], [2, 2], [0, 2], [0, 0]]\n]);\n\nconst poly2 = polygon([\n    [[1, 1], [3, 1], [3, 3], [1, 3], [1, 1]]\n]);\n\n// ë©€í‹°í´ë¦¬ê³¤\nconst multiPoly = multiPolygon([\n    [[[0, 0], [1, 0], [1, 1], [0, 1], [0, 0]]],\n    [[[2, 2], [3, 2], [3, 3], [2, 3], [2, 2]]]\n]);\n```\n\n## í•©ì§‘í•© (Union)\n\nì—¬ëŸ¬ í´ë¦¬ê³¤ì„ í•˜ë‚˜ë¡œ ë³‘í•©í•©ë‹ˆë‹¤.\n\n```javascript\nimport { union } from '@turf/union';\nimport { featureCollection } from '@turf/helpers';\n\n// v7: FeatureCollection ì…ë ¥\nconst merged = union(featureCollection([poly1, poly2]));\n// ê²°ê³¼: Polygon ë˜ëŠ” MultiPolygon (ì—°ê²°ë˜ì§€ ì•Šìœ¼ë©´)\n```\n\n### ì—¬ëŸ¬ í´ë¦¬ê³¤ ë³‘í•©\n\n```javascript\nimport { union } from '@turf/union';\nimport { featureCollection } from '@turf/helpers';\n\nconst polygons = [poly1, poly2, poly3, poly4];\nconst merged = union(featureCollection(polygons));\n```\n\n### ì‹¤ìš© ì˜ˆ: í–‰ì •êµ¬ì—­ ë³‘í•©\n\n```javascript\n// ê²½ê¸°ë„ ì‹œêµ°êµ¬ â†’ ê²½ê¸°ë„ ì „ì²´ ì˜ì—­\nconst gyeonggiCities = featureCollection([\n    suwonPolygon,\n    seongnamPolygon,\n    yonginPolygon,\n    // ...\n]);\n\nconst gyeonggiProvince = union(gyeonggiCities);\n```\n\n## ì°¨ì§‘í•© (Difference)\n\nê¸°ì¤€ í´ë¦¬ê³¤ì—ì„œ ë‹¤ë¥¸ í´ë¦¬ê³¤ ì˜ì—­ì„ ì œê±°í•©ë‹ˆë‹¤.\n\n```javascript\nimport { difference } from '@turf/difference';\nimport { featureCollection } from '@turf/helpers';\n\n// poly1ì—ì„œ poly2 ì˜ì—­ ì œê±°\nconst subtracted = difference(featureCollection([poly1, poly2]));\n// ê²°ê³¼: Polygon, MultiPolygon, ë˜ëŠ” null (ì™„ì „íˆ ë®ì´ë©´)\n```\n\n### ì—¬ëŸ¬ ì˜ì—­ ì œê±°\n\n```javascript\n// baseì—ì„œ exclude1, exclude2 ì˜ì—­ ëª¨ë‘ ì œê±°\nconst result = difference(featureCollection([base, exclude1, exclude2]));\n```\n\n### ì‹¤ìš© ì˜ˆ: íŠ¹ì • êµ¬ì—­ ì œì™¸\n\n```javascript\n// ì„œìš¸ì‹œ ì „ì²´ì—ì„œ í•œê°• ì˜ì—­ ì œì™¸\nconst seoulLandOnly = difference(featureCollection([\n    seoulBoundary,\n    hanRiverPolygon\n]));\n```\n\n## êµì§‘í•© (Intersect)\n\ní´ë¦¬ê³¤ë“¤ì˜ ê²¹ì¹˜ëŠ” ì˜ì—­ë§Œ ì¶”ì¶œí•©ë‹ˆë‹¤.\n\n```javascript\nimport { intersect } from '@turf/intersect';\nimport { featureCollection } from '@turf/helpers';\n\nconst intersection = intersect(featureCollection([poly1, poly2]));\n// ê²°ê³¼: Polygon, MultiPolygon, ë˜ëŠ” null (ê²¹ì¹˜ì§€ ì•Šìœ¼ë©´)\n```\n\n### ì‹¤ìš© ì˜ˆ: ì„œë¹„ìŠ¤ ê°€ëŠ¥ ì˜ì—­\n\n```javascript\n// ë°°ë‹¬ ê°€ëŠ¥ ì˜ì—­ê³¼ ì‚¬ìš©ì ìœ„ì¹˜ ì£¼ë³€ ì˜ì—­ì˜ êµì§‘í•©\nconst deliverableArea = intersect(featureCollection([\n    restaurantDeliveryZone,\n    userRadiusCircle\n]));\n\nif (deliverableArea) {\n    console.log('ë°°ë‹¬ ê°€ëŠ¥í•œ ì˜ì—­ ì¡´ì¬');\n} else {\n    console.log('ë°°ë‹¬ ë¶ˆê°€');\n}\n```\n\n## ì—°ì‚° ê²°ê³¼ ê²€ì¦\n\n### Null ì²˜ë¦¬\n\nêµì§‘í•©ì´ë‚˜ ì°¨ì§‘í•© ê²°ê³¼ê°€ ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```javascript\nconst result = intersect(featureCollection([polyA, polyB]));\n\nif (result === null) {\n    console.log('ê²¹ì¹˜ëŠ” ì˜ì—­ ì—†ìŒ');\n    return;\n}\n\n// ê²°ê³¼ ì‚¬ìš©\nconsole.log(result.geometry.type); // 'Polygon' or 'MultiPolygon'\n```\n\n### ë©´ì  ê²€ì¦\n\n```javascript\nimport { area } from '@turf/area';\n\nconst merged = union(featureCollection(polygons));\nconst areaM2 = area(merged);\nconsole.log(`ë©´ì : ${(areaM2 / 1000000).toFixed(2)} kmÂ²`);\n```\n\n## ë³µí•© ì—°ì‚° ì˜ˆì‹œ\n\n### ë„ë„› í´ë¦¬ê³¤ ìƒì„±\n\n```javascript\nimport { difference } from '@turf/difference';\nimport { circle } from '@turf/circle';\nimport { featureCollection } from '@turf/helpers';\n\n// ì™¸ë¶€ ì› (ë°˜ê²½ 5km)\nconst outer = circle([127.0, 37.5], 5, { units: 'kilometers' });\n\n// ë‚´ë¶€ ì› (ë°˜ê²½ 2km)\nconst inner = circle([127.0, 37.5], 2, { units: 'kilometers' });\n\n// ë„ë„› í˜•íƒœ\nconst donut = difference(featureCollection([outer, inner]));\n```\n\n### ì—¬ëŸ¬ ì¡°ê±´ ì¡°í•©\n\n```javascript\nimport { union, difference, intersect } from '@turf/turf';\nimport { featureCollection } from '@turf/helpers';\n\n// 1. ëª¨ë“  ì„œë¹„ìŠ¤ ì§€ì—­ ë³‘í•©\nconst allServiceAreas = union(featureCollection(servicePolygons));\n\n// 2. ê¸ˆì§€ êµ¬ì—­ ì œê±°\nconst allowedAreas = difference(featureCollection([\n    allServiceAreas,\n    ...restrictedZones\n]));\n\n// 3. ì‚¬ìš©ì ë°˜ê²½ê³¼ êµì°¨\nconst finalServiceable = intersect(featureCollection([\n    allowedAreas,\n    userRadiusPolygon\n]));\n```\n\n## ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­\n\n### ë³µì¡í•œ í´ë¦¬ê³¤\n\n```javascript\nimport { simplify } from '@turf/simplify';\n\n// ì—°ì‚° ì „ í´ë¦¬ê³¤ ë‹¨ìˆœí™” (ì •ì  ìˆ˜ ê°ì†Œ)\nconst simplified = simplify(complexPolygon, { tolerance: 0.001 });\nconst result = union(featureCollection([simplified, otherPolygon]));\n```\n\n### ìœ íš¨ì„± ê²€ì‚¬\n\n```javascript\nimport { kinks } from '@turf/kinks';\n\n// ìê¸° êµì°¨ ê²€ì‚¬\nconst selfIntersections = kinks(polygon);\nif (selfIntersections.features.length > 0) {\n    console.warn('ìê¸° êµì°¨í•˜ëŠ” í´ë¦¬ê³¤');\n}\n```\n\n## API ì •ë¦¬\n\n| í•¨ìˆ˜ | ì…ë ¥ | ì¶œë ¥ | ì„¤ëª… |\n|------|------|------|------|\n| `union` | FeatureCollection | Polygon/MultiPolygon | ëª¨ë“  í´ë¦¬ê³¤ ë³‘í•© |\n| `difference` | FeatureCollection | Polygon/MultiPolygon/null | ì²« ë²ˆì§¸ì—ì„œ ë‚˜ë¨¸ì§€ ì œê±° |\n| `intersect` | FeatureCollection | Polygon/MultiPolygon/null | ê³µí†µ ì˜ì—­ ì¶”ì¶œ |\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **FeatureCollection ì‚¬ìš©**: v7ë¶€í„° ì—¬ëŸ¬ í´ë¦¬ê³¤ì€ FeatureCollectionìœ¼ë¡œ ì „ë‹¬\n2. **Null ì²´í¬ í•„ìˆ˜**: êµì§‘í•©/ì°¨ì§‘í•© ê²°ê³¼ê°€ ì—†ì„ ìˆ˜ ìˆìŒ\n3. **ë‹¨ìˆœí™” ë¨¼ì €**: ë³µì¡í•œ í´ë¦¬ê³¤ì€ `simplify` í›„ ì—°ì‚°\n4. **ì¢Œí‘œê³„ í†µì¼**: ëª¨ë“  ì…ë ¥ì€ ë™ì¼í•œ SRID (ë³´í†µ 4326)\n\n## ì°¸ê³  ìë£Œ\n\n- [Turf.js Documentation](https://turfjs.org/)\n- [Turf.js v7 Release Notes](https://github.com/Turfjs/turf/releases/tag/v7.0.0)",
    "docType": "original",
    "category": "Frontend",
    "tags": [
      "Turf.js",
      "GeoJSON",
      "JavaScript",
      "Spatial",
      "GIS"
    ],
    "readingTime": 4,
    "wordCount": 714,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "mapbox-gl-guide",
    "slug": "mapbox-gl-guide",
    "path": "frontend/maps",
    "fullPath": "frontend/maps/mapbox-gl-guide",
    "title": "Mapbox GL JSë¡œ ì¸í„°ë™í‹°ë¸Œ ì§€ë„ êµ¬í˜„í•˜ê¸°",
    "excerpt": "Mapbox GL JS v3ë¡œ Earth2 ìŠ¤íƒ€ì¼ ê²©ì ê·¸ë¦¬ë“œì™€ ë„¤ì´ë²„ë¶€ë™ì‚° ìŠ¤íƒ€ì¼ ì˜ì—­ ë ˆì´ì–´ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Mapbox GL JSë¡œ ì¸í„°ë™í‹°ë¸Œ ì§€ë„ êµ¬í˜„í•˜ê¸°\n\n## ê°œìš”\n\n**Mapbox GL JS**ëŠ” WebGL ê¸°ë°˜ ë²¡í„° íƒ€ì¼ ì§€ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ë‘ ê°€ì§€ ì‹¤ìš©ì ì¸ íŒ¨í„´ì„ ë‹¤ë£¹ë‹ˆë‹¤:\n\n1. **ê²©ì ê·¸ë¦¬ë“œ ë ˆì´ì–´**: Earth2 ìŠ¤íƒ€ì¼ì˜ ë°”ë‘‘íŒ ì˜¤ë²„ë ˆì´\n2. **ì˜ì—­ í´ë¦¬ê³¤ ë ˆì´ì–´**: ë„¤ì´ë²„ë¶€ë™ì‚° ìŠ¤íƒ€ì¼ì˜ ì§€ì—­ í‘œì‹œ\n\n## ì„¤ì¹˜ ë° ì´ˆê¸°í™”\n\n```bash\nnpm install mapbox-gl @turf/turf\n```\n\n```javascript\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nmapboxgl.accessToken = 'YOUR_ACCESS_TOKEN';\n\nconst map = new mapboxgl.Map({\n    container: 'map',\n    style: 'mapbox://styles/mapbox/dark-v11',  // ê²©ìê°€ ì˜ ë³´ì´ëŠ” ë‹¤í¬ í…Œë§ˆ\n    center: [127.0, 37.5],\n    zoom: 12\n});\n```\n\n---\n\n## ì˜ˆì‹œ 1: Earth2 ìŠ¤íƒ€ì¼ ê²©ì ê·¸ë¦¬ë“œ\n\nì „ ì„¸ê³„ë¥¼ ì¼ì •í•œ í¬ê¸°ì˜ ì…€ë¡œ ë‚˜ëˆ„ì–´ ë°”ë‘‘íŒì²˜ëŸ¼ í‘œì‹œí•©ë‹ˆë‹¤.\n\n![ê²©ì ê·¸ë¦¬ë“œ ë°ëª¨ - í´ë¦­ìœ¼ë¡œ ì…€ ì„ íƒ ê°€ëŠ¥](/images/mapbox-grid-demo-image.png)\n\n### ê²©ì ìƒì„± (Turf.js)\n\n```javascript\nimport { squareGrid, bboxPolygon } from '@turf/turf';\n\n// í˜„ì¬ ë·°í¬íŠ¸ ê¸°ì¤€ ê²©ì ìƒì„±\nfunction createGrid(bounds, cellSize = 0.01) {\n    const bbox = [bounds.getWest(), bounds.getSouth(), bounds.getEast(), bounds.getNorth()];\n    \n    // cellSize: ë„ ë‹¨ìœ„ (0.01ë„ â‰ˆ ì•½ 1km)\n    const grid = squareGrid(bbox, cellSize, { units: 'degrees' });\n    \n    // ê° ì…€ì— ê³ ìœ  ID ë¶€ì—¬\n    grid.features.forEach((cell, i) => {\n        cell.id = i;\n        cell.properties.cellId = `cell_${i}`;\n    });\n    \n    return grid;\n}\n```\n\n### ê²©ì ë ˆì´ì–´ ì¶”ê°€\n\n```javascript\nmap.on('load', () => {\n    const grid = createGrid(map.getBounds(), 0.005);\n    \n    // ì†ŒìŠ¤ ì¶”ê°€\n    map.addSource('grid', {\n        type: 'geojson',\n        data: grid,\n        generateId: true\n    });\n    \n    // ê²©ì ë©´ (Fill)\n    map.addLayer({\n        id: 'grid-fill',\n        type: 'fill',\n        source: 'grid',\n        paint: {\n            'fill-color': [\n                'case',\n                ['boolean', ['feature-state', 'selected'], false], '#00ff88',\n                ['boolean', ['feature-state', 'hover'], false], '#ffffff',\n                'transparent'\n            ],\n            'fill-opacity': [\n                'case',\n                ['boolean', ['feature-state', 'selected'], false], 0.6,\n                ['boolean', ['feature-state', 'hover'], false], 0.2,\n                0\n            ]\n        }\n    });\n    \n    // ê²©ì ì„  (Line)\n    map.addLayer({\n        id: 'grid-line',\n        type: 'line',\n        source: 'grid',\n        paint: {\n            'line-color': '#00ff88',\n            'line-width': 0.5,\n            'line-opacity': 0.5\n        }\n    });\n});\n```\n\n### ê²©ì ì¸í„°ë™ì…˜\n\n```javascript\nlet hoveredCellId = null;\nconst selectedCells = new Set();\n\n// í˜¸ë²„\nmap.on('mousemove', 'grid-fill', (e) => {\n    if (e.features.length > 0) {\n        if (hoveredCellId !== null) {\n            map.setFeatureState({ source: 'grid', id: hoveredCellId }, { hover: false });\n        }\n        hoveredCellId = e.features[0].id;\n        map.setFeatureState({ source: 'grid', id: hoveredCellId }, { hover: true });\n    }\n});\n\nmap.on('mouseleave', 'grid-fill', () => {\n    if (hoveredCellId !== null) {\n        map.setFeatureState({ source: 'grid', id: hoveredCellId }, { hover: false });\n    }\n    hoveredCellId = null;\n});\n\n// í´ë¦­ìœ¼ë¡œ ì…€ ì„ íƒ/í•´ì œ\nmap.on('click', 'grid-fill', (e) => {\n    const cellId = e.features[0].id;\n    const isSelected = selectedCells.has(cellId);\n    \n    if (isSelected) {\n        selectedCells.delete(cellId);\n        map.setFeatureState({ source: 'grid', id: cellId }, { selected: false });\n    } else {\n        selectedCells.add(cellId);\n        map.setFeatureState({ source: 'grid', id: cellId }, { selected: true });\n    }\n    \n    console.log('ì„ íƒëœ ì…€:', [...selectedCells]);\n});\n```\n\n### ë·°í¬íŠ¸ ë³€ê²½ ì‹œ ê²©ì ê°±ì‹ \n\n```javascript\nmap.on('moveend', () => {\n    const newGrid = createGrid(map.getBounds(), 0.005);\n    map.getSource('grid').setData(newGrid);\n});\n```\n\n---\n\n## ì˜ˆì‹œ 2: ë„¤ì´ë²„ë¶€ë™ì‚° ìŠ¤íƒ€ì¼ ì˜ì—­ ë ˆì´ì–´\n\ní–‰ì •êµ¬ì—­ë³„ë¡œ ìƒ‰ìƒê³¼ ë¼ë²¨ì„ í‘œì‹œí•˜ê³ , í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n![ë¶€ë™ì‚° ìŠ¤íƒ€ì¼ ì˜ì—­ ë ˆì´ì–´ - ê°€ê²©ë³„ ìƒ‰ìƒê³¼ ë¼ë²¨](/images/mapbox-district-demo-image.png)\n\n### GeoJSON ë°ì´í„° êµ¬ì¡°\n\n```javascript\nconst districtsData = {\n    type: 'FeatureCollection',\n    features: [\n        {\n            type: 'Feature',\n            id: 1,\n            properties: {\n                name: 'ê°•ë‚¨êµ¬',\n                avgPrice: 15000000,  // í‰ë‹¹ ê°€ê²©\n                changeRate: 2.5      // ë³€ë™ë¥  %\n            },\n            geometry: {\n                type: 'Polygon',\n                coordinates: [[[127.0, 37.5], [127.1, 37.5], [127.1, 37.52], [127.0, 37.52], [127.0, 37.5]]]\n            }\n        },\n        // ...\n    ]\n};\n```\n\n### ì˜ì—­ ë ˆì´ì–´ ì¶”ê°€\n\n```javascript\nmap.on('load', () => {\n    map.addSource('districts', {\n        type: 'geojson',\n        data: districtsData,\n        generateId: true\n    });\n    \n    // ì˜ì—­ ë©´ - ê°€ê²©ì— ë”°ë¥¸ ìƒ‰ìƒ\n    map.addLayer({\n        id: 'districts-fill',\n        type: 'fill',\n        source: 'districts',\n        paint: {\n            'fill-color': [\n                'interpolate',\n                ['linear'],\n                ['get', 'avgPrice'],\n                5000000, '#fef0d9',    // ë‚®ì€ ê°€ê²©: ì—°í•œ ìƒ‰\n                10000000, '#fdbb84',\n                15000000, '#fc8d59',\n                20000000, '#d7301f'    // ë†’ì€ ê°€ê²©: ì§„í•œ ìƒ‰\n            ],\n            'fill-opacity': [\n                'case',\n                ['boolean', ['feature-state', 'hover'], false], 0.9,\n                0.6\n            ]\n        }\n    });\n    \n    // ì˜ì—­ ê²½ê³„ì„ \n    map.addLayer({\n        id: 'districts-outline',\n        type: 'line',\n        source: 'districts',\n        paint: {\n            'line-color': '#ffffff',\n            'line-width': [\n                'case',\n                ['boolean', ['feature-state', 'hover'], false], 3,\n                1\n            ]\n        }\n    });\n    \n    // ë¼ë²¨ (êµ¬ ì´ë¦„ + ê°€ê²©)\n    map.addLayer({\n        id: 'districts-label',\n        type: 'symbol',\n        source: 'districts',\n        layout: {\n            'text-field': [\n                'format',\n                ['get', 'name'], { 'font-scale': 1.2 },\n                '\\n', {},\n                ['concat', ['to-string', ['/', ['get', 'avgPrice'], 10000]], 'ë§Œì›'], { 'font-scale': 0.9 }\n            ],\n            'text-font': ['DIN Pro Medium', 'Arial Unicode MS Bold'],\n            'text-size': 12,\n            'text-anchor': 'center'\n        },\n        paint: {\n            'text-color': '#ffffff',\n            'text-halo-color': '#000000',\n            'text-halo-width': 1\n        }\n    });\n});\n```\n\n### í˜¸ë²„ ë° íŒì—…\n\n```javascript\nlet hoveredDistrictId = null;\n\nmap.on('mousemove', 'districts-fill', (e) => {\n    map.getCanvas().style.cursor = 'pointer';\n    \n    if (e.features.length > 0) {\n        if (hoveredDistrictId !== null) {\n            map.setFeatureState({ source: 'districts', id: hoveredDistrictId }, { hover: false });\n        }\n        hoveredDistrictId = e.features[0].id;\n        map.setFeatureState({ source: 'districts', id: hoveredDistrictId }, { hover: true });\n    }\n});\n\nmap.on('mouseleave', 'districts-fill', () => {\n    map.getCanvas().style.cursor = '';\n    if (hoveredDistrictId !== null) {\n        map.setFeatureState({ source: 'districts', id: hoveredDistrictId }, { hover: false });\n    }\n    hoveredDistrictId = null;\n});\n\n// í´ë¦­ ì‹œ ìƒì„¸ íŒì—…\nmap.on('click', 'districts-fill', (e) => {\n    const props = e.features[0].properties;\n    const changeColor = props.changeRate >= 0 ? '#ff4444' : '#4444ff';\n    const changeSign = props.changeRate >= 0 ? '+' : '';\n    \n    new mapboxgl.Popup()\n        .setLngLat(e.lngLat)\n        .setHTML(`\n            <div style=\"padding: 8px;\">\n                <h3 style=\"margin: 0 0 8px 0;\">${props.name}</h3>\n                <p style=\"margin: 4px 0;\">í‰ë‹¹ ê°€ê²©: <b>${(props.avgPrice / 10000).toFixed(0)}ë§Œì›</b></p>\n                <p style=\"margin: 4px 0; color: ${changeColor};\">\n                    ë³€ë™ë¥ : ${changeSign}${props.changeRate}%\n                </p>\n            </div>\n        `)\n        .addTo(map);\n});\n```\n\n### ë²”ë¡€ ì¶”ê°€\n\n```html\n<div id=\"legend\" style=\"position: absolute; bottom: 20px; left: 20px; background: white; padding: 10px; border-radius: 4px;\">\n    <h4>í‰ë‹¹ ê°€ê²©</h4>\n    <div><span style=\"background: #fef0d9; width: 20px; height: 10px; display: inline-block;\"></span> 500ë§Œ ì´í•˜</div>\n    <div><span style=\"background: #fdbb84; width: 20px; height: 10px; display: inline-block;\"></span> 500-1000ë§Œ</div>\n    <div><span style=\"background: #fc8d59; width: 20px; height: 10px; display: inline-block;\"></span> 1000-1500ë§Œ</div>\n    <div><span style=\"background: #d7301f; width: 20px; height: 10px; display: inline-block;\"></span> 1500ë§Œ ì´ìƒ</div>\n</div>\n```\n\n---\n\n## ê³µí†µ: ë™ì  ë°ì´í„° ë¡œë“œ\n\n### APIì—ì„œ GeoJSON ë¡œë“œ\n\n```javascript\nasync function loadDistricts() {\n    const response = await fetch('/api/districts?city=seoul');\n    const geojson = await response.json();\n    \n    if (map.getSource('districts')) {\n        map.getSource('districts').setData(geojson);\n    } else {\n        map.addSource('districts', { type: 'geojson', data: geojson, generateId: true });\n        // ë ˆì´ì–´ ì¶”ê°€...\n    }\n}\n```\n\n### í•„í„°ë§\n\n```javascript\n// íŠ¹ì • ì¡°ê±´ë§Œ í‘œì‹œ\nmap.setFilter('districts-fill', ['>', ['get', 'avgPrice'], 10000000]);\n\n// í•„í„° í•´ì œ\nmap.setFilter('districts-fill', null);\n```\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **generateId í•„ìˆ˜**: Feature State í™œìš© ì‹œ í•„ìš”\n2. **load ì´ë²¤íŠ¸ í›„ ì‘ì—…**: ì†ŒìŠ¤/ë ˆì´ì–´ëŠ” ë°˜ë“œì‹œ `map.on('load', ...)` ë‚´ì—ì„œ\n3. **í˜¸ë²„ ìƒíƒœ ì •ë¦¬**: `mouseleave`ì—ì„œ ìƒíƒœ ì´ˆê¸°í™” í•„ìˆ˜\n4. **ì„±ëŠ¥**: ê²©ìëŠ” ë·°í¬íŠ¸ ë²”ìœ„ë¡œ ì œí•œ, ì „ì²´ ë¡œë“œ ê¸ˆì§€\n5. **ë©”ëª¨ë¦¬**: ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ `map.remove()` í˜¸ì¶œ\n\n## ì°¸ê³  ìë£Œ\n\n- [Mapbox GL JS v3 Documentation](https://docs.mapbox.com/mapbox-gl-js/)\n- [Turf.js squareGrid](https://turfjs.org/docs/#squareGrid)",
    "docType": "original",
    "category": "Frontend",
    "tags": [
      "Mapbox",
      "JavaScript",
      "GeoJSON",
      "Visualization",
      "Maps"
    ],
    "readingTime": 5,
    "wordCount": 998,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "streams-audit-pipeline",
    "slug": "streams-audit-pipeline",
    "path": "database/redis",
    "fullPath": "database/redis/streams-audit-pipeline",
    "title": "Redis Streams ê¸°ë°˜ ë¹„ë™ê¸° ê°ì‚¬ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•",
    "excerpt": "Redis Streamsì™€ Consumer Groupì„ í™œìš©í•˜ì—¬ At-least-once ì „ë‹¬ê³¼ Dead Letter ì²˜ë¦¬ë¥¼ ì§€ì›í•˜ëŠ” ë¹„ë™ê¸° ê°ì‚¬ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Redis Streams ê¸°ë°˜ ë¹„ë™ê¸° ê°ì‚¬ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•\n\n## ê°œìš”\n\në°ì´í„° ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ê°ì‚¬(Audit) ì‹œìŠ¤í…œì—ì„œ **Redis Streams**ëŠ” ê°•ë ¥í•œ ì„ íƒì…ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ë©”ì‹œì§€ ìœ ì‹¤ ì—†ëŠ” ê°ì‚¬ íŒŒì´í”„ë¼ì¸ì„ ì„¤ê³„í•˜ê³ , íŠ¹íˆ ì²˜ë¦¬ ì‹¤íŒ¨ ì‹œì˜ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜ì„ í¬í•¨í•œ êµ¬í˜„ ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n## ì™œ Redis Streamsì¸ê°€?\n\n### ì¥ì \n\n| íŠ¹ì„± | ì„¤ëª… |\n|------|------|\n| **At-least-once ì „ë‹¬** | ACK ë©”ì»¤ë‹ˆì¦˜ê³¼ PELì„ í†µí•œ ë©”ì‹œì§€ ìœ ì‹¤ ë°©ì§€ |\n| **ìˆœì„œ ë³´ì¥** | ìŠ¤íŠ¸ë¦¼ ë‚´ ë©”ì‹œì§€ ì¸ì… ìˆœì„œ ìœ ì§€ |\n| **ê³ ì„±ëŠ¥** | ì¸ë©”ëª¨ë¦¬ ê¸°ë°˜ ë†’ì€ ì²˜ë¦¬ëŸ‰ |\n| **ì˜ì†ì„±** | AOF/RDB ì„¤ì •ìœ¼ë¡œ ë°ì´í„° ì§€ì†ì„± ë³´ì¥ |\n| **Consumer Group** | ì—¬ëŸ¬ ì›Œì»¤ ê°„ ìˆ˜í‰ í™•ì¥ ë° ë¶€í•˜ ë¶„ì‚° |\n\n### ë‹¨ì \n\n| íŠ¹ì„± | ì„¤ëª… |\n|------|------|\n| **ë©”ëª¨ë¦¬ ì••ë°•** | ë°ì´í„°ê°€ ëˆ„ì ë˜ë¯€ë¡œ `XTRIM` ë“±ì„ í†µí•œ ê´€ë¦¬ê°€ í•„ìˆ˜ì ì„ |\n| **ìƒíƒœ ê´€ë¦¬ ë³µì¡ì„±** | Pending ë©”ì‹œì§€(PEL) ë° ì¬ì‹œë„ ë¡œì§ì„ ì§ì ‘ ì œì–´í•´ì•¼ í•¨ |\n\n## ì•„í‚¤í…ì²˜ ì„¤ê³„\n\n### íŒŒì´í”„ë¼ì¸ íë¦„\n\n```mermaid\ngraph TD\n    %% Nodes\n    API[\"API Server\"]\n    RS[\"Redis Stream<br/>(audit-events)\"]\n    AW[\"Audit Worker<br/>(Consumer)\"]\n    DLS[\"Dead Letter Stream\"]\n    DLW[\"Dead Letter Worker\"]\n\n    %% Flow\n    API --> RS\n    RS --> AW\n    \n    %% Error Flow\n    AW -- \"ì‹¤íŒ¨ ì‹œ\" --> DLS\n    RS -. \"íŒŒì‹± ì‹¤íŒ¨ ì‹œ\" .-> DLS\n    \n    DLS --> DLW\n\n    %% Styling\n    style API fill:#f9f9f9,stroke:#333\n    style RS fill:#e1f5fe,stroke:#01579b\n    style AW fill:#e1f5fe,stroke:#01579b\n    style DLS fill:#fff3e0,stroke:#e65100\n    style DLW fill:#fff3e0,stroke:#e65100\n```\n\n### ë©”ì‹œì§€ êµ¬ì¡°\n\nRedis Streamsì˜ ë©”ì‹œì§€ëŠ” ë¶ˆë³€(Immutable)ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ì¬ì‹œë„ íšŸìˆ˜ ê°™ì€ ìƒíƒœê°’ì€ ë©”ì‹œì§€ ë‚´ë¶€ì— ë‹´ê¸°ë³´ë‹¤ Redisê°€ ì œê³µí•˜ëŠ” metadata(delivery count)ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì…ë‹ˆë‹¤.\n\n```go\npackage audit\n\nimport \"time\"\n\n// EventMessageëŠ” ê°ì‚¬ ì´ë²¤íŠ¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤.\ntype EventMessage struct {\n    ID            string                 `json:\"id\"`\n    Collection    string                 `json:\"collection\"`\n    DocumentURI   string                 `json:\"document_uri\"`\n    Action        string                 `json:\"action\"` // CREATE, UPDATE, DELETE\n    Version       int32                  `json:\"version\"`\n    Payload       map[string]interface{} `json:\"payload\"`\n    Timestamp     time.Time              `json:\"timestamp\"`\n}\n\n```\n\n## í•µì‹¬ êµ¬í˜„\n\n### ë©”ì‹œì§€ ë°œí–‰ì (Producer)\n\n```go\npackage audit\n\nimport (\n    \"context\"\n    \"encoding/json\"\n    \"fmt\"\n    \n    \"[github.com/redis/go-redis/v9](https://github.com/redis/go-redis/v9)\"\n)\n\nconst (\n    AuditStreamKey = \"audit-events-stream\"\n)\n\ntype EventProducer struct {\n    client redis.UniversalClient\n}\n\nfunc NewEventProducer(client redis.UniversalClient) *EventProducer {\n    return &EventProducer{client: client}\n}\n\n// PublishëŠ” ì´ë²¤íŠ¸ë¥¼ ìŠ¤íŠ¸ë¦¼ì— ë°œí–‰í•©ë‹ˆë‹¤.\nfunc (p *EventProducer) Publish(ctx context.Context, event *EventMessage) (string, error) {\n    payload, err := json.Marshal(event)\n    if err != nil {\n        return \"\", fmt.Errorf(\"marshal event: %w\", err)\n    }\n    \n    messageID, err := p.client.XAdd(ctx, &redis.XAddArgs{\n        Stream: AuditStreamKey,\n        Values: map[string]interface{}{\n            \"payload\": payload,\n        },\n    }).Result()\n    \n    if err != nil {\n        return \"\", fmt.Errorf(\"xadd: %w\", err)\n    }\n    \n    return messageID, nil\n}\n\n```\n\n### ì›Œì»¤ (Consumer)\n\nRedis Streamsì—ì„œ `>` IDëŠ” ìƒˆ ë©”ì‹œì§€ë§Œì„ ì˜ë¯¸í•©ë‹ˆë‹¤. í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘ ì‹œ ì²˜ë¦¬ë˜ì§€ ëª»í•œ ë©”ì‹œì§€ë¥¼ ë³µêµ¬í•˜ë ¤ë©´ `0` IDë¥¼ í†µí•´ PEL(Pending Entries List)ì„ ë¨¼ì € í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```go\n// processMessagesëŠ” ìƒˆ ë©”ì‹œì§€ì™€ Pending ë©”ì‹œì§€ë¥¼ í•¨ê»˜ ì²˜ë¦¬í•©ë‹ˆë‹¤.\nfunc (w *StreamWorker) processMessages(ctx context.Context) {\n    // ì „ëµ: PEL(Pending Entries List)ì´ ë¹„ì›Œì§ˆ ë•Œê¹Œì§€ ìš°ì„  ì²˜ë¦¬í•œ í›„ ìƒˆ ë©”ì‹œì§€ë¡œ ì´ë™\n    \n    for {\n        // 1. ë³¸ì¸ì˜ Pending ë©”ì‹œì§€(\"0\") í™•ì¸\n        msgs, err := w.readBatch(ctx, \"0\")\n        if err != nil || len(msgs) == 0 {\n            break // ë” ì´ìƒ ì²˜ë¦¬í•  Pending ë©”ì‹œì§€ê°€ ì—†ìœ¼ë©´ íƒˆì¶œ\n        }\n        \n        for _, m := range msgs {\n            w.handleMessage(ctx, m)\n        }\n        \n        // BatchSizeë³´ë‹¤ ì ê²Œ ê°€ì ¸ì™”ë‹¤ë©´ PELì´ ê±°ì˜ ë¹„ì–´ìˆë‹¤ëŠ” ëœ»ì´ë¯€ë¡œ ë‹¤ìŒìœ¼ë¡œ ì§„í–‰\n        if int64(len(msgs)) < w.config.BatchSize {\n            break\n        }\n    }\n\n    // 2. ì´ì œ ìƒˆ ë©”ì‹œì§€(\">\") ì²˜ë¦¬\n    msgs, _ := w.readBatch(ctx, \">\")\n    for _, m := range msgs {\n        w.handleMessage(ctx, m)\n    }\n}\n\n// ê³µí†µ ì½ê¸° ë¡œì§ ë¶„ë¦¬\nfunc (w *StreamWorker) readBatch(ctx context.Context, id string) ([]redis.XMessage, error) {\n    streams, err := w.client.XReadGroup(ctx, &redis.XReadGroupArgs{\n        Group:    w.config.Group,\n        Consumer: w.config.Consumer,\n        Streams:  []string{w.config.Stream, id},\n        Count:    w.config.BatchSize,\n        Block:    w.config.PollInterval,\n    }).Result()\n    \n    if err != nil || len(streams) == 0 {\n        return nil, err\n    }\n    return streams[0].Messages, nil\n}\n\nfunc (w *StreamWorker) handleMessage(ctx context.Context, msg redis.XMessage) {\n    var event EventMessage\n    \n    // ì•ˆì „í•œ íƒ€ì… ë‹¨ì–¸\n    payloadRaw, ok := msg.Values[\"payload\"].(string)\n    if !ok {\n        w.moveToDeadLetter(ctx, msg, fmt.Errorf(\"invalid payload type\"))\n        return\n    }\n\n    if err := json.Unmarshal([]byte(payloadRaw), &event); err != nil {\n        w.moveToDeadLetter(ctx, msg, err)\n        return\n    }\n\n    // í•¸ë“¤ëŸ¬ í˜¸ì¶œ\n    errs := w.handler.Handle(ctx, []*EventMessage{&event})\n    \n    if len(errs) > 0 && errs[0] != nil {\n        w.handleFailure(ctx, msg, errs[0])\n        return\n    }\n    \n    // ì„±ê³µ ì‹œ ACKë¥¼ ë³´ë‚´ PELì—ì„œ ì œê±°\n    w.client.XAck(ctx, w.config.Stream, w.config.Group, msg.ID)\n}\n\nfunc (w *StreamWorker) handleFailure(ctx context.Context, msg redis.XMessage, err error) {\n    // XPENDINGìœ¼ë¡œ í˜„ì¬ ë©”ì‹œì§€ì˜ ì „ë‹¬ íšŸìˆ˜(delivery count) í™•ì¸\n    pends, _ := w.client.XPendingExt(ctx, &redis.XPendingExtArgs{\n        Stream: w.config.Stream,\n        Group:  w.config.Group,\n        Start:  msg.ID,\n        End:    msg.ID,\n        Count:  1,\n    }).Result()\n\n    if len(pends) > 0 && int(pends[0].Count) >= w.config.MaxRetries {\n        // ìµœëŒ€ ì¬ì‹œë„ ì´ˆê³¼ ì‹œ Dead Letter ì´ë™ í›„ ACK\n        w.moveToDeadLetter(ctx, msg, err)\n        w.client.XAck(ctx, w.config.Stream, w.config.Group, msg.ID)\n        return\n    }\n    \n    // ACKë¥¼ í•˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒ \"0\" ID ì¡°íšŒ ì‹œ ì¬ì „ë‹¬ë¨\n}\n\nfunc (w *StreamWorker) moveToDeadLetter(ctx context.Context, msg redis.XMessage, reason error) {\n    w.client.XAdd(ctx, &redis.XAddArgs{\n        Stream: w.config.DeadLetterStream,\n        Values: map[string]interface{}{\n            \"original_id\": msg.ID,\n            \"payload\":     msg.Values[\"payload\"],\n            \"error\":       reason.Error(),\n            \"failed_at\":   time.Now().Format(time.RFC3339),\n        },\n    })\n}\n\n```\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **ID \"0\"ê³¼ \">\"ì˜ ì¡°í•©**: `>`ë§Œ ì‚¬ìš©í•˜ë©´ ì¥ì•  ë°œìƒ ì‹œ ì²˜ë¦¬ ì¤‘ì´ë˜ ë©”ì‹œì§€ê°€ ì˜ì›íˆ Pending ìƒíƒœë¡œ ë‚¨ê²Œ ë©ë‹ˆë‹¤. ë°˜ë“œì‹œ `0` ID ì¡°íšŒë¥¼ ë³‘í–‰í•˜ì„¸ìš”.\n2. **ACK ì‹ ì¤‘íˆ**: ë¡œì§ì´ ì™„ì „íˆ ì„±ê³µí•œ í›„ì—ë§Œ `XACK`ë¥¼ í˜¸ì¶œí•´ì•¼ At-least-onceë¥¼ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n3. **íƒ€ì… ì•ˆì „ì„±**: Redis ë°ì´í„° ìœ íš¨ì„±ì„ ë¯¿ì§€ ë§ˆì„¸ìš”. íƒ€ì… ë‹¨ì–¸ ì‹œ ë°˜ë“œì‹œ `ok` íŒ¨í„´ì„ ì‚¬ìš©í•´ íŒ¨ë‹‰ì„ ë°©ì§€í•´ì•¼ í•©ë‹ˆë‹¤.\n4. **XTRIM ì •ê¸° ì‹¤í–‰**: ê°ì‚¬ ë¡œê·¸ëŠ” ì–‘ì´ ë§¤ìš° ë§ìœ¼ë¯€ë¡œ ìŠ¤íŠ¸ë¦¼ ìƒì„± ì‹œ í˜¹ì€ ì£¼ê¸°ì ìœ¼ë¡œ `XTRIM`ì„ ìˆ˜í–‰í•´ ë©”ëª¨ë¦¬ë¥¼ ê´€ë¦¬í•˜ì„¸ìš”.\n\n## ì°¸ê³  ìë£Œ\n\n* [Redis Streams ê³µì‹ ë¬¸ì„œ](https://redis.io/docs/data-types/streams/)\n* [go-redis ë¼ì´ë¸ŒëŸ¬ë¦¬](https://github.com/redis/go-redis)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Redis",
      "Streams",
      "Event-Driven",
      "Architecture"
    ],
    "readingTime": 5,
    "wordCount": 819,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "postgis-geojson-guide",
    "slug": "postgis-geojson-guide",
    "path": "database/postgresql",
    "fullPath": "database/postgresql/postgis-geojson-guide",
    "title": "PostGISì™€ GeoJSONì„ í™œìš©í•œ ê³µê°„ ë°ì´í„° ê´€ë¦¬",
    "excerpt": "PostGISì—ì„œ GeoJSON í˜•ì‹ì˜ ê³µê°„ ë°ì´í„°ë¥¼ ì €ì¥, ë³€í™˜, ì¡°íšŒí•˜ëŠ” í•µì‹¬ í•¨ìˆ˜ì™€ ì¸ë±ì‹± ì „ëµì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# PostGISì™€ GeoJSONì„ í™œìš©í•œ ê³µê°„ ë°ì´í„° ê´€ë¦¬\n\n## ê°œìš”\n\n**PostGIS**ëŠ” PostgreSQLì˜ ê³µê°„ í™•ì¥ìœ¼ë¡œ, ì§€ë¦¬ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì¿¼ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. **GeoJSON**ì€ ì§€ë¦¬ ì •ë³´ë¥¼ í‘œí˜„í•˜ëŠ” JSON ê¸°ë°˜ í‘œì¤€(RFC 7946)ì…ë‹ˆë‹¤.\n\n## í…Œì´ë¸” ì„¤ê³„\n\n### ê¸°ë³¸ ê³µê°„ í…Œì´ë¸”\n\n```sql\nCREATE EXTENSION IF NOT EXISTS postgis;\n\nCREATE TABLE regions (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    -- SRID 4326 = WGS84 (ìœ„ê²½ë„)\n    geom GEOMETRY(MultiPolygon, 4326)\n);\n\n-- ê³µê°„ ì¸ë±ìŠ¤ í•„ìˆ˜\nCREATE INDEX idx_regions_geom ON regions USING GIST(geom);\n```\n\n### SRID ì„ íƒ\n\n| SRID | ì¢Œí‘œê³„ | ìš©ë„ |\n|------|--------|------|\n| 4326 | WGS84 ìœ„ê²½ë„ | GeoJSON í‘œì¤€, GPS |\n| 3857 | Web Mercator | ì›¹ ì§€ë„ íƒ€ì¼ |\n| 5186 | Korea TM | í•œêµ­ ì¸¡ëŸ‰ |\n\n## GeoJSON â†’ PostGIS ì €ì¥\n\n### ST_GeomFromGeoJSON\n\nGeoJSON ë¬¸ìì—´ì„ Geometryë¡œ ë³€í™˜:\n\n```sql\n-- ë‹¨ì¼ í´ë¦¬ê³¤ ì‚½ì…\nINSERT INTO regions (name, geom)\nVALUES (\n    'ì„œìš¸ì‹œ',\n    ST_GeomFromGeoJSON('{\n        \"type\": \"Polygon\",\n        \"coordinates\": [[[126.9, 37.5], [127.1, 37.5], [127.1, 37.6], [126.9, 37.6], [126.9, 37.5]]]\n    }')\n);\n\n-- SRID ëª…ì‹œ (PostGIS 3.0+ëŠ” ê¸°ë³¸ 4326)\nINSERT INTO regions (name, geom)\nVALUES (\n    'ë¶€ì‚°ì‹œ',\n    ST_SetSRID(ST_GeomFromGeoJSON('{\"type\": \"Polygon\", \"coordinates\": ...}'), 4326)\n);\n```\n\n### ë°°ì¹˜ ì‚½ì…\n\n```sql\n-- JSON ë°°ì—´ì—ì„œ ì¼ê´„ ì‚½ì…\nINSERT INTO regions (name, geom)\nSELECT \n    feature->>'name',\n    ST_GeomFromGeoJSON(feature->'geometry')\nFROM jsonb_array_elements(:geojson_features::jsonb) AS feature;\n```\n\n## PostGIS â†’ GeoJSON ì¡°íšŒ\n\n### ST_AsGeoJSON\n\nGeometryë¥¼ GeoJSON ë¬¸ìì—´ë¡œ ë³€í™˜:\n\n```sql\n-- ê¸°ë³¸ ë³€í™˜\nSELECT id, name, ST_AsGeoJSON(geom) AS geojson\nFROM regions;\n\n-- ì¢Œí‘œ ì†Œìˆ˜ì  6ìë¦¬ë¡œ ì œí•œ (ìœ„ê²½ë„ ì•½ 0.1m ì •ë°€ë„)\nSELECT ST_AsGeoJSON(geom, 6) FROM regions;\n\n-- BBox í¬í•¨ (ì˜µì…˜ 1)\nSELECT ST_AsGeoJSON(geom, 6, 1) FROM regions;\n```\n\n### FeatureCollection ìƒì„±\n\ní´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬í•  ì™„ì „í•œ GeoJSON ìƒì„±:\n\n```sql\nSELECT json_build_object(\n    'type', 'FeatureCollection',\n    'features', json_agg(\n        json_build_object(\n            'type', 'Feature',\n            'id', id,\n            'geometry', ST_AsGeoJSON(geom, 6)::json,\n            'properties', json_build_object('name', name)\n        )\n    )\n) AS geojson\nFROM regions;\n```\n\n## ê³µê°„ ì¿¼ë¦¬\n\n### í¬í•¨ ê´€ê³„\n\n```sql\n-- íŠ¹ì • ì¢Œí‘œê°€ ì–´ëŠ ì§€ì—­ì— ì†í•˜ëŠ”ì§€\nSELECT name FROM regions\nWHERE ST_Contains(geom, ST_SetSRID(ST_Point(127.0, 37.5), 4326));\n```\n\n### ë°˜ê²½ ê²€ìƒ‰\n\n```sql\n-- ë°˜ê²½ 10km ë‚´ ì§€ì—­ (Geography íƒ€ì… í™œìš©)\nSELECT name, ST_Distance(geom::geography, ST_Point(127.0, 37.5)::geography) AS distance_m\nFROM regions\nWHERE ST_DWithin(geom::geography, ST_Point(127.0, 37.5)::geography, 10000)\nORDER BY distance_m;\n```\n\n### êµì°¨ ì˜ì—­\n\n```sql\n-- ë‘ ì§€ì—­ì˜ êµì§‘í•©\nSELECT ST_AsGeoJSON(ST_Intersection(a.geom, b.geom))\nFROM regions a, regions b\nWHERE a.name = 'ì„œìš¸ì‹œ' AND b.name = 'ê²½ê¸°ë„';\n```\n\n## ì¸ë±ìŠ¤ ì „ëµ\n\n### GIST ì¸ë±ìŠ¤\n\nê³µê°„ ì¿¼ë¦¬ ì„±ëŠ¥ì˜ í•µì‹¬:\n\n```sql\n-- ê¸°ë³¸ ê³µê°„ ì¸ë±ìŠ¤\nCREATE INDEX idx_geom ON regions USING GIST(geom);\n\n-- Geography ì¸ë±ìŠ¤ (ê±°ë¦¬ ê³„ì‚°ìš©)\nCREATE INDEX idx_geom_geog ON regions USING GIST((geom::geography));\n```\n\n### í´ëŸ¬ìŠ¤í„°ë§\n\nìì£¼ í•¨ê»˜ ì¡°íšŒë˜ëŠ” ë°ì´í„°ë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ì¸ì ‘ ë°°ì¹˜:\n\n```sql\nCLUSTER regions USING idx_regions_geom;\n```\n\n## ì¢Œí‘œê³„ ë³€í™˜\n\n```sql\n-- WGS84 â†’ Web Mercator\nSELECT ST_Transform(geom, 3857) FROM regions;\n\n-- ë©´ì  ê³„ì‚° (ì •í™•í•œ ê³„ì‚°ì„ ìœ„í•´ ì ì ˆí•œ íˆ¬ì˜ ì‚¬ìš©)\nSELECT name, ST_Area(ST_Transform(geom, 5186)) AS area_m2\nFROM regions;\n```\n\n## í´ë¦¬ê³¤ ìœ íš¨ì„±\n\n```sql\n-- ìœ íš¨ì„± ê²€ì‚¬\nSELECT name, ST_IsValid(geom), ST_IsValidReason(geom)\nFROM regions\nWHERE NOT ST_IsValid(geom);\n\n-- ìë™ ìˆ˜ì •\nUPDATE regions SET geom = ST_MakeValid(geom) WHERE NOT ST_IsValid(geom);\n\n-- GeoJSON í‘œì¤€ ì¤€ìˆ˜ (Right-Hand Rule)\nUPDATE regions SET geom = ST_ForcePolygonCCW(geom);\n```\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **SRID 4326**: GeoJSONê³¼ í˜¸í™˜, ì›¹ ì„œë¹„ìŠ¤ í‘œì¤€\n2. **GIST ì¸ë±ìŠ¤ í•„ìˆ˜**: ê³µê°„ ì¿¼ë¦¬ ì„±ëŠ¥ ê²°ì •\n3. **ì¢Œí‘œ ì •ë°€ë„ ì œí•œ**: `ST_AsGeoJSON(geom, 6)`ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ì •ë°€ë„ ì œê±°\n4. **ìœ íš¨ì„± ê²€ì‚¬**: ì‚½ì… ì „ `ST_IsValid` í™•ì¸\n5. **Geography íƒ€ì…**: ê±°ë¦¬ ê³„ì‚°ì´ ì¤‘ìš”í•˜ë©´ Geography ì‚¬ìš©\n\n## ì°¸ê³  ìë£Œ\n\n- [PostGIS 3.4 Documentation](https://postgis.net/docs/)\n- [GeoJSON RFC 7946](https://datatracker.ietf.org/doc/html/rfc7946)",
    "docType": "original",
    "category": "Database",
    "tags": [
      "PostGIS",
      "PostgreSQL",
      "GeoJSON",
      "Spatial",
      "GIS"
    ],
    "readingTime": 3,
    "wordCount": 538,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "wiredtiger-storage-engine",
    "slug": "wiredtiger-storage-engine",
    "path": "database/mongodb",
    "fullPath": "database/mongodb/wiredtiger-storage-engine",
    "title": "MongoDB WiredTiger ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì´í•´í•˜ê¸°",
    "excerpt": "MongoDBì˜ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì¸ WiredTigerì˜ ì•„í‚¤í…ì²˜, ìºì‹œ, ì²´í¬í¬ì¸íŠ¸, Lock-Free ì•Œê³ ë¦¬ì¦˜ê¹Œì§€ ê¹Šì´ ìˆê²Œ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# MongoDB WiredTiger ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì´í•´í•˜ê¸°\n\n## ê°œìš”\n\n**WiredTiger**ëŠ” MongoDB 3.2ë¶€í„° ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ì±„íƒëœ ê³ ì„±ëŠ¥ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì…ë‹ˆë‹¤. ë¬¸ì„œ ìˆ˜ì¤€ ë™ì‹œì„± ì œì–´ì™€ ì••ì¶•ì„ ì§€ì›í•˜ë©°, ëŒ€ë¶€ë¶„ì˜ ì›Œí¬ë¡œë“œì—ì„œ ë›°ì–´ë‚œ ì„±ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n## í•µì‹¬ ì•„í‚¤í…ì²˜\n\n### ë¬¸ì„œ ìˆ˜ì¤€ ì ê¸ˆ (Document-Level Locking)\n\nWiredTigerì˜ ê°€ì¥ í° ì¥ì ì€ **ë¬¸ì„œ ìˆ˜ì¤€ì˜ ë™ì‹œì„± ì œì–´**ì…ë‹ˆë‹¤.\n\n| ìŠ¤í† ë¦¬ì§€ ì—”ì§„ | ì ê¸ˆ ìˆ˜ì¤€ | ë™ì‹œì„± |\n|-------------|---------|-------|\n| MMAPv1 (ë ˆê±°ì‹œ) | ì»¬ë ‰ì…˜ ìˆ˜ì¤€ | ë‚®ìŒ |\n| WiredTiger | ë¬¸ì„œ ìˆ˜ì¤€ | ë†’ìŒ |\n\n```javascript\n// ì„œë¡œ ë‹¤ë¥¸ ë¬¸ì„œì— ëŒ€í•œ ë™ì‹œ ì“°ê¸°ê°€ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë¨\ndb.users.updateOne({ _id: 1 }, { $set: { name: \"Alice\" } })\ndb.users.updateOne({ _id: 2 }, { $set: { name: \"Bob\" } })  // ë¸”ë¡œí‚¹ ì—†ìŒ\n```\n\n### MVCC (Multi-Version Concurrency Control)\n\nWiredTigerëŠ” **MVCC**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½ê¸°ì™€ ì“°ê¸° ì‘ì—…ì´ ì„œë¡œë¥¼ ì°¨ë‹¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n- ì½ê¸° ì‘ì—…: ì‹œì‘ ì‹œì ì˜ ìŠ¤ëƒ…ìƒ·ì„ ì°¸ì¡°\n- ì“°ê¸° ì‘ì—…: ìƒˆ ë²„ì „ ìƒì„±\n- ì¶©ëŒ ì‹œ: ìë™ ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜\n\n---\n\n## ë°ì´í„° ì ìš© ìˆœì„œ\n\nMongoDBì—ì„œ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” ìˆœì„œë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤:\n\n```\n1. WAL (Write-Ahead Log) ê¸°ë¡\n2. Data Memory ì ìš© (ê³µìœ  ìºì‹œ)\n3. OpLog ê¸°ë¡ (Replica Setìš©)\n4. Disk Flush (ì²´í¬í¬ì¸íŠ¸)\n```\n\nì´ ìˆœì„œ ë•ë¶„ì— ì¥ì•  ì‹œì—ë„ WALì„ í†µí•´ ë°ì´í„°ë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n---\n\n## ê³µìœ  ìºì‹œ (Shared Cache)\n\nWiredTigerì˜ ê³µìœ  ìºì‹œëŠ” MySQLì˜ Buffer Poolê³¼ ìœ ì‚¬í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n### MySQL Buffer Poolê³¼ì˜ ì°¨ì´\n\n| íŠ¹ì„± | MySQL Buffer Pool | WiredTiger Cache |\n|-----|-------------------|------------------|\n| ìºì‹± ë°©ì‹ | B-Tree ìƒì˜ ì£¼ì†Œ ì‚¬ìš© | ë©”ëª¨ë¦¬ ì£¼ì†Œë¡œ ë³€í™˜í•˜ì—¬ ì ì¬ |\n| ìºì‹± ì†ë„ | ë¹ ë¦„ | ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¼ (ë³€í™˜ ê³¼ì •) |\n| ì½ê¸° ì„±ëŠ¥ | ë³´í†µ | ìºì‹± í›„ ë” ë¹ ë¦„ |\n\nWiredTigerëŠ” ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì í•©í•œ íŠ¸ë¦¬ í˜•íƒœë¡œ **ì¬êµ¬ì„±**í•˜ì—¬ ì ì¬í•©ë‹ˆë‹¤. ì´ ë³€í™˜ ê³¼ì •ìœ¼ë¡œ ì¸í•´ ì´ˆê¸° ìºì‹±ì€ ëŠë¦´ ìˆ˜ ìˆì§€ë§Œ, ì¼ë‹¨ ìºì‹±ë˜ë©´ RDBë³´ë‹¤ ë¹ ë¥¸ ì½ê¸° ì„±ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n### ìºì‹œ ì„¤ì •\n\n```yaml\n# mongod.conf\nstorage:\n  wiredTiger:\n    engineConfig:\n      cacheSizeGB: 4  # ê¶Œì¥: (RAM - 1GB) / 2\n```\n\n**ê¸°ë³¸ ìºì‹œ í¬ê¸° ê³„ì‚°:**\n\n- (RAM - 1GB) Ã— 50%\n- ë˜ëŠ” 256MB ì¤‘ í° ê°’\n\n---\n\n## Lock-Free ì•Œê³ ë¦¬ì¦˜\n\nWiredTigerëŠ” ë†’ì€ ë™ì‹œì„±ì„ ìœ„í•´ **Lock-Free ì•Œê³ ë¦¬ì¦˜**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n### Hazard Pointer\n\n- í˜„ì¬ ë°ì´í„°ë¥¼ ì°¸ì¡°í•˜ê³  ìˆëŠ” ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ Hazard Pointerì— ë“±ë¡\n- ìºì‹œì—ì„œ ì œê±°(Eviction) ì‹œ Hazard Pointerì— ë“±ë¡ëœ ë°ì´í„°ëŠ” ë³´í˜¸\n- Disk Flush ì—¬ë¶€ë„ Hazard Pointerë¥¼ í†µí•´ ê²°ì •\n\n### Skip List\n\n- Undo Logë¥¼ Skip Listë¡œ ê´€ë¦¬\n- ë ˆì½”ë“œ ë³€ê²½ ì‹œ ì´ì „ ë²„ì „ì„ Skip Listì— ì¶”ê°€\n- MVCC êµ¬í˜„ì˜ í•µì‹¬ ìë£Œêµ¬ì¡°\n\n---\n\n## Cache Eviction\n\nìºì‹œì˜ ë¹ˆ ê³µê°„ì„ ì ì ˆíˆ ìœ ì§€í•˜ì—¬ ìƒˆ ë°ì´í„°ë¥¼ ì ì¬í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n### ë™ì‘ ë°©ì‹\n\n- **ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ**: í‰ìƒì‹œ Eviction ì²˜ë¦¬\n- **í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ**: ë°±ê·¸ë¼ìš´ë“œê°€ ê³µê°„ í™•ë³´ ì‹¤íŒ¨ ì‹œ ì§ì ‘ ìˆ˜í–‰ (ì„±ëŠ¥ ì €í•˜ ë°œìƒ)\n\n### íŠœë‹ íŒŒë¼ë¯¸í„°\n\n| íŒŒë¼ë¯¸í„° | ì„¤ëª… | ê¸°ë³¸ê°’ |\n|---------|------|-------|\n| `threads_max` | Eviction ìŠ¤ë ˆë“œ ìµœëŒ€ ê°œìˆ˜ | 4 (1~20) |\n| `threads_min` | Eviction ìŠ¤ë ˆë“œ ìµœì†Œ ê°œìˆ˜ | 1 (1~20) |\n| `eviction_dirty_target` | ë”í‹° í˜ì´ì§€ ë¹„ìœ¨ ìœ ì§€ ëª©í‘œ | 5% |\n| `eviction_target` | ì „ì²´ ìºì‹œ ì‚¬ìš©ë¥  ëª©í‘œ | 80% |\n\n```yaml\n# ê³ ê¸‰ Eviction ì„¤ì •\nstorage:\n  wiredTiger:\n    engineConfig:\n      eviction:\n        threads_max: 8\n        threads_min: 4\n```\n\n> **ì£¼ì˜**: Evictionì´ í¬ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ë˜ë©´ ì“°ê¸° ì„±ëŠ¥ì´ ê¸‰ê²©íˆ ì €í•˜ë©ë‹ˆë‹¤. `cache eviction` ê´€ë ¨ ì§€í‘œë¥¼ ëª¨ë‹ˆí„°ë§í•˜ì„¸ìš”.\n\n---\n\n## ë°ì´í„° ì••ì¶•\n\nWiredTigerëŠ” ë‘ ìˆ˜ì¤€ì˜ ì••ì¶•ì„ ì§€ì›í•©ë‹ˆë‹¤:\n\n### ì»¬ë ‰ì…˜ ë°ì´í„° ì••ì¶•\n\n```javascript\n// ì»¬ë ‰ì…˜ ìƒì„± ì‹œ ì••ì¶• ì•Œê³ ë¦¬ì¦˜ ì§€ì •\ndb.createCollection(\"logs\", {\n  storageEngine: {\n    wiredTiger: {\n      configString: \"block_compressor=zstd\"\n    }\n  }\n})\n```\n\n| ì•Œê³ ë¦¬ì¦˜ | ì••ì¶•ë¥  | ì†ë„ | ìš©ë„ |\n|---------|-------|-----|------|\n| `snappy` (ê¸°ë³¸) | ë³´í†µ | ë¹ ë¦„ | ë²”ìš© |\n| `zlib` | ë†’ìŒ | ëŠë¦¼ | ì•„ì¹´ì´ë¸Œ |\n| `zstd` | ë†’ìŒ | ë¹ ë¦„ | **ê¶Œì¥** (4.2+) |\n| `none` | - | - | ì‹¤ì‹œê°„ ì²˜ë¦¬ |\n\n> **zstd ê¶Œì¥ ì´ìœ **: ë¬´ì†ì‹¤ ì••ì¶•ì´ë©´ì„œ ì••ì¶•/í•´ì œ ì†ë„ê°€ ì¤€ìˆ˜í•¨\n\n### ì¸ë±ìŠ¤ í”„ë¦¬í”½ìŠ¤ ì••ì¶•\n\nì¸ë±ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **í”„ë¦¬í”½ìŠ¤ ì••ì¶•**ì´ ì ìš©ë©ë‹ˆë‹¤:\n\n```javascript\n// ì¸ë±ìŠ¤ ì••ì¶• ë¹„í™œì„±í™” ì˜ˆì‹œ\ndb.collection.createIndex(\n  { field: 1 },\n  { storageEngine: { wiredTiger: { configString: \"prefix_compression=false\" } } }\n)\n```\n\n---\n\n## ì²´í¬í¬ì¸íŠ¸ (Checkpoint)\n\nì²´í¬í¬ì¸íŠ¸ëŠ” **ë°ì´í„° íŒŒì¼ê³¼ íŠ¸ëœì­ì…˜ ë¡œê·¸ê°€ ë™ê¸°í™”ë˜ëŠ” ì‹œì **ì…ë‹ˆë‹¤. DB ì¥ì•  ì‹œ ë³µêµ¬ ì‹œì ì„ ê²°ì •í•˜ëŠ” ê¸°ì¤€ì´ ë©ë‹ˆë‹¤.\n\n### Sharp Checkpoint\n\nMongoDBëŠ” **Sharp Checkpoint** ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:\n\n- ì²´í¬í¬ì¸íŠ¸ ì‹¤í–‰ ì‹œì ì— ë”í‹° í˜ì´ì§€ë¥¼ **í•œ ë²ˆì— ëª¨ì•„ì„œ** ë””ìŠ¤í¬ì— ë‚´ë ¤ì”€\n- Fuzzy Checkpoint(ì ì§„ì  ë°©ì‹)ì™€ ëŒ€ë¹„ë˜ëŠ” ê°œë…\n\n### ì²´í¬í¬ì¸íŠ¸ íŠ¸ë¦¬ê±°\n\nê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ìŒ ì¡°ê±´ì—ì„œ ì²´í¬í¬ì¸íŠ¸ê°€ ë°œìƒí•©ë‹ˆë‹¤:\n\n- **60ì´ˆ** ê²½ê³¼\n- **2GB** ì €ë„ ë°ì´í„° ëˆ„ì \n\n### ì²´í¬í¬ì¸íŠ¸ ì˜µì…˜\n\n| ì˜µì…˜ | ì„¤ëª… | ê¸°ë³¸ê°’ |\n|-----|------|-------|\n| `log_size` | ì´ í¬ê¸°ë§Œí¼ íŠ¸ëœì­ì…˜ ë¡œê·¸ ì“°ë©´ ì²´í¬í¬ì¸íŠ¸ ì‹¤í–‰ | 0 (ìë™) |\n| `wait` | ì£¼ê¸°ì  ì²´í¬í¬ì¸íŠ¸ ê°„ê²© (ì´ˆ) | 0 (ìë™) |\n\n```yaml\n# mongod.conf\nstorage:\n  wiredTiger:\n    engineConfig:\n      checkpointSizeMB: 1024\n```\n\n---\n\n## ì €ë„ë§ (Journaling)\n\nWrite-Ahead Logging(WAL)ìœ¼ë¡œ ë°ì´í„° ë‚´êµ¬ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n\n- Journal LogëŠ” ë°ì´í„° ë””ë ‰í† ë¦¬ í•˜ìœ„ `journal/` í´ë”ì— ì €ì¥\n- ì¥ì•  ë°œìƒ ì‹œ Journal Logë¥¼ ì‚¬ìš©í•´ ë°ì´í„° ë³µêµ¬\n\n```yaml\nstorage:\n  journal:\n    enabled: true\n    commitIntervalMs: 100  # ê¸°ë³¸ê°’\n```\n\n---\n\n## ì„±ëŠ¥ íŠœë‹\n\n### í”„ë¡œë•ì…˜ ê¶Œì¥ ì„¤ì •\n\n```yaml\n# mongod.conf\nstorage:\n  wiredTiger:\n    engineConfig:\n      cacheSizeGB: 8\n      journalCompressor: snappy\n    collectionConfig:\n      blockCompressor: zstd\n    indexConfig:\n      prefixCompressionEnabled: true\n```\n\n### ëª¨ë‹ˆí„°ë§ ëª…ë ¹ì–´\n\n```javascript\n// WiredTiger ì „ì²´ í†µê³„\ndb.serverStatus().wiredTiger\n\n// ìºì‹œ ìƒíƒœ\ndb.serverStatus().wiredTiger.cache\n\n// ì»¬ë ‰ì…˜ë³„ í†µê³„\ndb.collection.stats().wiredTiger\n```\n\n---\n\n## ì£¼ì˜ì‚¬í•­\n\n1. **ìºì‹œ í¬ê¸°**: ì‹œìŠ¤í…œ RAMì˜ 50% ì´í•˜ ê¶Œì¥\n2. **ì••ì¶•**: CPU ì˜¤ë²„í—¤ë“œì™€ ì €ì¥ ê³µê°„ íŠ¸ë ˆì´ë“œì˜¤í”„ ê³ ë ¤\n3. **ì €ë„ë§**: ë¹„í™œì„±í™” ì‹œ ë°ì´í„° ì†ì‹¤ ìœ„í—˜\n4. **Eviction ëª¨ë‹ˆí„°ë§**: í¬ê·¸ë¼ìš´ë“œ Eviction ë°œìƒ ì‹œ ì„±ëŠ¥ ì €í•˜\n5. **ì²´í¬í¬ì¸íŠ¸**: Sharp Checkpointë¡œ ì¸í•œ ì¼ì‹œì  I/O ìŠ¤íŒŒì´í¬ ê³ ë ¤\n\n## ì°¸ê³  ìë£Œ\n\n- [MongoDB WiredTiger ê³µì‹ ë¬¸ì„œ](https://www.mongodb.com/docs/manual/core/wiredtiger/)\n- [WiredTiger GitHub](https://github.com/wiredtiger/wiredtiger)\n- [MongoDB ì´ ì •ë¦¬ (liltdevs)](https://liltdevs.tistory.com/216)",
    "docType": "original",
    "category": "Database",
    "tags": [
      "MongoDB",
      "WiredTiger",
      "Database",
      "Storage Engine"
    ],
    "readingTime": 5,
    "wordCount": 865,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "sharding-guide",
    "slug": "sharding-guide",
    "path": "database/mongodb",
    "fullPath": "database/mongodb/sharding-guide",
    "title": "MongoDB ìƒ¤ë”©(Sharding) ì™„ë²½ ê°€ì´ë“œ",
    "excerpt": "MongoDB ìƒ¤ë”©ì˜ ê°œë…ë¶€í„° ìƒ¤ë“œ í‚¤ ì„ íƒ, í´ëŸ¬ìŠ¤í„° êµ¬ì„±ê¹Œì§€ ì‹¤ì „ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
    "content": "# MongoDB ìƒ¤ë”©(Sharding) ì™„ë²½ ê°€ì´ë“œ\n\n## ìƒ¤ë”©ì´ë€?\n\n**ìƒ¤ë”©**ì€ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ì„œë²„ì— ë¶„ì‚° ì €ì¥í•˜ëŠ” ìˆ˜í‰ í™•ì¥(Horizontal Scaling) ë°©ì‹ì…ë‹ˆë‹¤. MongoDBëŠ” ìë™ ìƒ¤ë”©ì„ ì§€ì›í•˜ì—¬ ë°ì´í„°ê°€ ì¦ê°€í•´ë„ ì„±ëŠ¥ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ìƒ¤ë”© ì•„í‚¤í…ì²˜\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      Application                         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                            â”‚\n                            â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                       mongos                             â”‚\nâ”‚                   (Query Router)                         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                            â”‚\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n        â–¼                   â–¼                   â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   Shard 1     â”‚   â”‚   Shard 2     â”‚   â”‚   Shard 3     â”‚\nâ”‚  (Replica Set)â”‚   â”‚  (Replica Set)â”‚   â”‚  (Replica Set)â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                            â”‚\n                            â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚              Config Servers (Replica Set)                â”‚\nâ”‚                  (ë©”íƒ€ë°ì´í„° ì €ì¥)                        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### êµ¬ì„± ìš”ì†Œ\n\n| êµ¬ì„± ìš”ì†Œ | ì—­í•  |\n|---------|------|\n| **mongos** | í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì ì ˆí•œ ìƒ¤ë“œë¡œ ë¼ìš°íŒ… |\n| **Shard** | ì‹¤ì œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë ˆí”Œë¦¬ì¹´ ì…‹ |\n| **Config Server** | í´ëŸ¬ìŠ¤í„° ë©”íƒ€ë°ì´í„° ë° ì²­í¬ ì •ë³´ ì €ì¥ |\n\n## ìƒ¤ë“œ í‚¤ (Shard Key)\n\nìƒ¤ë“œ í‚¤ëŠ” ë°ì´í„°ë¥¼ ë¶„ì‚°í•˜ëŠ” ê¸°ì¤€ì´ ë˜ëŠ” í•„ë“œì…ë‹ˆë‹¤. **ìƒ¤ë“œ í‚¤ ì„ íƒì€ ì„±ëŠ¥ì— ì§ì ‘ì ì¸ ì˜í–¥**ì„ ë¯¸ì¹©ë‹ˆë‹¤.\n\n### ì¢‹ì€ ìƒ¤ë“œ í‚¤ì˜ ì¡°ê±´\n\n1. **ë†’ì€ ì¹´ë””ë„ë¦¬í‹°**: ë‹¤ì–‘í•œ ê°’ì„ ê°€ì ¸ì•¼ í•¨\n2. **ê· ë“±í•œ ë¶„í¬**: ë°ì´í„°ê°€ ê³¨ê³ ë£¨ ë¶„ì‚°ë˜ì–´ì•¼ í•¨\n3. **ì¿¼ë¦¬ íŒ¨í„´ ë¶€í•©**: ìì£¼ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ ì¡°ê±´ê³¼ ì¼ì¹˜\n\n### ìƒ¤ë“œ í‚¤ ì˜ˆì‹œ\n\n```javascript\n// ì¢‹ì€ ì˜ˆ: ë†’ì€ ì¹´ë””ë„ë¦¬í‹° + ê· ë“± ë¶„í¬\nsh.shardCollection(\"mydb.orders\", { orderId: \"hashed\" })\n\n// ë²”ìœ„ ìƒ¤ë”©: ë²”ìœ„ ì¿¼ë¦¬ì— ìœ ë¦¬\nsh.shardCollection(\"mydb.logs\", { timestamp: 1 })\n\n// ë³µí•© ìƒ¤ë“œ í‚¤: ë” ì„¸ë°€í•œ ë¶„ì‚°\nsh.shardCollection(\"mydb.users\", { country: 1, createdAt: 1 })\n```\n\n### ìƒ¤ë“œ í‚¤ ì „ëµ\n\n| ì „ëµ | ì¥ì  | ë‹¨ì  | ì í•©í•œ ê²½ìš° |\n|-----|------|------|-----------|\n| **Hashed** | ê· ë“± ë¶„ì‚° | ë²”ìœ„ ì¿¼ë¦¬ ë¹„íš¨ìœ¨ | ëœë¤ ì•¡ì„¸ìŠ¤ |\n| **Ranged** | ë²”ìœ„ ì¿¼ë¦¬ íš¨ìœ¨ì  | í•«ìŠ¤íŒŸ ìœ„í—˜ | ì‹œê³„ì—´ ë°ì´í„° |\n| **Compound** | ìœ ì—°ì„± | ì„¤ê³„ ë³µì¡ | ë³µì¡í•œ ì¿¼ë¦¬ |\n\n## ì²­í¬ (Chunk)\n\në°ì´í„°ëŠ” **ì²­í¬** ë‹¨ìœ„ë¡œ ìƒ¤ë“œì— ë¶„ì‚°ë©ë‹ˆë‹¤.\n\n```javascript\n// ì²­í¬ í¬ê¸° í™•ì¸\nuse config\ndb.settings.find({ _id: \"chunksize\" })\n\n// ì²­í¬ í¬ê¸° ë³€ê²½ (MB ë‹¨ìœ„, ê¸°ë³¸ 128MB)\ndb.settings.updateOne(\n  { _id: \"chunksize\" },\n  { $set: { value: 64 } },\n  { upsert: true }\n)\n```\n\n### ì²­í¬ ë°¸ëŸ°ì‹±\n\nMongoDBëŠ” **ë°¸ëŸ°ì„œ**ë¥¼ í†µí•´ ì²­í¬ë¥¼ ìë™ìœ¼ë¡œ ê· í˜• ë¶„ë°°í•©ë‹ˆë‹¤:\n\n```javascript\n// ë°¸ëŸ°ì„œ ìƒíƒœ í™•ì¸\nsh.getBalancerState()\n\n// ë°¸ëŸ°ì„œ í™œì„±í™”/ë¹„í™œì„±í™”\nsh.startBalancer()\nsh.stopBalancer()\n\n// íŠ¹ì • ì‹œê°„ëŒ€ì—ë§Œ ë°¸ëŸ°ì‹±\ndb.settings.updateOne(\n  { _id: \"balancer\" },\n  { $set: { activeWindow: { start: \"02:00\", stop: \"06:00\" } } }\n)\n```\n\n## ìƒ¤ë”© í´ëŸ¬ìŠ¤í„° êµ¬ì„±\n\n### 1. Config Server ì„¤ì •\n\n```yaml\n# config-server.conf\nsharding:\n  clusterRole: configsvr\nreplication:\n  replSetName: configReplSet\nnet:\n  port: 27019\n```\n\n### 2. Shard ì„¤ì •\n\n```yaml\n# shard.conf\nsharding:\n  clusterRole: shardsvr\nreplication:\n  replSetName: shard1ReplSet\nnet:\n  port: 27018\n```\n\n### 3. mongos ì„¤ì •\n\n```yaml\n# mongos.conf\nsharding:\n  configDB: configReplSet/config1:27019,config2:27019,config3:27019\nnet:\n  port: 27017\n```\n\n### 4. ìƒ¤ë“œ ì¶”ê°€\n\n```javascript\n// mongosì— ì ‘ì†í•˜ì—¬ ìƒ¤ë“œ ì¶”ê°€\nsh.addShard(\"shard1ReplSet/shard1-1:27018,shard1-2:27018\")\nsh.addShard(\"shard2ReplSet/shard2-1:27018,shard2-2:27018\")\n\n// ìƒ¤ë”© í™œì„±í™”\nsh.enableSharding(\"mydb\")\n\n// ì»¬ë ‰ì…˜ ìƒ¤ë”©\nsh.shardCollection(\"mydb.orders\", { customerId: \"hashed\" })\n```\n\n## ì¿¼ë¦¬ ë¼ìš°íŒ…\n\n### Targeted Query (íš¨ìœ¨ì )\n\nìƒ¤ë“œ í‚¤ë¥¼ í¬í•¨í•œ ì¿¼ë¦¬ëŠ” íŠ¹ì • ìƒ¤ë“œë¡œë§Œ ì „ë‹¬ë©ë‹ˆë‹¤:\n\n```javascript\n// customerIdê°€ ìƒ¤ë“œ í‚¤ì¼ ë•Œ - íŠ¹ì • ìƒ¤ë“œë§Œ ì¡°íšŒ\ndb.orders.find({ customerId: \"user123\" })\n```\n\n### Scatter-Gather Query (ë¹„íš¨ìœ¨ì )\n\nìƒ¤ë“œ í‚¤ê°€ ì—†ìœ¼ë©´ ëª¨ë“  ìƒ¤ë“œì— ì¿¼ë¦¬ ì „ì†¡:\n\n```javascript\n// ëª¨ë“  ìƒ¤ë“œì— ì¿¼ë¦¬ ì „ì†¡ í›„ ê²°ê³¼ ë³‘í•©\ndb.orders.find({ status: \"pending\" })\n```\n\n## ëª¨ë‹ˆí„°ë§\n\n```javascript\n// ìƒ¤ë”© ìƒíƒœ í™•ì¸\nsh.status()\n\n// ê° ìƒ¤ë“œë³„ ë°ì´í„° ë¶„í¬\ndb.orders.getShardDistribution()\n\n// ì²­í¬ ì •ë³´\nuse config\ndb.chunks.find({ ns: \"mydb.orders\" }).pretty()\n```\n\n## ì£¼ì˜ì‚¬í•­\n\n1. **ìƒ¤ë“œ í‚¤ëŠ” ë³€ê²½ ë¶ˆê°€**: ì„¤ê³„ ë‹¨ê³„ì—ì„œ ì‹ ì¤‘íˆ ì„ íƒ\n2. **ìƒ¤ë“œ í‚¤ ê°’ì€ ë¶ˆë³€**: í•œë²ˆ ì„¤ì •ëœ ë¬¸ì„œì˜ ìƒ¤ë“œ í‚¤ ë³€ê²½ ë¶ˆê°€\n3. **íŠ¸ëœì­ì…˜ ì œí•œ**: ë‹¤ì¤‘ ìƒ¤ë“œ íŠ¸ëœì­ì…˜ì€ ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥\n4. **ì¸ë±ìŠ¤ í•„ìˆ˜**: ìƒ¤ë“œ í‚¤ì—ëŠ” ë°˜ë“œì‹œ ì¸ë±ìŠ¤ ì¡´ì¬í•´ì•¼ í•¨\n\n## ì°¸ê³  ìë£Œ\n\n- [MongoDB Sharding ê³µì‹ ë¬¸ì„œ](https://www.mongodb.com/docs/manual/sharding/)\n- [ìƒ¤ë“œ í‚¤ ì„ íƒ ê°€ì´ë“œ](https://www.mongodb.com/docs/manual/core/sharding-choose-a-shard-key/)",
    "docType": "original",
    "category": "Database",
    "tags": [
      "MongoDB",
      "Sharding",
      "Distributed Systems",
      "Database"
    ],
    "readingTime": 3,
    "wordCount": 577,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "merkle-trie-integrity",
    "slug": "merkle-trie-integrity",
    "path": "blockchain/ethereum",
    "fullPath": "blockchain/ethereum/merkle-trie-integrity",
    "title": "go-ethereum Merkle Trieë¥¼ í™œìš©í•œ ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦",
    "excerpt": "go-ethereumì˜ Merkle Trie êµ¬í˜„ì„ í™œìš©í•˜ì—¬ ëŒ€ëŸ‰ ë°ì´í„°ì˜ ë¬´ê²°ì„±ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê²€ì¦í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# go-ethereum Merkle Trieë¥¼ í™œìš©í•œ ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦\n\n## ê°œìš”\n\n**Merkle Trie**ëŠ” ëŒ€ëŸ‰ì˜ ë°ì´í„° ë¬´ê²°ì„±ì„ ë‹¨ì¼ í•´ì‹œê°’(Merkle Root)ìœ¼ë¡œ ì¦ëª…í•  ìˆ˜ ìˆëŠ” ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” go-ethereumì˜ Trie íŒ¨í‚¤ì§€ë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n## Merkle Trieë€?\n\n### í•µì‹¬ ê°œë…\n\n```mermaid\ngraph TD\n    %% ë…¸ë“œ ì •ì˜\n    Root[\"Merkle Root (H_root)\"]\n    HAB[\"H(AB)\"]\n    HCD[\"H(CD)\"]\n    HA[\"H(A)\"]\n    HB[\"H(B)\"]\n    HC[\"H(C)\"]\n    HD[\"H(D)\"]\n    A[\"A\"]\n    B[\"B\"]\n    C[\"C\"]\n    D[\"D\"]\n\n    %% ì—°ê²° ì •ì˜ (í•´ì‹œ ê³¼ì •: ì•„ë˜ì—ì„œ ìœ„ë¡œ)\n    HAB --> Root\n    HCD --> Root\n    HA --> HAB\n    HB --> HAB\n    HC --> HCD\n    HD --> HCD\n    A --> HA\n    B --> HB\n    C --> HC\n    D --> HD\n\n    %% ìŠ¤íƒ€ì¼ë§ (ì„ íƒì‚¬í•­: ë£¨íŠ¸ì™€ ë¦¬í”„ ë…¸ë“œ ê°•ì¡°)\n    style Root fill:#f9f,stroke:#333,stroke-width:2px,color:white\n    style A fill:#fff,stroke:#333,stroke-dasharray: 5 5\n    style B fill:#fff,stroke:#333,stroke-dasharray: 5 5\n    style C fill:#fff,stroke:#333,stroke-dasharray: 5 5\n    style D fill:#fff,stroke:#333,stroke-dasharray: 5 5\n```\n\n- **Leaf ë…¸ë“œ**: ì›ë³¸ ë°ì´í„°ì˜ í•´ì‹œ\n- **ë‚´ë¶€ ë…¸ë“œ**: ìì‹ ë…¸ë“œë“¤ì˜ í•´ì‹œ ì¡°í•©\n- **Root ë…¸ë“œ**: ì „ì²´ ë°ì´í„°ë¥¼ ëŒ€í‘œí•˜ëŠ” ë‹¨ì¼ í•´ì‹œ\n\n### ì™œ Merkle Trieì¸ê°€?\n\n| ì¥ì  | ì„¤ëª… |\n|------|------|\n| **íš¨ìœ¨ì  ê²€ì¦** | O(log n) ë³µì¡ë„ë¡œ íŠ¹ì • ë°ì´í„° í¬í•¨ ì¦ëª… |\n| **ë°°ì¹˜ ê²€ì¦** | ìˆ˜ì²œ ê°œ ë°ì´í„°ë¥¼ ë‹¨ì¼ ë£¨íŠ¸ë¡œ ê²€ì¦ |\n| **ë³€ì¡° ê°ì§€** | í•˜ë‚˜ë¼ë„ ë³€ê²½ë˜ë©´ ë£¨íŠ¸ í•´ì‹œ ë³€ê²½ |\n| **ë¸”ë¡ì²´ì¸ í˜¸í™˜** | ëŒ€ë¶€ë¶„ì˜ ë¸”ë¡ì²´ì¸ì´ ì‚¬ìš©í•˜ëŠ” í‘œì¤€ êµ¬ì¡° |\n\n## go-ethereum Trie íŒ¨í‚¤ì§€\n\n### ì„¤ì¹˜\n\n```bash\ngo get github.com/ethereum/go-ethereum\n```\n\n### í•µì‹¬ ì¸í„°í˜ì´ìŠ¤\n\n```go\npackage integrity\n\nimport (\n    \"github.com/ethereum/go-ethereum/common\"\n    \"github.com/ethereum/go-ethereum/core/rawdb\"\n    ethtrie \"github.com/ethereum/go-ethereum/trie\"\n    \"github.com/ethereum/go-ethereum/triedb\"\n)\n```\n\n## í•µì‹¬ êµ¬í˜„\n\n### Trie ë˜í¼\n\n```go\npackage integrity\n\nimport (\n    \"errors\"\n    \"fmt\"\n    \"sync\"\n    \n    \"github.com/ethereum/go-ethereum/common\"\n    \"github.com/ethereum/go-ethereum/core/rawdb\"\n    ethtrie \"github.com/ethereum/go-ethereum/trie\"\n    \"github.com/ethereum/go-ethereum/triedb\"\n)\n\nvar (\n    ErrNodeNotFound = errors.New(\"node not found in trie\")\n    ErrInvalidProof = errors.New(\"invalid merkle proof\")\n)\n\n// LeafNodeëŠ” Trieì˜ ë¦¬í”„ ë…¸ë“œì…ë‹ˆë‹¤.\ntype LeafNode struct {\n    key   []byte\n    value []byte\n}\n\nfunc NewLeafNode(key, value []byte) *LeafNode {\n    return &LeafNode{key: key, value: value}\n}\n\nfunc (n *LeafNode) Key() []byte   { return n.key }\nfunc (n *LeafNode) Value() []byte { return n.value }\nfunc (n *LeafNode) Hash() []byte  { return n.value }\n\n// IntegrityTrieëŠ” ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦ì„ ìœ„í•œ Merkle Trieì…ë‹ˆë‹¤.\ntype IntegrityTrie struct {\n    trie *ethtrie.Trie\n    db   *triedb.Database\n    mu   sync.RWMutex\n}\n\n// NewIntegrityTrieëŠ” ìƒˆ Trieë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nfunc NewIntegrityTrie(seedNodes []*LeafNode) (*IntegrityTrie, error) {\n    // ì¸ë©”ëª¨ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±\n    memDB := rawdb.NewMemoryDatabase()\n    trieDB := triedb.NewDatabase(memDB, nil)\n    \n    // ë¹ˆ Trie ìƒì„±\n    t := ethtrie.NewEmpty(trieDB)\n    \n    integrityTrie := &IntegrityTrie{\n        trie: t,\n        db:   trieDB,\n    }\n    \n    // ì´ˆê¸° ë…¸ë“œ ì‚½ì…\n    for _, node := range seedNodes {\n        if err := integrityTrie.Insert(node.Key(), node.Value()); err != nil {\n            return nil, fmt.Errorf(\"insert seed node: %w\", err)\n        }\n    }\n    \n    return integrityTrie, nil\n}\n\n// InsertëŠ” í‚¤-ê°’ ìŒì„ Trieì— ì¶”ê°€í•©ë‹ˆë‹¤.\nfunc (t *IntegrityTrie) Insert(key, value []byte) error {\n    t.mu.Lock()\n    defer t.mu.Unlock()\n    \n    return t.trie.Update(key, value)\n}\n\n// RootHashëŠ” í˜„ì¬ Merkle Rootë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\nfunc (t *IntegrityTrie) RootHash() common.Hash {\n    t.mu.RLock()\n    defer t.mu.RUnlock()\n    \n    return t.trie.Hash()\n}\n\n// Commitì€ Trie ìƒíƒœë¥¼ ì €ì¥í•˜ê³  Rootë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\nfunc (t *IntegrityTrie) Commit() (common.Hash, error) {\n    t.mu.Lock()\n    defer t.mu.Unlock()\n    \n    // Trie ì»¤ë°‹\n    rootHash, _, err := t.trie.Commit(false)\n    if err != nil {\n        return common.Hash{}, fmt.Errorf(\"trie commit: %w\", err)\n    }\n    \n    // ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥\n    if err := t.db.Commit(rootHash, false); err != nil {\n        return common.Hash{}, fmt.Errorf(\"db commit: %w\", err)\n    }\n    \n    return rootHash, nil\n}\n```\n\n### ë°°ì¹˜ ë°ì´í„° ì²˜ë¦¬\n\nê°ì‚¬ ë¡œê·¸ ë“± ëŒ€ëŸ‰ ë°ì´í„°ë¥¼ ë°°ì¹˜ë¡œ ì²˜ë¦¬:\n\n```go\n// BatchDataëŠ” ë°°ì¹˜ ì²˜ë¦¬í•  ë°ì´í„° í•­ëª©ì…ë‹ˆë‹¤.\ntype BatchData struct {\n    ID      string\n    Content []byte\n}\n\n// ComputeBatchRootëŠ” ë°°ì¹˜ ë°ì´í„°ì˜ Merkle Rootë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.\nfunc ComputeBatchRoot(items []BatchData) (common.Hash, error) {\n    nodes := make([]*LeafNode, len(items))\n    \n    for i, item := range items {\n        // í‚¤: ê³ ìœ  IDì˜ í•´ì‹œ\n        key := crypto.Keccak256([]byte(item.ID))\n        // ê°’: ì½˜í…ì¸ ì˜ í•´ì‹œ\n        value := crypto.Keccak256(item.Content)\n        \n        nodes[i] = NewLeafNode(key, value)\n    }\n    \n    trie, err := NewIntegrityTrie(nodes)\n    if err != nil {\n        return common.Hash{}, err\n    }\n    \n    return trie.Commit()\n}\n```\n\n### ê°ì‚¬ ë¡œê·¸ í†µí•© ì˜ˆì‹œ\n\n```go\npackage audit\n\nimport (\n    \"context\"\n    \"time\"\n    \"encoding/json\"\n)\n\n// AuditBatchëŠ” ê°ì‚¬ ë¡œê·¸ ë°°ì¹˜ì…ë‹ˆë‹¤.\ntype AuditBatch struct {\n    ID        string       `json:\"id\"`\n    Logs      []AuditLog   `json:\"logs\"`\n    CreatedAt time.Time    `json:\"created_at\"`\n}\n\n// AuditLogëŠ” ê°œë³„ ê°ì‚¬ ë¡œê·¸ì…ë‹ˆë‹¤.\ntype AuditLog struct {\n    DocumentID string `json:\"document_id\"`\n    Action     string `json:\"action\"`\n    Version    int32  `json:\"version\"`\n    Hash       string `json:\"hash\"`\n}\n\n// AnchoringServiceëŠ” ë¸”ë¡ì²´ì¸ ì•µì»¤ë§ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.\ntype AnchoringService struct {\n    blockchain BlockchainClient\n}\n\n// ProcessBatchëŠ” ë°°ì¹˜ ê°ì‚¬ ë¡œê·¸ë¥¼ ì²˜ë¦¬í•˜ê³  ì•µì»¤ë§í•©ë‹ˆë‹¤.\nfunc (s *AnchoringService) ProcessBatch(ctx context.Context, logs []AuditLog) (*AnchorResult, error) {\n    // 1. ê° ë¡œê·¸ë¥¼ Merkle Trie ë…¸ë“œë¡œ ë³€í™˜\n    items := make([]BatchData, len(logs))\n    for i, log := range logs {\n        content, _ := json.Marshal(log)\n        items[i] = BatchData{\n            ID:      log.DocumentID + \"_\" + fmt.Sprint(log.Version),\n            Content: content,\n        }\n    }\n    \n    // 2. Merkle Root ê³„ì‚°\n    merkleRoot, err := ComputeBatchRoot(items)\n    if err != nil {\n        return nil, fmt.Errorf(\"compute merkle root: %w\", err)\n    }\n    \n    // 3. ë¸”ë¡ì²´ì¸ì— ì•µì»¤ë§\n    txHash, err := s.blockchain.SubmitAnchor(ctx, merkleRoot.Hex())\n    if err != nil {\n        return nil, fmt.Errorf(\"submit anchor: %w\", err)\n    }\n    \n    return &AnchorResult{\n        MerkleRoot:      merkleRoot.Hex(),\n        TransactionHash: txHash,\n        AnchoredAt:      time.Now(),\n        LogCount:        len(logs),\n    }, nil\n}\n\ntype AnchorResult struct {\n    MerkleRoot      string    `json:\"merkle_root\"`\n    TransactionHash string    `json:\"transaction_hash\"`\n    AnchoredAt      time.Time `json:\"anchored_at\"`\n    LogCount        int       `json:\"log_count\"`\n}\n```\n\n## Merkle Proof ìƒì„± ë° ê²€ì¦\n\níŠ¹ì • ë°ì´í„°ê°€ Merkle Rootì— í¬í•¨ë˜ì–´ ìˆìŒì„ ì¦ëª…:\n\n```go\nimport (\n    \"github.com/ethereum/go-ethereum/trie\"\n)\n\n// GenerateProofëŠ” íŠ¹ì • í‚¤ì— ëŒ€í•œ Merkle Proofë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nfunc (t *IntegrityTrie) GenerateProof(key []byte) ([][]byte, error) {\n    t.mu.RLock()\n    defer t.mu.RUnlock()\n    \n    // Proof ë…¸ë“œë“¤ì„ ë‹´ì„ ë©”ëª¨ë¦¬ DB\n    proofDB := rawdb.NewMemoryDatabase()\n    \n    // Proof ìƒì„±\n    if err := t.trie.Prove(key, proofDB); err != nil {\n        return nil, fmt.Errorf(\"generate proof: %w\", err)\n    }\n    \n    // Proof ë°ì´í„° ì¶”ì¶œ\n    var proofNodes [][]byte\n    it := proofDB.NewIterator(nil, nil)\n    defer it.Release()\n    \n    for it.Next() {\n        proofNodes = append(proofNodes, common.CopyBytes(it.Value()))\n    }\n    \n    return proofNodes, nil\n}\n\n// VerifyProofëŠ” Merkle Proofë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.\nfunc VerifyProof(rootHash common.Hash, key []byte, proofNodes [][]byte) ([]byte, error) {\n    // Proof DB êµ¬ì„±\n    proofDB := rawdb.NewMemoryDatabase()\n    for _, node := range proofNodes {\n        hash := crypto.Keccak256(node)\n        proofDB.Put(hash, node)\n    }\n    \n    // Proof ê²€ì¦ ë° ê°’ ë°˜í™˜\n    value, err := trie.VerifyProof(rootHash, key, proofDB)\n    if err != nil {\n        return nil, ErrInvalidProof\n    }\n    \n    return value, nil\n}\n```\n\n### ì‚¬ìš© ì˜ˆì‹œ\n\n```go\nfunc ExampleMerkleProof() {\n    // 1. ë°ì´í„° ì¤€ë¹„\n    items := []BatchData{\n        {ID: \"doc-001\", Content: []byte(`{\"action\":\"CREATE\"}`)},\n        {ID: \"doc-002\", Content: []byte(`{\"action\":\"UPDATE\"}`)},\n        {ID: \"doc-003\", Content: []byte(`{\"action\":\"DELETE\"}`)},\n    }\n    \n    nodes := make([]*LeafNode, len(items))\n    for i, item := range items {\n        key := crypto.Keccak256([]byte(item.ID))\n        value := crypto.Keccak256(item.Content)\n        nodes[i] = NewLeafNode(key, value)\n    }\n    \n    // 2. Trie ìƒì„± ë° Root ê³„ì‚°\n    trie, _ := NewIntegrityTrie(nodes)\n    rootHash, _ := trie.Commit()\n    \n    fmt.Printf(\"Merkle Root: %s\\n\", rootHash.Hex())\n    \n    // 3. íŠ¹ì • ë¬¸ì„œì˜ Proof ìƒì„±\n    targetKey := crypto.Keccak256([]byte(\"doc-002\"))\n    proof, _ := trie.GenerateProof(targetKey)\n    \n    fmt.Printf(\"Proof nodes: %d\\n\", len(proof))\n    \n    // 4. Proof ê²€ì¦ (ë‹¤ë¥¸ ì‹œìŠ¤í…œì—ì„œ)\n    expectedValue := crypto.Keccak256([]byte(`{\"action\":\"UPDATE\"}`))\n    verifiedValue, err := VerifyProof(rootHash, targetKey, proof)\n    \n    if err != nil {\n        fmt.Println(\"Proof invalid!\")\n    } else if bytes.Equal(verifiedValue, expectedValue) {\n        fmt.Println(\"Proof verified! Data integrity confirmed.\")\n    }\n}\n```\n\n## ë¬´ê²°ì„± ê²€ì¦ API\n\nì™¸ë¶€ì—ì„œ ë°ì´í„° ë¬´ê²°ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆëŠ” API:\n\n```go\npackage api\n\ntype IntegrityVerification struct {\n    DocumentID   string `json:\"document_id\"`\n    Version      int32  `json:\"version\"`\n    ContentHash  string `json:\"content_hash\"`\n    MerkleRoot   string `json:\"merkle_root\"`\n    BlockchainTx string `json:\"blockchain_tx\"`\n    Verified     bool   `json:\"verified\"`\n    VerifiedAt   string `json:\"verified_at\"`\n}\n\nfunc (s *APIServer) VerifyIntegrity(ctx context.Context, req VerifyRequest) (*IntegrityVerification, error) {\n    // 1. ë¬¸ì„œ ì¡°íšŒ\n    doc, err := s.docService.FindByVersion(ctx, req.Collection, req.URI, req.Version)\n    if err != nil {\n        return nil, err\n    }\n    \n    // 2. ë¬¸ì„œì˜ ì•µì»¤ë§ ë©”íƒ€ë°ì´í„° í™•ì¸\n    anchor := doc.AnchoringMetadata\n    if anchor.Status != \"COMPLETED\" {\n        return nil, errors.New(\"document not yet anchored\")\n    }\n    \n    // 3. ë¸”ë¡ì²´ì¸ì—ì„œ Merkle Root ì¡°íšŒ\n    blockchainRoot, err := s.blockchain.GetAnchor(ctx, anchor.TransactionHash)\n    if err != nil {\n        return nil, err\n    }\n    \n    // 4. í˜„ì¬ ë°ì´í„°ë¡œ í•´ì‹œ ì¬ê³„ì‚°\n    currentHash := computeDocumentHash(doc)\n    \n    // 5. ì €ì¥ëœ Merkle Rootì™€ ë¸”ë¡ì²´ì¸ Root ë¹„êµ\n    verified := anchor.MerkleRoot == blockchainRoot\n    \n    return &IntegrityVerification{\n        DocumentID:   doc.URI,\n        Version:      doc.Version,\n        ContentHash:  currentHash,\n        MerkleRoot:   anchor.MerkleRoot,\n        BlockchainTx: anchor.TransactionHash,\n        Verified:     verified,\n        VerifiedAt:   time.Now().Format(time.RFC3339),\n    }, nil\n}\n```\n\n## ì„±ëŠ¥ ìµœì í™”\n\n### ë°°ì¹˜ í¬ê¸° ì¡°ì •\n\n```go\nconst (\n    OptimalBatchSize = 1000 // Trie ì—°ì‚°ì— ìµœì í™”ëœ ë°°ì¹˜ í¬ê¸°\n    MaxBatchSize     = 10000\n)\n\nfunc ProcessWithOptimalBatch(items []BatchData) ([]common.Hash, error) {\n    var roots []common.Hash\n    \n    for i := 0; i < len(items); i += OptimalBatchSize {\n        end := i + OptimalBatchSize\n        if end > len(items) {\n            end = len(items)\n        }\n        \n        batch := items[i:end]\n        root, err := ComputeBatchRoot(batch)\n        if err != nil {\n            return nil, err\n        }\n        \n        roots = append(roots, root)\n    }\n    \n    return roots, nil\n}\n```\n\n### ìºì‹±\n\n```go\ntype TrieCache struct {\n    mu    sync.RWMutex\n    roots map[string]common.Hash // batchID -> rootHash\n}\n\nfunc (c *TrieCache) Get(batchID string) (common.Hash, bool) {\n    c.mu.RLock()\n    defer c.mu.RUnlock()\n    root, ok := c.roots[batchID]\n    return root, ok\n}\n\nfunc (c *TrieCache) Set(batchID string, root common.Hash) {\n    c.mu.Lock()\n    defer c.mu.Unlock()\n    c.roots[batchID] = root\n}\n```\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **ë°°ì¹˜ ì²˜ë¦¬**: ê°œë³„ ë°ì´í„°ë§ˆë‹¤ Trie ìƒì„±í•˜ì§€ ë§ê³  ë°°ì¹˜ ë‹¨ìœ„ë¡œ ì²˜ë¦¬\n2. **Root ì €ì¥**: ê³„ì‚°ëœ Merkle RootëŠ” ì˜êµ¬ ì €ì¥ì†Œì— ì €ì¥\n3. **Proof ìºì‹±**: ìì£¼ ì¡°íšŒë˜ëŠ” ë°ì´í„°ì˜ ProofëŠ” ìºì‹±\n4. **í•´ì‹œ ì¼ê´€ì„±**: ë™ì¼í•œ í•´ì‹œ í•¨ìˆ˜(Keccak256) ì¼ê´€ë˜ê²Œ ì‚¬ìš©\n5. **ë™ì‹œì„± ì œì–´**: Trie ì ‘ê·¼ ì‹œ ë®¤í…ìŠ¤ë¡œ ë³´í˜¸\n\n## ì°¸ê³  ìë£Œ\n\n- [go-ethereum Trie íŒ¨í‚¤ì§€](https://pkg.go.dev/github.com/ethereum/go-ethereum/trie)\n- [Merkle Tree ìœ„í‚¤í”¼ë””ì•„](https://en.wikipedia.org/wiki/Merkle_tree)\n- [Ethereum Yellow Paper](https://ethereum.github.io/yellowpaper/paper.pdf)",
    "docType": "original",
    "category": "Blockchain",
    "tags": [
      "Go",
      "Ethereum",
      "MerkleTrie",
      "Cryptography",
      "DataIntegrity"
    ],
    "readingTime": 8,
    "wordCount": 1409,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "functional-options-pattern",
    "slug": "functional-options-pattern",
    "path": "backend/patterns",
    "fullPath": "backend/patterns/functional-options-pattern",
    "title": "Functional Options íŒ¨í„´ì„ í™œìš©í•œ Go ì„¤ì • ê´€ë¦¬",
    "excerpt": "Goì˜ Functional Options íŒ¨í„´ì„ í™œìš©í•˜ì—¬ í•„ìˆ˜ íŒŒë¼ë¯¸í„°ì™€ ì„ íƒì  ì„¤ì •ì„ ëª…í™•íˆ ë¶„ë¦¬í•˜ê³ , í•©ë¦¬ì ì¸ ê¸°ë³¸ê°’ ìœ„ì— ìœ ì—°í•œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ ì œê³µí•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Functional Options íŒ¨í„´ì„ í™œìš©í•œ Go ì„¤ì • ê´€ë¦¬\n\n## ê°œìš”\n\n**Functional Options íŒ¨í„´**ì€ Goì—ì„œ ê°ì²´ ìƒì„± ì‹œ **í•„ìˆ˜ íŒŒë¼ë¯¸í„°**ì™€ **ì„ íƒì  ì„¤ì •**ì„ ëª…í™•íˆ ë¶„ë¦¬í•˜ëŠ” ê´€ìš©ì ì¸ íŒ¨í„´ì…ë‹ˆë‹¤.\n\ní•µì‹¬ ì›ì¹™:\n\n- **í•„ìˆ˜ê°’**: ìƒì„±ìì˜ ëª…ì‹œì  íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ (ì—†ìœ¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬)\n- **ì„ íƒê°’**: í•©ë¦¬ì ì¸ ê¸°ë³¸ê°’ì„ ì •ì˜í•˜ê³ , `With...` ì˜µì…˜ í•¨ìˆ˜ë¡œ ì˜¤ë²„ë¼ì´ë“œ\n\n## íŒ¨í„´ì˜ í•µì‹¬: í•„ìˆ˜ vs ì„ íƒ\n\n### ì„¤ê³„ ì˜ë„\n\n```\nNewWorker(client, handler, opts...)\n         â†‘       â†‘        â†‘\n      í•„ìˆ˜ê°’   í•„ìˆ˜ê°’   ì„ íƒì  ì˜µì…˜ë“¤\n      \nìƒì„±ì ì‹œê·¸ë‹ˆì²˜ê°€ \"ë¬´ì—‡ì´ í•„ìˆ˜ì¸ì§€\"ë¥¼ ëª…í™•íˆ ì„ ì–¸í•©ë‹ˆë‹¤.\nì˜µì…˜ì„ ì „ë‹¬í•˜ì§€ ì•Šì•„ë„ ê¸°ë³¸ê°’ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.\n```\n\n| êµ¬ë¶„ | ì „ë‹¬ ë°©ì‹ | íŠ¹ì§• |\n|------|----------|------|\n| **í•„ìˆ˜ íŒŒë¼ë¯¸í„°** | ìƒì„±ìì˜ ëª…ì‹œì  ì¸ì | ëˆ„ë½ ì‹œ ì»´íŒŒì¼ ì—ëŸ¬, ê¸°ë³¸ê°’ ì—†ìŒ |\n| **ì„ íƒì  ì„¤ì •** | `...WorkerOption` ê°€ë³€ ì¸ì | ê¸°ë³¸ê°’ ì¡´ì¬, í•„ìš” ì‹œ ì˜¤ë²„ë¼ì´ë“œ |\n\n### ì™œ ì´ êµ¬ë¶„ì´ ì¤‘ìš”í•œê°€?\n\n```go\n// âŒ ë‚˜ìœ ì˜ˆ: ëª¨ë“  ê²ƒì´ ì˜µì…˜\n// clientê°€ nilì´ì–´ë„ ì»´íŒŒì¼ì€ í†µê³¼ â†’ ëŸ°íƒ€ì„ ì—ëŸ¬\nworker := NewWorker(\n    WithClient(client),     // í•„ìˆ˜ì¸ë° ì˜µì…˜ì²˜ëŸ¼ ë³´ì„\n    WithHandler(handler),   // í•„ìˆ˜ì¸ë° ì˜µì…˜ì²˜ëŸ¼ ë³´ì„\n    WithBatchSize(100),\n)\n\n// âœ… ì¢‹ì€ ì˜ˆ: í•„ìˆ˜ê°’ì€ ëª…ì‹œì  íŒŒë¼ë¯¸í„°\n// clientë‚˜ handler ëˆ„ë½ ì‹œ ì»´íŒŒì¼ ì—ëŸ¬\nworker := NewWorker(\n    client,                 // í•„ìˆ˜: ì²« ë²ˆì§¸ ì¸ì\n    handler,                // í•„ìˆ˜: ë‘ ë²ˆì§¸ ì¸ì  \n    WithBatchSize(100),     // ì„ íƒ: ê¸°ë³¸ê°’ 10ì„ 100ìœ¼ë¡œ ì˜¤ë²„ë¼ì´ë“œ\n)\n```\n\n## ê¸°ë³¸ êµ¬í˜„\n\n### 1. ë‚´ë¶€ ì„¤ì • êµ¬ì¡°ì²´ (ê¸°ë³¸ê°’ ì •ì˜)\n\n```go\npackage worker\n\nimport \"time\"\n\n// workerConfigëŠ” Workerì˜ \"ì„ íƒì \" ì„¤ì •ì„ ë‹´ìŠµë‹ˆë‹¤.\n// í•„ìˆ˜ê°’(client, handler)ì€ ì—¬ê¸°ì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\ntype workerConfig struct {\n    batchSize        int\n    pollInterval     time.Duration\n    maxRetries       int\n    shutdownTimeout  time.Duration\n    deadLetterStream string\n}\n\n// defaultConfigëŠ” í•©ë¦¬ì ì¸ ê¸°ë³¸ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n// ì˜µì…˜ì„ ì „í˜€ ì „ë‹¬í•˜ì§€ ì•Šì•„ë„ ì´ ê°’ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.\nfunc defaultConfig() workerConfig {\n    return workerConfig{\n        batchSize:        10,                    // ê¸°ë³¸: 10ê°œì”© ì²˜ë¦¬\n        pollInterval:     100 * time.Millisecond, // ê¸°ë³¸: 100ms í´ë§\n        maxRetries:       3,                     // ê¸°ë³¸: 3íšŒ ì¬ì‹œë„\n        shutdownTimeout:  30 * time.Second,      // ê¸°ë³¸: 30ì´ˆ ì¢…ë£Œ ëŒ€ê¸°\n        deadLetterStream: \"dead-letter-stream\",  // ê¸°ë³¸ DLQ ì´ë¦„\n    }\n}\n```\n\n### 2. ì˜µì…˜ íƒ€ì…ê³¼ With í•¨ìˆ˜ë“¤ (ê¸°ë³¸ê°’ ì˜¤ë²„ë¼ì´ë“œ)\n\n```go\n// WorkerOptionì€ ê¸°ë³¸ ì„¤ì •ì„ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ íƒ€ì…ì…ë‹ˆë‹¤.\ntype WorkerOption func(*workerConfig)\n\n// WithBatchSizeëŠ” ê¸°ë³¸ê°’(10)ì„ ì˜¤ë²„ë¼ì´ë“œí•©ë‹ˆë‹¤.\nfunc WithBatchSize(size int) WorkerOption {\n    return func(c *workerConfig) {\n        if size > 0 {\n            c.batchSize = size\n        }\n    }\n}\n\n// WithPollIntervalì€ ê¸°ë³¸ê°’(100ms)ì„ ì˜¤ë²„ë¼ì´ë“œí•©ë‹ˆë‹¤.\nfunc WithPollInterval(interval time.Duration) WorkerOption {\n    return func(c *workerConfig) {\n        if interval > 0 {\n            c.pollInterval = interval\n        }\n    }\n}\n\n// WithMaxRetriesëŠ” ê¸°ë³¸ê°’(3)ì„ ì˜¤ë²„ë¼ì´ë“œí•©ë‹ˆë‹¤.\nfunc WithMaxRetries(retries int) WorkerOption {\n    return func(c *workerConfig) {\n        c.maxRetries = retries\n    }\n}\n\n// WithShutdownTimeoutì€ ê¸°ë³¸ê°’(30s)ì„ ì˜¤ë²„ë¼ì´ë“œí•©ë‹ˆë‹¤.\nfunc WithShutdownTimeout(timeout time.Duration) WorkerOption {\n    return func(c *workerConfig) {\n        c.shutdownTimeout = timeout\n    }\n}\n\n// WithDeadLetterStreamì€ ê¸°ë³¸ê°’ì„ ì˜¤ë²„ë¼ì´ë“œí•©ë‹ˆë‹¤.\nfunc WithDeadLetterStream(stream string) WorkerOption {\n    return func(c *workerConfig) {\n        c.deadLetterStream = stream\n    }\n}\n```\n\n### 3. ìƒì„±ì (í•„ìˆ˜ íŒŒë¼ë¯¸í„° + ì„ íƒì  ì˜µì…˜)\n\n```go\n// StreamWorkerëŠ” ë©”ì‹œì§€ ìŠ¤íŠ¸ë¦¼ì„ ì²˜ë¦¬í•˜ëŠ” ì›Œì»¤ì…ë‹ˆë‹¤.\ntype StreamWorker struct {\n    // í•„ìˆ˜ ì˜ì¡´ì„± (ìƒì„±ì íŒŒë¼ë¯¸í„°ë¡œ ì£¼ì…)\n    client  redis.UniversalClient\n    handler MessageHandler\n    \n    // ì„ íƒì  ì„¤ì • (ê¸°ë³¸ê°’ + ì˜µì…˜ìœ¼ë¡œ êµ¬ì„±)\n    config  workerConfig\n    \n    stopCh  chan struct{}\n}\n\n// NewStreamWorkerëŠ” ìƒˆ ì›Œì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n//\n// íŒŒë¼ë¯¸í„°:\n//   - client: Redis í´ë¼ì´ì–¸íŠ¸ (í•„ìˆ˜)\n//   - handler: ë©”ì‹œì§€ í•¸ë“¤ëŸ¬ (í•„ìˆ˜)\n//   - opts: ì„ íƒì  ì„¤ì • (ê¸°ë³¸ê°’ ì¡´ì¬, í•„ìš” ì‹œ ì˜¤ë²„ë¼ì´ë“œ)\nfunc NewStreamWorker(\n    client redis.UniversalClient,   // í•„ìˆ˜: ì—†ìœ¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬\n    handler MessageHandler,          // í•„ìˆ˜: ì—†ìœ¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬\n    opts ...WorkerOption,            // ì„ íƒ: ì—†ì–´ë„ ê¸°ë³¸ê°’ìœ¼ë¡œ ë™ì‘\n) *StreamWorker {\n    // 1. ê¸°ë³¸ê°’ìœ¼ë¡œ ì‹œì‘\n    cfg := defaultConfig()\n    \n    // 2. ì „ë‹¬ëœ ì˜µì…˜ë“¤ë¡œ ê¸°ë³¸ê°’ ì˜¤ë²„ë¼ì´ë“œ\n    for _, opt := range opts {\n        opt(&cfg)\n    }\n    \n    return &StreamWorker{\n        client:  client,\n        handler: handler,\n        config:  cfg,\n        stopCh:  make(chan struct{}),\n    }\n}\n```\n\n### 4. ì‚¬ìš© ì˜ˆì‹œ\n\n```go\nfunc main() {\n    // í•„ìˆ˜ ì˜ì¡´ì„± ì¤€ë¹„\n    client := redis.NewClusterClient(&redis.ClusterOptions{\n        Addrs: []string{\"localhost:7001\"},\n    })\n    handler := &AuditHandler{}\n    \n    // Case 1: ê¸°ë³¸ê°’ ê·¸ëŒ€ë¡œ ì‚¬ìš© (ì˜µì…˜ ì—†ìŒ)\n    // batchSize=10, pollInterval=100ms, maxRetries=3 ...\n    worker1 := NewStreamWorker(client, handler)\n    \n    // Case 2: ì¼ë¶€ ì„¤ì •ë§Œ ì˜¤ë²„ë¼ì´ë“œ\n    // batchSize=100 (ì˜¤ë²„ë¼ì´ë“œ), ë‚˜ë¨¸ì§€ëŠ” ê¸°ë³¸ê°’\n    worker2 := NewStreamWorker(client, handler,\n        WithBatchSize(100),\n    )\n    \n    // Case 3: ì—¬ëŸ¬ ì„¤ì • ì˜¤ë²„ë¼ì´ë“œ\n    worker3 := NewStreamWorker(client, handler,\n        WithBatchSize(100),              // 10 â†’ 100\n        WithPollInterval(50*time.Millisecond), // 100ms â†’ 50ms\n        WithMaxRetries(5),               // 3 â†’ 5\n    )\n    \n    worker3.Start(context.Background())\n}\n```\n\n## ì‹¤ì œ í™œìš© ì˜ˆì‹œ\n\n### ë°ì´í„°ë² ì´ìŠ¤ í´ë¼ì´ì–¸íŠ¸\n\n```go\ntype dbConfig struct {\n    // ì„ íƒì  ì„¤ì • (ê¸°ë³¸ê°’ ì¡´ì¬)\n    host       string\n    port       int\n    poolSize   int\n    timeout    time.Duration\n}\n\nfunc defaultDBConfig() dbConfig {\n    return dbConfig{\n        host:     \"localhost\",\n        port:     5432,\n        poolSize: 10,\n        timeout:  5 * time.Second,\n    }\n}\n\ntype DBOption func(*dbConfig)\n\nfunc WithHost(host string) DBOption {\n    return func(c *dbConfig) { c.host = host }\n}\n\nfunc WithPort(port int) DBOption {\n    return func(c *dbConfig) { c.port = port }\n}\n\nfunc WithPoolSize(size int) DBOption {\n    return func(c *dbConfig) { c.poolSize = size }\n}\n\n// NewDBClient: databaseëŠ” í•„ìˆ˜, ë‚˜ë¨¸ì§€ëŠ” ì„ íƒ\nfunc NewDBClient(database string, opts ...DBOption) (*DBClient, error) {\n    // database: í•„ìˆ˜ íŒŒë¼ë¯¸í„° (ê¸°ë³¸ê°’ ì—†ìŒ)\n    if database == \"\" {\n        return nil, errors.New(\"database name is required\")\n    }\n    \n    // ì„ íƒì  ì„¤ì •: ê¸°ë³¸ê°’ + ì˜µì…˜ ì˜¤ë²„ë¼ì´ë“œ\n    cfg := defaultDBConfig()\n    for _, opt := range opts {\n        opt(&cfg)\n    }\n    \n    return &DBClient{\n        database: database,  // í•„ìˆ˜\n        config:   cfg,       // ì„ íƒ (ê¸°ë³¸ê°’ + ì˜¤ë²„ë¼ì´ë“œ)\n    }, nil\n}\n\n// ì‚¬ìš©\ndb, _ := NewDBClient(\"mydb\")                           // ê¸°ë³¸ê°’ ì‚¬ìš©\ndb, _ := NewDBClient(\"mydb\", WithHost(\"db.prod.com\"))  // hostë§Œ ì˜¤ë²„ë¼ì´ë“œ\ndb, _ := NewDBClient(\"mydb\", WithHost(\"db.prod.com\"), WithPoolSize(50))\n```\n\n## ì‘ìš© íŒ¨í„´\n\n### ì˜µì…˜ í”„ë¦¬ì…‹ (ìì£¼ ì“°ëŠ” ì„¤ì • ì¡°í•©)\n\n```go\n// ProductionOptionsëŠ” í”„ë¡œë•ì…˜ í™˜ê²½ìš© ì„¤ì • í”„ë¦¬ì…‹ì…ë‹ˆë‹¤.\nfunc ProductionOptions() []WorkerOption {\n    return []WorkerOption{\n        WithBatchSize(100),\n        WithMaxRetries(5),\n        WithShutdownTimeout(60 * time.Second),\n    }\n}\n\n// í”„ë¦¬ì…‹ ì‚¬ìš©\nworker := NewStreamWorker(client, handler, ProductionOptions()...)\n\n// í”„ë¦¬ì…‹ + ì¶”ê°€ ì˜¤ë²„ë¼ì´ë“œ\nopts := append(ProductionOptions(), WithBatchSize(200))\nworker := NewStreamWorker(client, handler, opts...)\n```\n\n### ê²€ì¦ í¬í•¨ ì˜µì…˜\n\n```go\nfunc WithBatchSize(size int) WorkerOption {\n    return func(c *workerConfig) {\n        // ê²€ì¦: ë²”ìœ„ ì œí•œ\n        if size < 1 {\n            size = 1\n        }\n        if size > 1000 {\n            size = 1000\n        }\n        c.batchSize = size\n    }\n}\n```\n\n### ì—ëŸ¬ ë°˜í™˜ ì˜µì…˜ (ê³ ê¸‰)\n\n```go\ntype WorkerOptionWithError func(*workerConfig) error\n\nfunc NewStreamWorkerSafe(\n    client redis.UniversalClient,\n    handler MessageHandler,\n    opts ...WorkerOptionWithError,\n) (*StreamWorker, error) {\n    cfg := defaultConfig()\n    \n    for _, opt := range opts {\n        if err := opt(&cfg); err != nil {\n            return nil, err\n        }\n    }\n    \n    return &StreamWorker{config: cfg}, nil\n}\n\nfunc WithStreamFromEnv(key string) WorkerOptionWithError {\n    return func(c *workerConfig) error {\n        value := os.Getenv(key)\n        if value == \"\" {\n            return fmt.Errorf(\"env %s is not set\", key)\n        }\n        // ì„¤ì • ì ìš©\n        return nil\n    }\n}\n```\n\n## í…ŒìŠ¤íŠ¸ ìš©ì´ì„±\n\nì˜µì…˜ íŒ¨í„´ì€ í…ŒìŠ¤íŠ¸ì—ì„œ íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤:\n\n```go\nfunc TestWorker_ProcessMessages(t *testing.T) {\n    // í…ŒìŠ¤íŠ¸ìš© ì§§ì€ íƒ€ì„ì•„ì›ƒìœ¼ë¡œ ì˜¤ë²„ë¼ì´ë“œ\n    worker := NewStreamWorker(\n        mockClient,\n        mockHandler,\n        WithBatchSize(1),                        // ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ 1ê°œì”©\n        WithPollInterval(10*time.Millisecond),   // ë¹ ë¥¸ í´ë§\n        WithMaxRetries(1),                       // ì¬ì‹œë„ ìµœì†Œí™”\n        WithShutdownTimeout(100*time.Millisecond),\n    )\n    \n    // í…ŒìŠ¤íŠ¸ ë¡œì§...\n}\n```\n\n## í•µì‹¬ ì •ë¦¬\n\n```mermaid\nflowchart TD\n    subgraph Constructor [\"NewStreamWorker(client, handler, opts...)\"]\n        direction LR\n        P1[\"client\"] --> |\"í•„ìˆ˜\"| REQ[\"ì—†ìœ¼ë©´<br/>ì»´íŒŒì¼ ì—ëŸ¬\"]\n        P2[\"handler\"] --> |\"í•„ìˆ˜\"| REQ\n        P3[\"opts...\"] --> |\"ì„ íƒ\"| OPT[\"ì—†ìœ¼ë©´<br/>ê¸°ë³¸ê°’ ì‚¬ìš©\"]\n    end\n\n    subgraph Internal [\"ë‚´ë¶€ ë™ì‘\"]\n        direction TB\n        S1[\"1. cfg := defaultConfig()\"] --> |\"ê¸°ë³¸ê°’ ì´ˆê¸°í™”\"| S2\n        S2[\"2. for opt := range opts\"] --> |\"ì˜¤ë²„ë¼ì´ë“œ\"| S3\n        S3[\"opt(&cfg)\"]\n    end\n\n    Constructor --> Internal\n\n    style REQ fill:#ffebee,stroke:#c62828\n    style OPT fill:#e8f5e9,stroke:#2e7d32\n```\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **í•„ìˆ˜/ì„ íƒ ë¶„ë¦¬**: ì—†ìœ¼ë©´ ì•ˆ ë˜ëŠ” ê²ƒì€ íŒŒë¼ë¯¸í„°, ê¸°ë³¸ê°’ì´ ìˆëŠ” ê²ƒì€ ì˜µì…˜\n2. **ê¸°ë³¸ê°’ ëª…ì‹œ**: `defaultConfig()` í•¨ìˆ˜ë¡œ í•©ë¦¬ì ì¸ ê¸°ë³¸ê°’ ì •ì˜\n3. **With ì ‘ë‘ì‚¬**: ì˜µì…˜ í•¨ìˆ˜ëŠ” `With...` ë„¤ì´ë° ì»¨ë²¤ì…˜ ì¤€ìˆ˜\n4. **ê²€ì¦ í¬í•¨**: ì˜µì…˜ í•¨ìˆ˜ ë‚´ì—ì„œ ê°’ ê²€ì¦\n5. **ë¶ˆë³€ì„±**: ë‚´ë¶€ config êµ¬ì¡°ì²´ëŠ” ì™¸ë¶€ì— ë…¸ì¶œí•˜ì§€ ì•ŠìŒ\n\n## ì°¸ê³  ìë£Œ\n\n- [Dave Cheney - Functional Options](https://dave.cheney.net/2014/10/17/functional-options-for-friendly-apis)\n- [Rob Pike - Self-referential functions](https://commandcenter.blogspot.com/2014/01/self-referential-functions-and-design.html)\n- [Uber Go Style Guide](https://github.com/uber-go/guide/blob/master/style.md#functional-options)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Design Patterns",
      "Configuration",
      "Clean Code"
    ],
    "readingTime": 6,
    "wordCount": 1163,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "append-only-versioning",
    "slug": "append-only-versioning",
    "path": "backend/patterns",
    "fullPath": "backend/patterns/append-only-versioning",
    "title": "Append-Only ë¬¸ì„œ ë²„ì €ë‹ ì„¤ê³„ ë° êµ¬í˜„",
    "excerpt": "ë°ì´í„° ë¶ˆë³€ì„±ê³¼ ì™„ì „í•œ ê°ì‚¬ ì¶”ì ì„ ë³´ì¥í•˜ëŠ” Append-Only ë¬¸ì„œ ë²„ì €ë‹ ì•„í‚¤í…ì²˜ì˜ ì„¤ê³„ ì›ì¹™ê³¼ Go êµ¬í˜„ ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Append-Only ë¬¸ì„œ ë²„ì €ë‹ ì„¤ê³„ ë° êµ¬í˜„\n\n## ê°œìš”\n\në°ì´í„°ì˜ ë¶ˆë³€ì„±(Immutability)ê³¼ ì™„ì „í•œ ê°ì‚¬ ì¶”ì (Audit Trail)ì´ ìš”êµ¬ë˜ëŠ” ì‹œìŠ¤í…œì—ì„œëŠ” Append-Only ì•„í‚¤í…ì²˜ê°€ íš¨ê³¼ì ì…ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ë¬¸ì„œ ë²„ì €ë‹ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ê³  êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n## ì™œ Append-Onlyì¸ê°€?\n\n### ì¥ì \n\n| íŠ¹ì„± | ì„¤ëª… |\n|------|------|\n| **ë¶ˆë³€ì„± ë³´ì¥** | ê¸°ì¡´ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šì•„ ë°ì´í„° ë¬´ê²°ì„± ìœ ì§€ |\n| **ê°ì‚¬ ì¶”ì ** | ëª¨ë“  ë³€ê²½ ì´ë ¥ì´ ìë™ìœ¼ë¡œ ë³´ì¡´ |\n| **ì¶©ëŒ ë°©ì§€** | ë™ì‹œ ìˆ˜ì •ìœ¼ë¡œ ì¸í•œ ë°ì´í„° ì†ì‹¤ ìœ„í—˜ ê°ì†Œ |\n| **ë³µêµ¬ ìš©ì´** | íŠ¹ì • ì‹œì ìœ¼ë¡œ ë¡¤ë°± ê°€ëŠ¥ |\n| **ê·œì • ì¤€ìˆ˜** | ê¸ˆìœµ/ì˜ë£Œ ë“± ê·œì œ ì‚°ì—…ì˜ ë°ì´í„° ë³´ì¡´ ìš”ê±´ ì¶©ì¡± |\n\n### ë‹¨ì \n\n| íŠ¹ì„± | ì„¤ëª… |\n|------|------|\n| **ì €ì¥ ê³µê°„** | ë²„ì „ë§ˆë‹¤ ì „ì²´ ìŠ¤ëƒ…ìƒ· ì €ì¥ìœ¼ë¡œ ìš©ëŸ‰ ì¦ê°€ |\n| **ì¿¼ë¦¬ ë³µì¡ë„** | ìµœì‹  ë²„ì „ ì¡°íšŒ ì‹œ ì¶”ê°€ ë¡œì§ í•„ìš” |\n| **ì‚­ì œ ì²˜ë¦¬** | ë¬¼ë¦¬ì  ì‚­ì œ ëŒ€ì‹  ì†Œí”„íŠ¸ ì‚­ì œ í•„ìš” |\n\n## ì•„í‚¤í…ì²˜ ì„¤ê³„\n\n### ë“€ì–¼ ì»¬ë ‰ì…˜ êµ¬ì¡°\n\n```mermaid\ngraph LR\n    subgraph StorageLayer [Storage Layer]\n        direction TB\n        subgraph AllVersions [\"&lt;collection&gt; (All Version Snapshots)\"]\n            direction TB\n            v1[\"doc_uri: 'user-001'<br/>version: 1<br/>created_at: ...\"]\n            v2[\"doc_uri: 'user-001'<br/>version: 2\"]\n            v3[\"doc_uri: 'user-001'<br/>version: 3\"]\n        end\n\n        subgraph Current [\"current_&lt;collection&gt; (Latest Only)\"]\n            direction TB\n            latest[\"doc_uri: 'user-001'<br/>version: 3 (latest)<br/>updated_at: ...\"]\n        end\n    end\n\n    %% ìŠ¤íƒ€ì¼ë§\n    style StorageLayer fill:#f9f9f9,stroke:#333,stroke-dasharray: 5 5\n    style AllVersions fill:#fff,stroke:#007bff\n    style Current fill:#fff,stroke:#28a745\n```\n\n**ë‘ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ :**\n\n- `<collection>`: íˆìŠ¤í† ë¦¬ ë³´ì¡´, ê°ì‚¬ ì¶”ì , ê·œì • ì¤€ìˆ˜\n- `current_<collection>`: ìµœì‹  ë°ì´í„° ë¹ ë¥¸ ì¡°íšŒ, ì¸ë±ìŠ¤ ìµœì í™”\n\n### ë¬¸ì„œ ìƒíƒœ ê´€ë¦¬\n\n```go\ntype DocumentState string\n\nconst (\n    DocStateActive  DocumentState = \"ACTIVE\"\n    DocStateDeleted DocumentState = \"DELETED\"\n    DocStatePending DocumentState = \"PENDING\"\n)\n```\n\n## í•µì‹¬ êµ¬í˜„\n\n### ë¬¸ì„œ ëª¨ë¸\n\n```go\npackage model\n\nimport (\n    \"time\"\n)\n\n// VersionedDocumentëŠ” ë²„ì „ ê´€ë¦¬ë˜ëŠ” ë¬¸ì„œì˜ ê¸°ë³¸ êµ¬ì¡°ì…ë‹ˆë‹¤.\ntype VersionedDocument struct {\n    ID        string                 `bson:\"_id,omitempty\"`\n    URI       string                 `bson:\"uri\"`\n    Version   int32                  `bson:\"version\"`\n    DocStatus DocumentState          `bson:\"doc_status\"`\n    Fields    map[string]interface{} `bson:\"fields\"`\n    CreatedAt time.Time              `bson:\"created_at\"`\n    UpdatedAt time.Time              `bson:\"updated_at\"`\n}\n\n// AuditEntryëŠ” ë³€ê²½ ê°ì‚¬ ë¡œê·¸ í•­ëª©ì…ë‹ˆë‹¤.\ntype AuditEntry struct {\n    ID            string                 `bson:\"_id,omitempty\"`\n    Collection    string                 `bson:\"collection\"`\n    DocumentURI   string                 `bson:\"document_uri\"`\n    Action        string                 `bson:\"action\"` // CREATE, UPDATE, DELETE\n    ChangedBy     string                 `bson:\"changed_by\"`\n    ChangedAt     time.Time              `bson:\"changed_at\"`\n    PreviousData  map[string]interface{} `bson:\"previous_data,omitempty\"`\n    NewData       map[string]interface{} `bson:\"new_data,omitempty\"`\n    ChangedFields []string               `bson:\"changed_fields,omitempty\"`\n}\n```\n\n### ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤\n\n```go\npackage document\n\nimport (\n    \"context\"\n)\n\n// VersionedServiceëŠ” ë²„ì „ ê´€ë¦¬ ë¬¸ì„œ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.\ntype VersionedService interface {\n    // CreateëŠ” ë²„ì „ 1ì˜ ìƒˆ ë¬¸ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n    Create(ctx context.Context, collection string, data BsonDocument) (*BsonDocument, error)\n    \n    // FindLatestëŠ” URIì˜ ìµœì‹  ë²„ì „ ë¬¸ì„œë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.\n    FindLatest(ctx context.Context, collection, uri string) (*BsonDocument, error)\n    \n    // FindByVersionëŠ” íŠ¹ì • ë²„ì „ì˜ ë¬¸ì„œë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.\n    FindByVersion(ctx context.Context, collection, uri string, version int32) (*BsonDocument, error)\n    \n    // SoftUpdateëŠ” ìƒˆ ë²„ì „ì„ ìƒì„±í•˜ì—¬ ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.\n    SoftUpdate(ctx context.Context, collection, uri string, updates BsonDocument) (*BsonDocument, error)\n    \n    // SoftDeleteëŠ” ì‚­ì œ ìƒíƒœì˜ ìƒˆ ë²„ì „ì„ ìƒì„±í•©ë‹ˆë‹¤.\n    SoftDelete(ctx context.Context, collection, uri string) (*BsonDocument, error)\n    \n    // GetHistoryëŠ” ë¬¸ì„œì˜ ì „ì²´ ë²„ì „ íˆìŠ¤í† ë¦¬ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.\n    GetHistory(ctx context.Context, collection, uri string) ([]BsonDocument, error)\n}\n```\n\n### ë¬¸ì„œ ìƒì„±\n\n```go\nfunc (s *versionService) Create(ctx context.Context, collection string, data BsonDocument) (*BsonDocument, error) {\n    now := time.Now()\n    \n    doc := &VersionedDocument{\n        URI:       data.URI,\n        Version:   1, // ì²« ë²„ì „\n        DocStatus: DocStateActive,\n        Fields:    data.Fields,\n        CreatedAt: now,\n        UpdatedAt: now,\n    }\n    \n    // íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë‘ ì»¬ë ‰ì…˜ì— ë™ì‹œ ì €ì¥\n    _, err := s.WithTransaction(ctx, func(sessCtx context.Context) (interface{}, error) {\n        // 1. ë²„ì „ íˆìŠ¤í† ë¦¬ ì»¬ë ‰ì…˜ì— ì €ì¥\n        if _, err := s.collection(collection).InsertOne(sessCtx, doc); err != nil {\n            return nil, err\n        }\n        \n        // 2. ìµœì‹  ë²„ì „ ì»¬ë ‰ì…˜ì—ë„ ì €ì¥\n        currentColl := s.currentCollection(collection)\n        if _, err := currentColl.InsertOne(sessCtx, doc); err != nil {\n            return nil, err\n        }\n        \n        // 3. ê°ì‚¬ ë¡œê·¸ ìƒì„±\n        if err := s.createAuditLog(sessCtx, collection, doc, \"CREATE\", nil); err != nil {\n            return nil, err\n        }\n        \n        return doc, nil\n    })\n    \n    if err != nil {\n        return nil, err\n    }\n    \n    return doc, nil\n}\n```\n\n### ì†Œí”„íŠ¸ ì—…ë°ì´íŠ¸\n\nê¸°ì¡´ ë²„ì „ì€ ê·¸ëŒ€ë¡œ ë‘ê³  ìƒˆ ë²„ì „ì„ ì¶”ê°€í•©ë‹ˆë‹¤:\n\n```go\nfunc (s *versionService) SoftUpdate(ctx context.Context, collection, uri string, updates BsonDocument) (*BsonDocument, error) {\n    // í˜„ì¬ ìµœì‹  ë²„ì „ ì¡°íšŒ\n    current, err := s.FindLatest(ctx, collection, uri)\n    if err != nil {\n        return nil, err\n    }\n    \n    if current.DocStatus == DocStateDeleted {\n        return nil, ErrDocumentDeleted\n    }\n    \n    now := time.Now()\n    \n    // ìƒˆ ë²„ì „ ë¬¸ì„œ ìƒì„± (ê¸°ì¡´ í•„ë“œ + ì—…ë°ì´íŠ¸ í•„ë“œ)\n    newFields := mergeFields(current.Fields, updates.Fields)\n    changedFields := detectChangedFields(current.Fields, newFields)\n    \n    newDoc := &VersionedDocument{\n        URI:       uri,\n        Version:   current.Version + 1, // ë²„ì „ ì¦ê°€\n        DocStatus: DocStateActive,\n        Fields:    newFields,\n        CreatedAt: current.CreatedAt, // ì›ë³¸ ìƒì„± ì‹œê°„ ìœ ì§€\n        UpdatedAt: now,\n    }\n    \n    _, err = s.WithTransaction(ctx, func(sessCtx context.Context) (interface{}, error) {\n        // 1. ìƒˆ ë²„ì „ì„ íˆìŠ¤í† ë¦¬ ì»¬ë ‰ì…˜ì— ì¶”ê°€ (Append)\n        if _, err := s.collection(collection).InsertOne(sessCtx, newDoc); err != nil {\n            return nil, err\n        }\n        \n        // 2. ìµœì‹  ë²„ì „ ì»¬ë ‰ì…˜ ì—…ë°ì´íŠ¸ (Replace)\n        filter := bson.M{\"uri\": uri}\n        if _, err := s.currentCollection(collection).ReplaceOne(sessCtx, filter, newDoc); err != nil {\n            return nil, err\n        }\n        \n        // 3. ê°ì‚¬ ë¡œê·¸\n        auditLog := &AuditEntry{\n            Collection:    collection,\n            DocumentURI:   uri,\n            Action:        \"UPDATE\",\n            ChangedAt:     now,\n            PreviousData:  current.Fields,\n            NewData:       newFields,\n            ChangedFields: changedFields,\n        }\n        if err := s.insertAuditLog(sessCtx, auditLog); err != nil {\n            return nil, err\n        }\n        \n        return newDoc, nil\n    })\n    \n    if err != nil {\n        return nil, err\n    }\n    \n    return newDoc, nil\n}\n```\n\n### ì†Œí”„íŠ¸ ì‚­ì œ\n\në¬¼ë¦¬ì  ì‚­ì œ ëŒ€ì‹  ì‚­ì œ ìƒíƒœì˜ ìƒˆ ë²„ì „ì„ ìƒì„±í•©ë‹ˆë‹¤:\n\n```go\nfunc (s *versionService) SoftDelete(ctx context.Context, collection, uri string) (*BsonDocument, error) {\n    current, err := s.FindLatest(ctx, collection, uri)\n    if err != nil {\n        return nil, err\n    }\n    \n    now := time.Now()\n    \n    // ì‚­ì œ ìƒíƒœì˜ ìƒˆ ë²„ì „ ìƒì„±\n    deletedDoc := &VersionedDocument{\n        URI:       uri,\n        Version:   current.Version + 1,\n        DocStatus: DocStateDeleted, // DELETED ìƒíƒœ\n        Fields:    current.Fields,  // ë§ˆì§€ë§‰ ë°ì´í„° ë³´ì¡´\n        CreatedAt: current.CreatedAt,\n        UpdatedAt: now,\n    }\n    \n    _, err = s.WithTransaction(ctx, func(sessCtx context.Context) (interface{}, error) {\n        // 1. ì‚­ì œ ë²„ì „ íˆìŠ¤í† ë¦¬ì— ì¶”ê°€\n        if _, err := s.collection(collection).InsertOne(sessCtx, deletedDoc); err != nil {\n            return nil, err\n        }\n        \n        // 2. ìµœì‹  ë²„ì „ ì»¬ë ‰ì…˜ë„ ì‚­ì œ ìƒíƒœë¡œ ì—…ë°ì´íŠ¸\n        filter := bson.M{\"uri\": uri}\n        if _, err := s.currentCollection(collection).ReplaceOne(sessCtx, filter, deletedDoc); err != nil {\n            return nil, err\n        }\n        \n        // 3. ê°ì‚¬ ë¡œê·¸\n        if err := s.createAuditLog(sessCtx, collection, deletedDoc, \"DELETE\", current.Fields); err != nil {\n            return nil, err\n        }\n        \n        return deletedDoc, nil\n    })\n    \n    return deletedDoc, err\n}\n```\n\n### ë³€ê²½ í•„ë“œ ê°ì§€\n\n```go\nfunc detectChangedFields(previous, current map[string]interface{}) []string {\n    var changed []string\n    \n    for key, newVal := range current {\n        oldVal, exists := previous[key]\n        if !exists || !reflect.DeepEqual(oldVal, newVal) {\n            changed = append(changed, key)\n        }\n    }\n    \n    // ì‚­ì œëœ í•„ë“œ ê°ì§€\n    for key := range previous {\n        if _, exists := current[key]; !exists {\n            changed = append(changed, key)\n        }\n    }\n    \n    return changed\n}\n```\n\n## Optimistic Locking\n\në™ì‹œ ì—…ë°ì´íŠ¸ ì¶©ëŒ ë°©ì§€ë¥¼ ìœ„í•œ ë‚™ê´€ì  ì ê¸ˆ:\n\n```go\nfunc (s *versionService) SoftUpdateWithLock(\n    ctx context.Context, \n    collection, uri string, \n    expectedVersion int32,\n    updates BsonDocument,\n) (*BsonDocument, error) {\n    current, err := s.FindLatest(ctx, collection, uri)\n    if err != nil {\n        return nil, err\n    }\n    \n    // ë²„ì „ ë¶ˆì¼ì¹˜ ì‹œ ì¶©ëŒ ì—ëŸ¬\n    if current.Version != expectedVersion {\n        return nil, fmt.Errorf(\n            \"version conflict: expected %d, actual %d\",\n            expectedVersion, current.Version,\n        )\n    }\n    \n    return s.SoftUpdate(ctx, collection, uri, updates)\n}\n```\n\n## ì¿¼ë¦¬ íŒ¨í„´\n\n### ìµœì‹  ë²„ì „ ì¡°íšŒ (ë¹ ë¦„)\n\n```go\n// current_<collection>ì—ì„œ ì§ì ‘ ì¡°íšŒ\nfunc (s *versionService) FindLatest(ctx context.Context, collection, uri string) (*BsonDocument, error) {\n    filter := bson.M{\n        \"uri\":        uri,\n        \"doc_status\": bson.M{\"$ne\": DocStateDeleted},\n    }\n    \n    var doc VersionedDocument\n    err := s.currentCollection(collection).FindOne(ctx, filter).Decode(&doc)\n    if err != nil {\n        return nil, err\n    }\n    \n    return &doc, nil\n}\n```\n\n### íŠ¹ì • ë²„ì „ ì¡°íšŒ\n\n```go\nfunc (s *versionService) FindByVersion(ctx context.Context, collection, uri string, version int32) (*BsonDocument, error) {\n    filter := bson.M{\n        \"uri\":     uri,\n        \"version\": version,\n    }\n    \n    var doc VersionedDocument\n    err := s.collection(collection).FindOne(ctx, filter).Decode(&doc)\n    if err != nil {\n        return nil, err\n    }\n    \n    return &doc, nil\n}\n```\n\n### íˆìŠ¤í† ë¦¬ ì¡°íšŒ\n\n```go\nfunc (s *versionService) GetHistory(ctx context.Context, collection, uri string) ([]BsonDocument, error) {\n    filter := bson.M{\"uri\": uri}\n    opts := options.Find().SetSort(bson.D{{Key: \"version\", Value: 1}})\n    \n    cursor, err := s.collection(collection).Find(ctx, filter, opts)\n    if err != nil {\n        return nil, err\n    }\n    defer cursor.Close(ctx)\n    \n    var docs []VersionedDocument\n    if err := cursor.All(ctx, &docs); err != nil {\n        return nil, err\n    }\n    \n    return docs, nil\n}\n```\n\n## ì¸ë±ìŠ¤ ì „ëµ\n\n```go\n// íˆìŠ¤í† ë¦¬ ì»¬ë ‰ì…˜ ì¸ë±ìŠ¤\nindexes := []mongo.IndexModel{\n    {\n        Keys: bson.D{{Key: \"uri\", Value: 1}, {Key: \"version\", Value: -1}},\n        Options: options.Index().SetUnique(true),\n    },\n    {\n        Keys: bson.D{{Key: \"created_at\", Value: -1}},\n    },\n}\n\n// ìµœì‹  ë²„ì „ ì»¬ë ‰ì…˜ ì¸ë±ìŠ¤\ncurrentIndexes := []mongo.IndexModel{\n    {\n        Keys: bson.D{{Key: \"uri\", Value: 1}},\n        Options: options.Index().SetUnique(true),\n    },\n    {\n        Keys: bson.D{{Key: \"doc_status\", Value: 1}},\n    },\n}\n```\n\n## ìŠ¤í† ë¦¬ì§€ ìµœì í™”\n\në²„ì „ ëˆ„ì ìœ¼ë¡œ ì¸í•œ ì €ì¥ ê³µê°„ ì¦ê°€ ëŒ€ì‘:\n\n### 1. í•„ë“œ ì••ì¶•\n\n```go\n// ë³€ê²½ëœ í•„ë“œë§Œ ì €ì¥í•˜ëŠ” Delta ë°©ì‹ (ì„ íƒì )\ntype DeltaDocument struct {\n    URI         string                 `bson:\"uri\"`\n    Version     int32                  `bson:\"version\"`\n    BaseVersion int32                  `bson:\"base_version,omitempty\"`\n    Delta       map[string]interface{} `bson:\"delta,omitempty\"`\n    IsSnapshot  bool                   `bson:\"is_snapshot\"`\n}\n```\n\n### 2. TTL ì •ì±…\n\n```go\n// ì˜¤ë˜ëœ ë²„ì „ ìë™ ì •ë¦¬ (ìµœì‹  Nê°œ ìœ ì§€)\nindexes := mongo.IndexModel{\n    Keys:    bson.D{{Key: \"created_at\", Value: 1}},\n    Options: options.Index().SetExpireAfterSeconds(86400 * 365), // 1ë…„\n}\n```\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **íŠ¸ëœì­ì…˜ í•„ìˆ˜**: ë‘ ì»¬ë ‰ì…˜ ë™ì‹œ ì—…ë°ì´íŠ¸ ì‹œ ì›ìì„± ë³´ì¥\n2. **URI ë¶ˆë³€ì„±**: ë¬¸ì„œ ì‹ë³„ì(URI)ëŠ” ìƒì„± í›„ ë³€ê²½ ê¸ˆì§€\n3. **ê°ì‚¬ ë¡œê·¸ ë¶„ë¦¬**: ê°ì‚¬ ë¡œê·¸ëŠ” ë³„ë„ ì»¬ë ‰ì…˜ì— ì €ì¥í•˜ì—¬ ë…ë¦½ì  ì ‘ê·¼\n4. **ì¸ë±ìŠ¤ ìµœì í™”**: ìµœì‹  ë²„ì „ ì¡°íšŒ íŒ¨í„´ì— ë§ëŠ” ì¸ë±ìŠ¤ ì„¤ê³„\n5. **ë²„ì „ ìƒí•œ ì„¤ì •**: ë¬´í•œ ë²„ì „ ì¦ê°€ ë°©ì§€ ì •ì±… ê³ ë ¤\n\n## ì°¸ê³  ìë£Œ\n\n- [Event Sourcing Pattern](https://martinfowler.com/eaaDev/EventSourcing.html)\n- [MongoDB Transactions](https://www.mongodb.com/docs/manual/core/transactions/)\n- [Immutable Data Patterns](https://www.cidrdb.org/cidr2015/Papers/CIDR15_Paper16.pdf)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Architecture",
      "Go",
      "MongoDB",
      "Versioning",
      "Audit"
    ],
    "readingTime": 8,
    "wordCount": 1447,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "grpc-gateway-dual-protocol",
    "slug": "grpc-gateway-dual-protocol",
    "path": "backend/http",
    "fullPath": "backend/http/grpc-gateway-dual-protocol",
    "title": "gRPC-Gatewayë¡œ ë‹¨ì¼ API ë“€ì–¼ í”„ë¡œí† ì½œ ì§€ì›",
    "excerpt": "í•˜ë‚˜ì˜ Proto ì •ì˜ë¡œ gRPCì™€ RESTful HTTP APIë¥¼ ë™ì‹œì— ì œê³µí•˜ëŠ” gRPC-Gateway êµ¬í˜„ ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# gRPC-Gatewayë¡œ ë‹¨ì¼ API ë“€ì–¼ í”„ë¡œí† ì½œ ì§€ì›\n\n## ê°œìš”\n\n**gRPC-Gateway**ëŠ” gRPC ì„œë¹„ìŠ¤ì— RESTful HTTP/JSON ì¸í„°í˜ì´ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ì¶”ê°€í•´ì£¼ëŠ” ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œì…ë‹ˆë‹¤. í•˜ë‚˜ì˜ Proto ì •ì˜ë¡œ ë‘ í”„ë¡œí† ì½œì„ ëª¨ë‘ ì§€ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ì™œ ë“€ì–¼ í”„ë¡œí† ì½œì¸ê°€?\n\n### ì¥ì \n\n| í”„ë¡œí† ì½œ | ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ |\n|----------|--------------|\n| **gRPC** | ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ í†µì‹ , ê³ ì„±ëŠ¥ í•„ìš”, ìŠ¤íŠ¸ë¦¬ë° |\n| **HTTP/JSON** | ì›¹ ë¸Œë¼ìš°ì €, ì™¸ë¶€ API í´ë¼ì´ì–¸íŠ¸, ë””ë²„ê¹… |\n\në‹¨ì¼ ì½”ë“œë² ì´ìŠ¤ë¡œ ë‘ ë‹ˆì¦ˆë¥¼ ëª¨ë‘ ì¶©ì¡±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ë‹¨ì \n\n| íŠ¹ì„± | ì„¤ëª… |\n|------|------|\n| ì¶”ê°€ ë ˆì´ì–´ | HTTP â†’ gRPC ë³€í™˜ ì˜¤ë²„í—¤ë“œ |\n| ê¸°ëŠ¥ ì œí•œ | HTTPì—ì„œ gRPC ìŠ¤íŠ¸ë¦¬ë° ì¼ë¶€ ì§€ì› ì œí•œ |\n| ë³µì¡ì„± | ë‘ í”„ë¡œí† ì½œì˜ ì—ëŸ¬ ì²˜ë¦¬ ë§¤í•‘ í•„ìš” |\n\n## ì•„í‚¤í…ì²˜\n\n```mermaid\ngraph LR\n    %% ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ ì •ì˜\n    subgraph Clients [\"Clients\"]\n        HTTP_Client[\"HTTP Client<br/>(Browser, etc)\"]\n        gRPC_Client[\"gRPC Client<br/>(Microservice)\"]\n    end\n\n    %% API ì„œë²„ ë‚´ë¶€ êµ¬ì¡° ì •ì˜\n    subgraph APIServer [\"API Server\"]\n        direction TB\n        \n        subgraph Ports [\"Incoming Ports\"]\n            HTTP_Port[\":8080 HTTP\"]\n            gRPC_Port[\":9090 gRPC\"]\n        end\n\n        Mux[\"gRPC-Gateway Mux\"]\n        gRPC_Srv[\"gRPC Server<br/>(Core Logic)\"]\n        \n        subgraph Endpoints [\"Misc Endpoints\"]\n            OpenAPI[\"OpenAPI<br/>/openapi\"]\n            Health[\"Health<br/>/ready\"]\n        end\n\n        %% ë‚´ë¶€ íë¦„\n        HTTP_Port --> Mux\n        Mux --> gRPC_Srv\n        gRPC_Port --> gRPC_Srv\n    end\n\n    %% í´ë¼ì´ì–¸íŠ¸ ì—°ê²°\n    HTTP_Client -- \"JSON/REST\" --> HTTP_Port\n    gRPC_Client -- \"Protobuf\" --> gRPC_Port\n\n    %% ìŠ¤íƒ€ì¼ë§\n    style APIServer fill:#f5f5f5,stroke:#333,stroke-width:2px\n    style Mux fill:#e1f5fe,stroke:#01579b\n    style gRPC_Srv fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px\n    style HTTP_Client fill:#fff,stroke:#333\n    style gRPC_Client fill:#fff,stroke:#333\n```\n\n## Proto ì •ì˜\n\n### HTTP ì–´ë…¸í…Œì´ì…˜ ì¶”ê°€\n\n```protobuf\nsyntax = \"proto3\";\n\npackage v1beta;\n\nimport \"google/api/annotations.proto\";\nimport \"google/protobuf/struct.proto\";\n\nservice DocumentService {\n  // POST /v1beta/collections/{collection}/documents\n  rpc CreateDocument(CreateDocumentRequest) returns (CreateDocumentResponse) {\n    option (google.api.http) = {\n      post: \"/v1beta/collections/{collection}/documents\"\n      body: \"*\"\n    };\n  }\n  \n  // GET /v1beta/collections/{collection}/documents/{uri}\n  rpc GetDocument(GetDocumentRequest) returns (GetDocumentResponse) {\n    option (google.api.http) = {\n      get: \"/v1beta/collections/{collection}/documents/{uri}\"\n    };\n  }\n  \n  // PATCH /v1beta/collections/{collection}/documents/{uri}\n  rpc UpdateDocument(UpdateDocumentRequest) returns (UpdateDocumentResponse) {\n    option (google.api.http) = {\n      patch: \"/v1beta/collections/{collection}/documents/{uri}\"\n      body: \"*\"\n    };\n  }\n  \n  // DELETE /v1beta/collections/{collection}/documents/{uri}\n  rpc DeleteDocument(DeleteDocumentRequest) returns (DeleteDocumentResponse) {\n    option (google.api.http) = {\n      delete: \"/v1beta/collections/{collection}/documents/{uri}\"\n    };\n  }\n  \n  // POSTë¡œ ì¿¼ë¦¬ (URL ê¸¸ì´ ì œí•œ íšŒí”¼)\n  // POST /v1beta/collections/{collection}/documents:query\n  rpc QueryDocuments(QueryDocumentsRequest) returns (QueryDocumentsResponse) {\n    option (google.api.http) = {\n      post: \"/v1beta/collections/{collection}/documents:query\"\n      body: \"*\"\n    };\n  }\n  \n  // ë°°ì¹˜ ì‘ì—…\n  // POST /v1beta/collections/{collection}/documents:batchCreate\n  rpc BatchCreateDocuments(BatchCreateRequest) returns (BatchCreateResponse) {\n    option (google.api.http) = {\n      post: \"/v1beta/collections/{collection}/documents:batchCreate\"\n      body: \"*\"\n    };\n  }\n}\n\nmessage CreateDocumentRequest {\n  // URL ê²½ë¡œ íŒŒë¼ë¯¸í„°ë¡œ ì¶”ì¶œë¨\n  string collection = 1;\n  DocumentInput document = 2;\n}\n\nmessage GetDocumentRequest {\n  string collection = 1;\n  string uri = 2;\n  // ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°: ?version=3\n  optional int32 version = 3;\n  // ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°: ?skip_validation=true\n  optional bool skip_validation = 4;\n}\n\n// ... ë‚˜ë¨¸ì§€ ë©”ì‹œì§€ ì •ì˜\n```\n\n### URL ë§¤í•‘ ê·œì¹™\n\n| gRPC í•„ë“œ ìœ„ì¹˜ | HTTP ìœ„ì¹˜ |\n|---------------|-----------|\n| `{field}` in path | URL ê²½ë¡œ íŒŒë¼ë¯¸í„° |\n| `body: \"*\"` | ë‚˜ë¨¸ì§€ í•„ë“œëŠ” JSON body |\n| `body: \"field\"` | íŠ¹ì • í•„ë“œë§Œ body |\n| ê·¸ ì™¸ í•„ë“œ | ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° |\n\n## ì½”ë“œ ìƒì„± ì„¤ì •\n\n### buf.gen.yaml\n\n```yaml\nversion: v2\nplugins:\n  # gRPC ì„œë²„/í´ë¼ì´ì–¸íŠ¸\n  - remote: buf.build/grpc/go:v1.5.1\n    out: generated/go/proto\n    opt: paths=source_relative\n  \n  # gRPC-Gateway í•¸ë“¤ëŸ¬\n  - remote: buf.build/grpc-ecosystem/gateway:v2.25.1\n    out: generated/go/proto\n    opt:\n      - paths=source_relative\n      - standalone=true       # ë…ë¦½ íŒŒì¼ë¡œ ìƒì„±\n      - generate_unbound_methods=true\n```\n\n### ìƒì„± ì‹¤í–‰\n\n```bash\nbuf generate\n```\n\nìƒì„±ëœ íŒŒì¼:\n\n- `api_grpc.pb.go`: gRPC ì„œë²„/í´ë¼ì´ì–¸íŠ¸\n- `api.pb.gw.go`: HTTP Gateway í•¸ë“¤ëŸ¬\n\n## ì„œë²„ êµ¬í˜„\n\n### í†µí•© ì„œë²„\n\n```go\npackage main\n\nimport (\n    \"context\"\n    \"net\"\n    \"net/http\"\n    \"sync\"\n    \n    \"github.com/grpc-ecosystem/grpc-gateway/v2/runtime\"\n    \"google.golang.org/grpc\"\n    \"google.golang.org/grpc/credentials/insecure\"\n    \n    pb \"github.com/myorg/myservice/generated/go/proto/v1beta\"\n)\n\ntype Server struct {\n    grpcServer *grpc.Server\n    httpServer *http.Server\n    \n    grpcPort string\n    httpPort string\n}\n\nfunc NewServer(service DocumentService) *Server {\n    // gRPC ì„œë²„ ì„¤ì •\n    grpcServer := grpc.NewServer(\n        grpc.UnaryInterceptor(loggingInterceptor),\n    )\n    pb.RegisterDocumentServiceServer(grpcServer, &documentHandler{service})\n    \n    return &Server{\n        grpcServer: grpcServer,\n        grpcPort:   \":9090\",\n        httpPort:   \":8080\",\n    }\n}\n\nfunc (s *Server) Start(ctx context.Context) error {\n    var wg sync.WaitGroup\n    errCh := make(chan error, 2)\n    \n    // 1. gRPC ì„œë²„ ì‹œì‘\n    wg.Add(1)\n    go func() {\n        defer wg.Done()\n        lis, err := net.Listen(\"tcp\", s.grpcPort)\n        if err != nil {\n            errCh <- err\n            return\n        }\n        if err := s.grpcServer.Serve(lis); err != nil {\n            errCh <- err\n        }\n    }()\n    \n    // 2. HTTP Gateway ì‹œì‘\n    wg.Add(1)\n    go func() {\n        defer wg.Done()\n        if err := s.startHTTPGateway(ctx); err != nil {\n            errCh <- err\n        }\n    }()\n    \n    select {\n    case err := <-errCh:\n        return err\n    case <-ctx.Done():\n        s.Shutdown()\n        return ctx.Err()\n    }\n}\n\nfunc (s *Server) startHTTPGateway(ctx context.Context) error {\n    mux := runtime.NewServeMux(\n        // JSON í•„ë“œ ì´ë¦„ ì„¤ì •\n        runtime.WithMarshalerOption(runtime.MIMEWildcard, &runtime.JSONPb{\n            MarshalOptions: protojson.MarshalOptions{\n                UseProtoNames:   true,\n                EmitUnpopulated: true,\n            },\n            UnmarshalOptions: protojson.UnmarshalOptions{\n                DiscardUnknown: true,\n            },\n        }),\n        // ì—ëŸ¬ í•¸ë“¤ë§ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ\n        runtime.WithErrorHandler(customErrorHandler),\n    )\n    \n    opts := []grpc.DialOption{grpc.WithTransportCredentials(insecure.NewCredentials())}\n    \n    // gRPC ì„œë²„ì— ì—°ê²°\n    err := pb.RegisterDocumentServiceHandlerFromEndpoint(ctx, mux, \"localhost\"+s.grpcPort, opts)\n    if err != nil {\n        return err\n    }\n    \n    // ì¶”ê°€ HTTP ì—”ë“œí¬ì¸íŠ¸\n    handler := http.NewServeMux()\n    handler.Handle(\"/\", mux)\n    handler.HandleFunc(\"/openapi.yaml\", serveOpenAPI)\n    handler.HandleFunc(\"/ready\", healthCheck)\n    \n    s.httpServer = &http.Server{\n        Addr:    s.httpPort,\n        Handler: handler,\n    }\n    \n    return s.httpServer.ListenAndServe()\n}\n\nfunc (s *Server) Shutdown() {\n    s.grpcServer.GracefulStop()\n    if s.httpServer != nil {\n        s.httpServer.Shutdown(context.Background())\n    }\n}\n```\n\n### ì—ëŸ¬ í•¸ë“¤ë§\n\ngRPC ìƒíƒœ ì½”ë“œë¥¼ HTTP ìƒíƒœ ì½”ë“œë¡œ ë§¤í•‘:\n\n```go\nfunc customErrorHandler(\n    ctx context.Context,\n    mux *runtime.ServeMux,\n    marshaler runtime.Marshaler,\n    w http.ResponseWriter,\n    r *http.Request,\n    err error,\n) {\n    // gRPC ì—ëŸ¬ì—ì„œ ìƒíƒœ ì¶”ì¶œ\n    st, _ := status.FromError(err)\n    \n    // HTTP ìƒíƒœ ì½”ë“œ ë§¤í•‘\n    httpStatus := runtime.HTTPStatusFromCode(st.Code())\n    \n    // ì»¤ìŠ¤í…€ ì—ëŸ¬ ì‘ë‹µ\n    response := map[string]interface{}{\n        \"code\":    st.Code().String(),\n        \"message\": st.Message(),\n    }\n    \n    if details := st.Details(); len(details) > 0 {\n        response[\"details\"] = details\n    }\n    \n    w.Header().Set(\"Content-Type\", \"application/json\")\n    w.WriteHeader(httpStatus)\n    json.NewEncoder(w).Encode(response)\n}\n```\n\n## ì¸-í”„ë¡œì„¸ìŠ¤ vs ë„¤íŠ¸ì›Œí¬ ì—°ê²°\n\n### ë„¤íŠ¸ì›Œí¬ ì—°ê²° (ê¸°ë³¸)\n\n```go\n// gRPC ì„œë²„ì— ë„¤íŠ¸ì›Œí¬ë¡œ ì—°ê²°\npb.RegisterDocumentServiceHandlerFromEndpoint(ctx, mux, \"localhost:9090\", opts)\n```\n\n### ì¸-í”„ë¡œì„¸ìŠ¤ ì—°ê²° (ê¶Œì¥)\n\në„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ ì—†ì´ ì§ì ‘ ì—°ê²°:\n\n```go\nfunc (s *Server) startHTTPGatewayInProcess(ctx context.Context) error {\n    mux := runtime.NewServeMux()\n    \n    // ì„œë²„ êµ¬í˜„ì²´ë¥¼ ì§ì ‘ ë“±ë¡ (ë„¤íŠ¸ì›Œí¬ ê²½ìœ  ì—†ìŒ)\n    err := pb.RegisterDocumentServiceHandlerServer(ctx, mux, s.documentHandler)\n    if err != nil {\n        return err\n    }\n    \n    s.httpServer = &http.Server{\n        Addr:    s.httpPort,\n        Handler: mux,\n    }\n    \n    return s.httpServer.ListenAndServe()\n}\n```\n\n## ë¯¸ë“¤ì›¨ì–´\n\n### HTTP ë¯¸ë“¤ì›¨ì–´ ì²´ì¸\n\n```go\nfunc (s *Server) buildHTTPHandler(mux *runtime.ServeMux) http.Handler {\n    // ë¯¸ë“¤ì›¨ì–´ ì²´ì¸\n    handler := corsMiddleware(mux)\n    handler = loggingMiddleware(handler)\n    handler = metricsMiddleware(handler)\n    \n    return handler\n}\n\nfunc corsMiddleware(next http.Handler) http.Handler {\n    return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n        w.Header().Set(\"Access-Control-Allow-Origin\", \"*\")\n        w.Header().Set(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, PATCH, DELETE, OPTIONS\")\n        w.Header().Set(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\")\n        \n        if r.Method == \"OPTIONS\" {\n            w.WriteHeader(http.StatusNoContent)\n            return\n        }\n        \n        next.ServeHTTP(w, r)\n    })\n}\n\nfunc loggingMiddleware(next http.Handler) http.Handler {\n    return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n        start := time.Now()\n        \n        wrapped := &responseWriter{ResponseWriter: w, status: 200}\n        next.ServeHTTP(wrapped, r)\n        \n        log.Printf(\"%s %s %d %v\", r.Method, r.URL.Path, wrapped.status, time.Since(start))\n    })\n}\n```\n\n### gRPC ì¸í„°ì…‰í„°\n\n```go\nfunc loggingInterceptor(\n    ctx context.Context,\n    req interface{},\n    info *grpc.UnaryServerInfo,\n    handler grpc.UnaryHandler,\n) (interface{}, error) {\n    start := time.Now()\n    \n    resp, err := handler(ctx, req)\n    \n    log.Printf(\"gRPC %s %v err=%v\", info.FullMethod, time.Since(start), err)\n    \n    return resp, err\n}\n```\n\n## OpenAPI ìŠ¤í™ ì œê³µ\n\n### ìë™ ìƒì„±ëœ ìŠ¤í™ ì œê³µ\n\n```go\n//go:embed generated/docs/openapi.yaml\nvar openAPISpec []byte\n\nfunc serveOpenAPI(w http.ResponseWriter, r *http.Request) {\n    w.Header().Set(\"Content-Type\", \"application/x-yaml\")\n    w.Write(openAPISpec)\n}\n```\n\n### Stoplight Elements í†µí•©\n\nì •ì  HTMLê³¼ Stoplight Elements ì›¹ ì»´í¬ë„ŒíŠ¸ë¡œ ì¸í„°ë™í‹°ë¸Œ API ë¬¸ì„œë¥¼ ì œê³µí•©ë‹ˆë‹¤:\n\n```html\n<!-- docs/openapi.html -->\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <title>API Documentation</title>\n    <script src=\"https://unpkg.com/@stoplight/elements/web-components.min.js\"></script>\n    <link rel=\"stylesheet\" href=\"https://unpkg.com/@stoplight/elements/styles.min.css\" />\n  </head>\n  <body>\n    <elements-api\n      apiDescriptionUrl=\"openapi.swagger.json\"\n      router=\"hash\"\n      layout=\"sidebar\"\n      hideInternal=\"true\"\n    />\n  </body>\n</html>\n```\n\nProto í”„ë¡œì íŠ¸ì—ì„œ embed.FSë¡œ ì •ì  íŒŒì¼ ì œê³µ:\n\n```go\n// generated/go/docs/embed.go\npackage docs\n\nimport \"embed\"\n\n//go:embed openapi.html openapi.swagger.json\nvar StaticFiles embed.FS\n```\n\ngRPC-Gateway Muxì— ì§ì ‘ ê²½ë¡œ ë“±ë¡:\n\n```go\nimport (\n    \"io/fs\"\n    \"net/http\"\n    \n    \"github.com/grpc-ecosystem/grpc-gateway/v2/runtime\"\n    \"myproject/generated/go/docs\"\n)\n\nfunc setupAPIRoutes(gatewayMux *runtime.ServeMux) {\n    // íŒŒì¼ ì„œë¹™ í—¬í¼\n    serveEmbeddedFile := func(w http.ResponseWriter, r *http.Request, fsys fs.FS, name string) {\n        fileServer := http.FileServer(http.FS(fsys))\n        r.URL.Path = name\n        fileServer.ServeHTTP(w, r)\n    }\n    \n    // OpenAPI JSON ìŠ¤í™\n    gatewayMux.HandlePath(\"GET\", \"/openapi.swagger.json\", \n        func(w http.ResponseWriter, r *http.Request, _ map[string]string) {\n            serveEmbeddedFile(w, r, docs.StaticFiles, \"openapi.swagger.json\")\n        })\n    \n    // Stoplight Elements UI (HTML)\n    gatewayMux.HandlePath(\"GET\", \"/openapi.html\", \n        func(w http.ResponseWriter, r *http.Request, _ map[string]string) {\n            serveEmbeddedFile(w, r, docs.StaticFiles, \"openapi.html\")\n        })\n    \n    // ë£¨íŠ¸ ì ‘ì† ì‹œ ë¬¸ì„œë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸\n    gatewayMux.HandlePath(\"GET\", \"/\", \n        func(w http.ResponseWriter, r *http.Request, _ map[string]string) {\n            http.Redirect(w, r, \"/openapi.html\", http.StatusFound)\n        })\n}\n```\n\n## ìš”ì²­/ì‘ë‹µ ì˜ˆì‹œ\n\n### HTTP ìš”ì²­\n\n```bash\n# ë¬¸ì„œ ìƒì„±\ncurl -X POST http://localhost:8080/v1beta/collections/users/documents \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"document\": {\n      \"uri\": \"user-001\",\n      \"fields\": {\n        \"name\": \"John Doe\",\n        \"email\": \"john@example.com\"\n      }\n    }\n  }'\n\n# ë¬¸ì„œ ì¡°íšŒ\ncurl http://localhost:8080/v1beta/collections/users/documents/user-001?version=1\n\n# ë¬¸ì„œ ì—…ë°ì´íŠ¸\ncurl -X PATCH http://localhost:8080/v1beta/collections/users/documents/user-001 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"fields\": {\"name\": \"Jane Doe\"}}'\n```\n\n### gRPC ìš”ì²­ (grpcurl)\n\n```bash\n# ë¬¸ì„œ ìƒì„±\ngrpcurl -plaintext -d '{\n  \"collection\": \"users\",\n  \"document\": {\n    \"uri\": \"user-001\",\n    \"fields\": {\"name\": \"John Doe\"}\n  }\n}' localhost:9090 v1beta.DocumentService/CreateDocument\n\n# ë¬¸ì„œ ì¡°íšŒ\ngrpcurl -plaintext -d '{\n  \"collection\": \"users\",\n  \"uri\": \"user-001\"\n}' localhost:9090 v1beta.DocumentService/GetDocument\n```\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **ì¸-í”„ë¡œì„¸ìŠ¤ ì—°ê²°**: ê°€ëŠ¥í•˜ë©´ `RegisterHandlerServer` ì‚¬ìš©\n2. **ì¼ê´€ëœ ì—ëŸ¬ ì²˜ë¦¬**: gRPC/HTTP ì—ëŸ¬ ë§¤í•‘ í†µì¼\n3. **OpenAPI í†µí•©**: ìë™ ìƒì„± ìŠ¤í™ìœ¼ë¡œ ë¬¸ì„œí™”\n4. **ë¯¸ë“¤ì›¨ì–´ ë¶„ë¦¬**: HTTP/gRPC ê°ê° ì ì ˆí•œ ë¯¸ë“¤ì›¨ì–´ ì ìš©\n5. **Health Check**: `/ready` ì—”ë“œí¬ì¸íŠ¸ë¡œ í—¬ìŠ¤ì²´í¬ ë¶„ë¦¬\n\n## ì°¸ê³  ìë£Œ\n\n- [gRPC-Gateway ê³µì‹ ë¬¸ì„œ](https://grpc-ecosystem.github.io/grpc-gateway/)\n- [google.api.http ì–´ë…¸í…Œì´ì…˜](https://cloud.google.com/endpoints/docs/grpc/transcoding)\n- [runtime.ServeMux ì˜µì…˜](https://pkg.go.dev/github.com/grpc-ecosystem/grpc-gateway/v2/runtime)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "gRPC",
      "REST",
      "HTTP",
      "API",
      "Gateway"
    ],
    "readingTime": 7,
    "wordCount": 1375,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "wire-dependency-injection",
    "slug": "wire-dependency-injection",
    "path": "backend/go",
    "fullPath": "backend/go/wire-dependency-injection",
    "title": "Wireë¥¼ í™œìš©í•œ Go ì˜ì¡´ì„± ì£¼ì…(DI) êµ¬í˜„",
    "excerpt": "Googleì˜ Wireë¥¼ ì‚¬ìš©í•˜ì—¬ Go ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì»´íŒŒì¼ íƒ€ì„ ì˜ì¡´ì„± ì£¼ì…ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Wireë¥¼ í™œìš©í•œ Go ì˜ì¡´ì„± ì£¼ì…(DI) êµ¬í˜„\n\n## ê°œìš”\n\n**Wire**ëŠ” Googleì—ì„œ ê°œë°œí•œ Goìš© ì»´íŒŒì¼ íƒ€ì„ ì˜ì¡´ì„± ì£¼ì… ë„êµ¬ì…ë‹ˆë‹¤. ë¦¬í”Œë ‰ì…˜ ì—†ì´ ì½”ë“œ ìƒì„±ì„ í†µí•´ DIë¥¼ êµ¬í˜„í•˜ë¯€ë¡œ ëŸ°íƒ€ì„ ì˜¤ë²„í—¤ë“œê°€ ì—†ìŠµë‹ˆë‹¤.\n\n## ì™œ Wireì¸ê°€?\n\n| ë„êµ¬ | ë°©ì‹ | ì¥ì  | ë‹¨ì  |\n|-----|------|------|------|\n| ìˆ˜ë™ DI | ì§ì ‘ êµ¬ì„± | ë‹¨ìˆœ, ëª…ì‹œì  | ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ |\n| dig/fx | ëŸ°íƒ€ì„ ë¦¬í”Œë ‰ì…˜ | ìœ ì—° | ëŸ°íƒ€ì„ ì˜¤ë²„í—¤ë“œ, ë””ë²„ê¹… ì–´ë ¤ì›€ |\n| **Wire** | ì»´íŒŒì¼ íƒ€ì„ ì½”ë“œ ìƒì„± | íƒ€ì… ì•ˆì „, ì˜¤ë²„í—¤ë“œ ì—†ìŒ | ì´ˆê¸° ì„¤ì • í•„ìš” |\n\n## ì„¤ì¹˜\n\n```bash\ngo install github.com/google/wire/cmd/wire@latest\n```\n\n## ê¸°ë³¸ ê°œë…\n\n### Provider\n\n**Provider**ëŠ” ì˜ì¡´ì„±ì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤:\n\n```go\n// providers.go\npackage main\n\ntype Config struct {\n    DBHost string\n    DBPort int\n}\n\nfunc NewConfig() *Config {\n    return &Config{\n        DBHost: \"localhost\",\n        DBPort: 5432,\n    }\n}\n\ntype Database struct {\n    config *Config\n}\n\nfunc NewDatabase(cfg *Config) (*Database, error) {\n    return &Database{config: cfg}, nil\n}\n\ntype UserRepository struct {\n    db *Database\n}\n\nfunc NewUserRepository(db *Database) *UserRepository {\n    return &UserRepository{db: db}\n}\n\ntype UserService struct {\n    repo *UserRepository\n}\n\nfunc NewUserService(repo *UserRepository) *UserService {\n    return &UserService{repo: repo}\n}\n```\n\n### Injector\n\n**Injector**ëŠ” ì˜ì¡´ì„± ê·¸ë˜í”„ë¥¼ ì •ì˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤:\n\n```go\n// wire.go\n//go:build wireinject\n\npackage main\n\nimport \"github.com/google/wire\"\n\nfunc InitializeUserService() (*UserService, error) {\n    wire.Build(\n        NewConfig,\n        NewDatabase,\n        NewUserRepository,\n        NewUserService,\n    )\n    return nil, nil // Wireê°€ ì´ ë¶€ë¶„ì„ ìƒì„±ëœ ì½”ë“œë¡œ ëŒ€ì²´\n}\n```\n\n### ì½”ë“œ ìƒì„±\n\n```bash\nwire ./...\n\n# ìƒì„±ëœ íŒŒì¼: wire_gen.go\n```\n\nìƒì„±ëœ `wire_gen.go`:\n\n```go\n// Code generated by Wire. DO NOT EDIT.\n//go:build !wireinject\n\npackage main\n\nfunc InitializeUserService() (*UserService, error) {\n    config := NewConfig()\n    database, err := NewDatabase(config)\n    if err != nil {\n        return nil, err\n    }\n    userRepository := NewUserRepository(database)\n    userService := NewUserService(userRepository)\n    return userService, nil\n}\n```\n\n## Provider Set\n\nê´€ë ¨ Providerë“¤ì„ ê·¸ë£¹í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```go\n// infrastructure/wire.go\npackage infrastructure\n\nimport \"github.com/google/wire\"\n\nvar InfraSet = wire.NewSet(\n    NewConfig,\n    NewDatabase,\n    NewRedisClient,\n    NewLogger,\n)\n```\n\n```go\n// repository/wire.go\npackage repository\n\nimport \"github.com/google/wire\"\n\nvar RepositorySet = wire.NewSet(\n    NewUserRepository,\n    NewOrderRepository,\n    NewProductRepository,\n)\n```\n\n```go\n// service/wire.go\npackage service\n\nimport \"github.com/google/wire\"\n\nvar ServiceSet = wire.NewSet(\n    NewUserService,\n    NewOrderService,\n    NewProductService,\n)\n```\n\n```go\n// wire.go\npackage main\n\nimport \"github.com/google/wire\"\n\nfunc InitializeApp() (*App, error) {\n    wire.Build(\n        infrastructure.InfraSet,\n        repository.RepositorySet,\n        service.ServiceSet,\n        NewApp,\n    )\n    return nil, nil\n}\n```\n\n## ì¸í„°í˜ì´ìŠ¤ ë°”ì¸ë”©\n\nì¸í„°í˜ì´ìŠ¤ì— êµ¬í˜„ì²´ë¥¼ ë°”ì¸ë”©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```go\n// ì¸í„°í˜ì´ìŠ¤ ì •ì˜\ntype UserRepository interface {\n    FindByID(id string) (*User, error)\n    Save(user *User) error\n}\n\n// êµ¬í˜„ì²´\ntype userRepositoryImpl struct {\n    db *Database\n}\n\nfunc NewUserRepository(db *Database) *userRepositoryImpl {\n    return &userRepositoryImpl{db: db}\n}\n\n// Wire ë°”ì¸ë”©\nvar RepositorySet = wire.NewSet(\n    NewUserRepository,\n    wire.Bind(new(UserRepository), new(*userRepositoryImpl)),\n)\n```\n\n## Struct Provider\n\nêµ¬ì¡°ì²´ í•„ë“œë¥¼ ì§ì ‘ ì£¼ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```go\ntype App struct {\n    UserService  *UserService\n    OrderService *OrderService\n    Logger       *Logger\n}\n\nvar AppSet = wire.NewSet(\n    wire.Struct(new(App), \"*\"), // ëª¨ë“  í•„ë“œ ì£¼ì…\n    // ë˜ëŠ” íŠ¹ì • í•„ë“œë§Œ\n    // wire.Struct(new(App), \"UserService\", \"Logger\"),\n)\n```\n\n## Value Provider\n\nì •ì  ê°’ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```go\nfunc InitializeApp(cfg *Config) (*App, error) {\n    wire.Build(\n        wire.Value(&Config{DBHost: \"localhost\"}), // ì •ì  ê°’\n        NewDatabase,\n        NewApp,\n    )\n    return nil, nil\n}\n```\n\n## ì‹¤ì „ í”„ë¡œì íŠ¸ êµ¬ì¡°\n\n```\nmyapp/\nâ”œâ”€â”€ cmd/\nâ”‚   â””â”€â”€ api/\nâ”‚       â”œâ”€â”€ main.go\nâ”‚       â”œâ”€â”€ wire.go          # Injector ì •ì˜\nâ”‚       â””â”€â”€ wire_gen.go      # ìƒì„±ëœ ì½”ë“œ\nâ”œâ”€â”€ internal/\nâ”‚   â”œâ”€â”€ config/\nâ”‚   â”‚   â””â”€â”€ config.go\nâ”‚   â”œâ”€â”€ infrastructure/\nâ”‚   â”‚   â”œâ”€â”€ database.go\nâ”‚   â”‚   â”œâ”€â”€ redis.go\nâ”‚   â”‚   â””â”€â”€ wire.go          # Provider Set\nâ”‚   â”œâ”€â”€ repository/\nâ”‚   â”‚   â”œâ”€â”€ user_repository.go\nâ”‚   â”‚   â””â”€â”€ wire.go\nâ”‚   â”œâ”€â”€ service/\nâ”‚   â”‚   â”œâ”€â”€ user_service.go\nâ”‚   â”‚   â””â”€â”€ wire.go\nâ”‚   â””â”€â”€ handler/\nâ”‚       â”œâ”€â”€ user_handler.go\nâ”‚       â””â”€â”€ wire.go\nâ””â”€â”€ go.mod\n```\n\n### cmd/api/wire.go\n\n```go\n//go:build wireinject\n\npackage main\n\nimport (\n    \"github.com/google/wire\"\n    \"myapp/internal/config\"\n    \"myapp/internal/infrastructure\"\n    \"myapp/internal/repository\"\n    \"myapp/internal/service\"\n    \"myapp/internal/handler\"\n)\n\nfunc InitializeServer(cfg *config.Config) (*Server, error) {\n    wire.Build(\n        infrastructure.InfraSet,\n        repository.RepositorySet,\n        service.ServiceSet,\n        handler.HandlerSet,\n        NewServer,\n    )\n    return nil, nil\n}\n```\n\n### cmd/api/main.go\n\n```go\npackage main\n\nfunc main() {\n    cfg := config.Load()\n    \n    server, err := InitializeServer(cfg)\n    if err != nil {\n        log.Fatal(err)\n    }\n    \n    server.Run()\n}\n```\n\n## í…ŒìŠ¤íŠ¸ì—ì„œ Wire í™œìš©\n\n```go\n// wire_test.go\n//go:build wireinject\n\npackage main\n\nimport \"github.com/google/wire\"\n\nfunc InitializeTestUserService(mockDB *MockDatabase) *UserService {\n    wire.Build(\n        NewUserRepository,\n        NewUserService,\n    )\n    return nil\n}\n```\n\n## Makefile í†µí•©\n\n```makefile\n.PHONY: generate wire\n\nwire:\n wire ./...\n\ngenerate: wire\n go generate ./...\n\nbuild: generate\n go build -o bin/app ./cmd/api\n```\n\n## ì£¼ì˜ì‚¬í•­\n\n1. **ë¹Œë“œ íƒœê·¸ í•„ìˆ˜**: `//go:build wireinject` ìŠì§€ ë§ ê²ƒ\n2. **wire_gen.go ì»¤ë°‹**: ìƒì„±ëœ ì½”ë“œëŠ” ë²„ì „ ê´€ë¦¬ì— í¬í•¨\n3. **ìˆœí™˜ ì˜ì¡´ì„± ë¶ˆê°€**: Wireê°€ ì—ëŸ¬ë¡œ ê°ì§€\n4. **ì—ëŸ¬ ì²˜ë¦¬**: Providerê°€ errorë¥¼ ë°˜í™˜í•˜ë©´ ìë™ ì „íŒŒ\n\n## ì°¸ê³  ìë£Œ\n\n- [Wire GitHub](https://github.com/google/wire)\n- [Wire Tutorial](https://github.com/google/wire/blob/main/docs/guide.md)\n- [Wire Best Practices](https://github.com/google/wire/blob/main/docs/best-practices.md)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "DI",
      "Wire",
      "Architecture"
    ],
    "readingTime": 4,
    "wordCount": 720,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "pprof-profiling-guide",
    "slug": "pprof-profiling-guide",
    "path": "backend/go",
    "fullPath": "backend/go/pprof-profiling-guide",
    "title": "Go pprofë¥¼ í™œìš©í•œ ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§ ê°€ì´ë“œ",
    "excerpt": "Goì˜ ë‚´ì¥ í”„ë¡œíŒŒì¼ë§ ë„êµ¬ pprofë¥¼ í™œìš©í•˜ì—¬ CPU, ë©”ëª¨ë¦¬, ê³ ë£¨í‹´ ë³‘ëª©ì„ ë¶„ì„í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Go pprofë¥¼ í™œìš©í•œ ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§ ê°€ì´ë“œ\n\n## ê°œìš”\n\n**pprof**ëŠ” Goì— ë‚´ì¥ëœ í”„ë¡œíŒŒì¼ë§ ë„êµ¬ë¡œ, CPU ì‚¬ìš©ëŸ‰, ë©”ëª¨ë¦¬ í• ë‹¹, ê³ ë£¨í‹´ ìƒíƒœ ë“±ì„ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œë„ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ ì„±ëŠ¥ ìµœì í™”ì— í•„ìˆ˜ì ì…ë‹ˆë‹¤.\n\n## ê¸°ë³¸ ì„¤ì •\n\n### HTTP ì„œë²„ì— pprof ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€\n\n```go\npackage main\n\nimport (\n    \"net/http\"\n    _ \"net/http/pprof\" // ìë™ìœ¼ë¡œ /debug/pprof/* ì—”ë“œí¬ì¸íŠ¸ ë“±ë¡\n)\n\nfunc main() {\n    go func() {\n        // ë³„ë„ í¬íŠ¸ì—ì„œ pprof ì„œë²„ ì‹¤í–‰ (ë³´ì•ˆìƒ ê¶Œì¥)\n        http.ListenAndServe(\"localhost:6060\", nil)\n    }()\n    \n    // ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§\n    // ...\n}\n```\n\n### ì œê³µë˜ëŠ” ì—”ë“œí¬ì¸íŠ¸\n\n| ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |\n|----------|------|\n| `/debug/pprof/` | í”„ë¡œíŒŒì¼ ì¸ë±ìŠ¤ í˜ì´ì§€ |\n| `/debug/pprof/heap` | ë©”ëª¨ë¦¬ í• ë‹¹ í”„ë¡œíŒŒì¼ |\n| `/debug/pprof/goroutine` | ê³ ë£¨í‹´ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ |\n| `/debug/pprof/profile` | CPU í”„ë¡œíŒŒì¼ (30ì´ˆ) |\n| `/debug/pprof/trace` | ì‹¤í–‰ íŠ¸ë ˆì´ìŠ¤ |\n\n## CPU í”„ë¡œíŒŒì¼ë§\n\n### í”„ë¡œíŒŒì¼ ìˆ˜ì§‘\n\n```bash\n# 30ì´ˆê°„ CPU í”„ë¡œíŒŒì¼ ìˆ˜ì§‘\ngo tool pprof http://localhost:6060/debug/pprof/profile?seconds=30\n\n# ë˜ëŠ” íŒŒì¼ë¡œ ì €ì¥\ncurl -o cpu.prof http://localhost:6060/debug/pprof/profile?seconds=30\ngo tool pprof cpu.prof\n```\n\n### ì£¼ìš” ëª…ë ¹ì–´\n\n```bash\n# pprof ì¸í„°ë™í‹°ë¸Œ ëª¨ë“œì—ì„œ\n(pprof) top10          # ìƒìœ„ 10ê°œ í•¨ìˆ˜\n(pprof) list funcName  # íŠ¹ì • í•¨ìˆ˜ì˜ ë¼ì¸ë³„ ë¶„ì„\n(pprof) web            # ê·¸ë˜í”„ ì‹œê°í™” (ë¸Œë¼ìš°ì €)\n(pprof) pdf            # PDFë¡œ ì €ì¥\n```\n\n### ì¶œë ¥ ì˜ˆì‹œ\n\n```\n      flat  flat%   sum%        cum   cum%\n     2.50s 25.00% 25.00%      4.00s 40.00%  main.processData\n     1.50s 15.00% 40.00%      1.50s 15.00%  runtime.mallocgc\n     1.00s 10.00% 50.00%      3.00s 30.00%  encoding/json.Marshal\n```\n\n| ì»¬ëŸ¼ | ì„¤ëª… |\n|-----|------|\n| `flat` | í•´ë‹¹ í•¨ìˆ˜ ìì²´ ì‹¤í–‰ ì‹œê°„ |\n| `cum` | í•´ë‹¹ í•¨ìˆ˜ + í˜¸ì¶œí•œ í•¨ìˆ˜ í•©ê³„ ì‹œê°„ |\n\n## ë©”ëª¨ë¦¬ í”„ë¡œíŒŒì¼ë§\n\n### í™ í”„ë¡œíŒŒì¼ ìˆ˜ì§‘\n\n```bash\n# í˜„ì¬ í™ ìƒíƒœ\ngo tool pprof http://localhost:6060/debug/pprof/heap\n\n# í• ë‹¹ëœ ê°ì²´ ìˆ˜ ê¸°ì¤€\ngo tool pprof -alloc_objects http://localhost:6060/debug/pprof/heap\n\n# í• ë‹¹ëœ ë©”ëª¨ë¦¬ í¬ê¸° ê¸°ì¤€\ngo tool pprof -alloc_space http://localhost:6060/debug/pprof/heap\n```\n\n### ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ íƒì§€\n\n```go\n// runtime.MemStats í™œìš©\nimport \"runtime\"\n\nfunc printMemStats() {\n    var m runtime.MemStats\n    runtime.ReadMemStats(&m)\n    \n    fmt.Printf(\"Alloc = %v MiB\\n\", m.Alloc / 1024 / 1024)\n    fmt.Printf(\"TotalAlloc = %v MiB\\n\", m.TotalAlloc / 1024 / 1024)\n    fmt.Printf(\"Sys = %v MiB\\n\", m.Sys / 1024 / 1024)\n    fmt.Printf(\"NumGC = %v\\n\", m.NumGC)\n}\n```\n\n## ê³ ë£¨í‹´ í”„ë¡œíŒŒì¼ë§\n\n```bash\n# í˜„ì¬ ê³ ë£¨í‹´ ìƒíƒœ í™•ì¸\ngo tool pprof http://localhost:6060/debug/pprof/goroutine\n\n# ë¤í”„ íŒŒì¼ë¡œ ì €ì¥\ncurl http://localhost:6060/debug/pprof/goroutine?debug=2 > goroutines.txt\n```\n\nê³ ë£¨í‹´ ëˆ„ìˆ˜ ì§•í›„:\n\n- ê³ ë£¨í‹´ ìˆ˜ê°€ ì§€ì†ì ìœ¼ë¡œ ì¦ê°€\n- íŠ¹ì • í•¨ìˆ˜ì—ì„œ ëŒ€ê¸° ì¤‘ì¸ ê³ ë£¨í‹´ì´ ë§ìŒ\n\n## ì›¹ UIë¡œ ì‹œê°í™”\n\n**pprof ì›¹ ì¸í„°í˜ì´ìŠ¤** (Go 1.10+):\n\n```bash\ngo tool pprof -http=:8080 cpu.prof\n```\n\në¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8080`ìœ¼ë¡œ ì ‘ì†í•˜ë©´:\n\n- **Top**: í•¨ìˆ˜ë³„ CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰\n- **Graph**: í˜¸ì¶œ ê·¸ë˜í”„\n- **Flame Graph**: í”Œë ˆì„ ì°¨íŠ¸\n- **Source**: ì†ŒìŠ¤ ì½”ë“œ ë ˆë²¨ ë¶„ì„\n\n## í”„ë¡œë•ì…˜ í™˜ê²½ ê³ ë„í™”\n\n### 1. ë³´ì•ˆ ì„¤ì •\n\n```go\npackage main\n\nimport (\n    \"net/http\"\n    \"net/http/pprof\"\n)\n\nfunc main() {\n    // ë³„ë„ ì„œë²„ì—ì„œ ì¸ì¦ ì¶”ê°€\n    pprofMux := http.NewServeMux()\n    pprofMux.HandleFunc(\"/debug/pprof/\", pprof.Index)\n    pprofMux.HandleFunc(\"/debug/pprof/cmdline\", pprof.Cmdline)\n    pprofMux.HandleFunc(\"/debug/pprof/profile\", pprof.Profile)\n    pprofMux.HandleFunc(\"/debug/pprof/symbol\", pprof.Symbol)\n    pprofMux.HandleFunc(\"/debug/pprof/trace\", pprof.Trace)\n    \n    // ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ì ìš©\n    go http.ListenAndServe(\"localhost:6060\", authMiddleware(pprofMux))\n}\n```\n\n### 2. ì—°ì† í”„ë¡œíŒŒì¼ë§ (Continuous Profiling)\n\n```go\nimport (\n    \"os\"\n    \"runtime/pprof\"\n    \"time\"\n)\n\nfunc startContinuousProfiling() {\n    ticker := time.NewTicker(10 * time.Minute)\n    for range ticker.C {\n        f, _ := os.Create(fmt.Sprintf(\"heap_%s.prof\", time.Now().Format(\"20060102_150405\")))\n        pprof.WriteHeapProfile(f)\n        f.Close()\n    }\n}\n```\n\n### 3. ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™\n\n- **Pyroscope**: ì˜¤í”ˆì†ŒìŠ¤ ì—°ì† í”„ë¡œíŒŒì¼ë§\n- **Datadog Continuous Profiler**: ìƒìš© APM\n- **Google Cloud Profiler**: GCP í†µí•©\n\n```go\n// Pyroscope ì˜ˆì‹œ\nimport \"github.com/grafana/pyroscope-go\"\n\nfunc main() {\n    pyroscope.Start(pyroscope.Config{\n        ApplicationName: \"my-app\",\n        ServerAddress:   \"http://pyroscope:4040\",\n    })\n}\n```\n\n## ë²¤ì¹˜ë§ˆí¬ì™€ í•¨ê»˜ ì‚¬ìš©\n\n```bash\n# ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰ + CPU í”„ë¡œíŒŒì¼\ngo test -bench=. -cpuprofile=cpu.prof\n\n# ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰ + ë©”ëª¨ë¦¬ í”„ë¡œíŒŒì¼\ngo test -bench=. -memprofile=mem.prof\n\n# ë¶„ì„\ngo tool pprof cpu.prof\n```\n\n## ì£¼ì˜ì‚¬í•­\n\n1. **í”„ë¡œë•ì…˜ í¬íŠ¸ ë¶„ë¦¬**: pprof ì—”ë“œí¬ì¸íŠ¸ëŠ” ë³„ë„ í¬íŠ¸ì—ì„œ ì‹¤í–‰\n2. **ì¸ì¦ í•„ìˆ˜**: ì™¸ë¶€ ë…¸ì¶œ ì‹œ ë°˜ë“œì‹œ ì¸ì¦ ì ìš©\n3. **ì˜¤ë²„í—¤ë“œ**: CPU í”„ë¡œíŒŒì¼ë§ì€ ì•½ 5% ì˜¤ë²„í—¤ë“œ ë°œìƒ\n4. **ìƒ˜í”Œë§ ì£¼ê¸°**: `runtime.SetCPUProfileRate()`ë¡œ ì¡°ì ˆ ê°€ëŠ¥\n\n## ì°¸ê³  ìë£Œ\n\n- [Go pprof ê³µì‹ ë¬¸ì„œ](https://pkg.go.dev/net/http/pprof)\n- [Profiling Go Programs](https://go.dev/blog/pprof)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Performance",
      "pprof",
      "Profiling"
    ],
    "readingTime": 4,
    "wordCount": 603,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "ginkgo-bdd-testing",
    "slug": "ginkgo-bdd-testing",
    "path": "backend/go",
    "fullPath": "backend/go/ginkgo-bdd-testing",
    "title": "Ginkgoì™€ Testcontainersë¥¼ í™œìš©í•œ í†µí•© í…ŒìŠ¤íŠ¸ ì „ëµ",
    "excerpt": "Ginkgo BDD í”„ë ˆì„ì›Œí¬ì™€ Testcontainersë¥¼ ê²°í•©í•˜ì—¬ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹ ë¢°ì„± ë†’ì€ í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Ginkgoì™€ Testcontainersë¥¼ í™œìš©í•œ í†µí•© í…ŒìŠ¤íŠ¸ ì „ëµ\n\n## ê°œìš”\n\n**Ginkgo**ëŠ” Goì˜ BDD í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ì´ë©°, **Testcontainers**ëŠ” í…ŒìŠ¤íŠ¸ì—ì„œ Docker ì»¨í…Œì´ë„ˆë¥¼ í”„ë¡œê·¸ë˜ë§¤í‹±í•˜ê²Œ ê´€ë¦¬í•©ë‹ˆë‹¤. ì´ ì¡°í•©ìœ¼ë¡œ Mock ì—†ì´ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ì™œ ì´ ì¡°í•©ì¸ê°€?\n\n### ì¥ì \n\n| íŠ¹ì„± | ì„¤ëª… |\n|------|------|\n| **ì‹¤ì œ í™˜ê²½** | Mock ëŒ€ì‹  ì‹¤ì œ DBë¡œ í…ŒìŠ¤íŠ¸ â†’ ë†’ì€ ì‹ ë¢°ë„ |\n| **ê²©ë¦¬ì„±** | í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ê¹¨ë—í•œ ì»¨í…Œì´ë„ˆ í™˜ê²½ |\n| **BDD ê°€ë…ì„±** | Describe/Context/Itìœ¼ë¡œ ì˜ë„ ëª…í™•íˆ í‘œí˜„ |\n| **ë³‘ë ¬ ì‹¤í–‰** | ì»¨í…Œì´ë„ˆ ê²©ë¦¬ë¡œ ì•ˆì „í•œ ë³‘ë ¬ í…ŒìŠ¤íŠ¸ |\n\n### ë‹¨ì \n\n| íŠ¹ì„± | ì„¤ëª… |\n|------|------|\n| **ì†ë„** | ì»¨í…Œì´ë„ˆ ì‹œì‘ ì‹œê°„ìœ¼ë¡œ ìœ ë‹› í…ŒìŠ¤íŠ¸ë³´ë‹¤ ëŠë¦¼ |\n| **ë¦¬ì†ŒìŠ¤** | Docker ì‹¤í–‰ í•„ìš”, CIì—ì„œ ì¶”ê°€ ì„¤ì • í•„ìš” |\n| **ë³µì¡ì„±** | ì»¨í…Œì´ë„ˆ ë¼ì´í”„ì‚¬ì´í´ ê´€ë¦¬ í•„ìš” |\n\n## ì„¤ì¹˜\n\n```bash\n# Ginkgo CLI ë° ë¼ì´ë¸ŒëŸ¬ë¦¬\ngo install github.com/onsi/ginkgo/v2/ginkgo@latest\ngo get github.com/onsi/gomega/...\n\n# Testcontainers\ngo get github.com/testcontainers/testcontainers-go\ngo get github.com/testcontainers/testcontainers-go/modules/mongodb\ngo get github.com/testcontainers/testcontainers-go/modules/redis\n```\n\n## í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¡°\n\n### í…ŒìŠ¤íŠ¸ í—¬í¼\n\n```go\n// testutils/mongodb.go\npackage testutils\n\nimport (\n    \"context\"\n    \"os\"\n    \n    \"github.com/testcontainers/testcontainers-go\"\n    \"github.com/testcontainers/testcontainers-go/modules/mongodb\"\n    \"go.mongodb.org/mongo-driver/mongo\"\n    \"go.mongodb.org/mongo-driver/mongo/options\"\n)\n\n// MongoDBFixtureëŠ” MongoDB í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.\ntype MongoDBFixture struct {\n    container *mongodb.MongoDBContainer\n    client    *mongo.Client\n    cleanup   func()\n}\n\nfunc (f *MongoDBFixture) GetConnectionString() (string, error) {\n    return f.container.ConnectionString(context.Background())\n}\n\nfunc (f *MongoDBFixture) GetClient() *mongo.Client {\n    return f.client\n}\n\nfunc (f *MongoDBFixture) Cleanup() {\n    f.cleanup()\n}\n\n// GetMongoDBFixtureëŠ” MongoDB í…ŒìŠ¤íŠ¸ Fixtureë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n// packageNameì„ ì „ë‹¬í•˜ë©´ ë™ì¼ ì´ë¦„ì˜ ì»¨í…Œì´ë„ˆë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì†ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.\nfunc GetMongoDBFixture(ctx context.Context, packageName string) (*MongoDBFixture, error) {\n    // Ryuk(ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ì»¨í…Œì´ë„ˆ) ë¹„í™œì„±í™” - CI í™˜ê²½ì—ì„œ ê¶Œì¥\n    os.Setenv(\"TESTCONTAINERS_RYUK_DISABLED\", \"true\")\n    \n    // ReplicaSet í™œì„±í™” - íŠ¸ëœì­ì…˜ í…ŒìŠ¤íŠ¸ì— í•„ìš”\n    replicaSetName := \"rs0\"\n    \n    mongoContainer, err := mongodb.Run(ctx,\n        \"public.ecr.aws/docker/library/mongo:8\",  // ê³µì‹ ECR ì´ë¯¸ì§€\n        mongodb.WithReplicaSet(replicaSetName),   // íŠ¸ëœì­ì…˜ ì§€ì›\n        testcontainers.WithReuseByName(packageName), // ì»¨í…Œì´ë„ˆ ì¬ì‚¬ìš©ìœ¼ë¡œ ì†ë„ í–¥ìƒ\n    )\n    if err != nil {\n        return nil, err\n    }\n    \n    // ì—°ê²° ë¬¸ìì—´ ê°€ì ¸ì˜¤ê¸°\n    connString, err := mongoContainer.ConnectionString(ctx)\n    if err != nil {\n        return nil, err\n    }\n    \n    // ReplicaSet ì‚¬ìš© ì‹œ Direct ì—°ê²° í•„ìš”\n    clientOpts := options.Client().ApplyURI(connString)\n    clientOpts.SetDirect(true)\n    \n    mongoClient, err := mongo.Connect(ctx, clientOpts)\n    if err != nil {\n        return nil, err\n    }\n    \n    // ì—°ê²° í™•ì¸\n    if err := mongoClient.Ping(ctx, nil); err != nil {\n        return nil, err\n    }\n    \n    // cleanup í´ë¡œì € - ì»¨í…Œì´ë„ˆì™€ í´ë¼ì´ì–¸íŠ¸ ì •ë¦¬\n    cleanup := func(client *mongo.Client, container *mongodb.MongoDBContainer) func() {\n        return func() {\n            client.Disconnect(ctx)\n            container.Terminate(ctx)\n        }\n    }(mongoClient, mongoContainer)\n    \n    return &MongoDBFixture{\n        container: mongoContainer,\n        client:    mongoClient,\n        cleanup:   cleanup,\n    }, nil\n}\n```\n\n### Redis Fixture\n\n```go\n// testutils/redis.go\npackage testutils\n\nimport (\n    \"context\"\n    \"os\"\n    \n    goredis \"github.com/redis/go-redis/v9\"\n    \"github.com/testcontainers/testcontainers-go/modules/redis\"\n)\n\ntype RedisFixture struct {\n    container *redis.RedisContainer\n    client    *goredis.Client\n    cleanup   func()\n}\n\nfunc (f *RedisFixture) GetClient() *goredis.Client {\n    return f.client\n}\n\nfunc (f *RedisFixture) Cleanup() {\n    f.cleanup()\n}\n\nfunc (f *RedisFixture) GetConnectionString() (string, error) {\n    return f.container.Endpoint(context.Background(), \"\")\n}\n\nfunc GetRedisFixture(ctx context.Context, packageName string) (*RedisFixture, error) {\n    os.Setenv(\"TESTCONTAINERS_RYUK_DISABLED\", \"true\")\n    \n    redisContainer, err := redis.Run(ctx,\n        \"public.ecr.aws/docker/library/redis:alpine\",\n    )\n    if err != nil {\n        return nil, err\n    }\n    \n    // Endpointë¡œ host:port í˜•íƒœì˜ ì£¼ì†Œ íšë“\n    redisAddr, err := redisContainer.Endpoint(ctx, \"\")\n    if err != nil {\n        return nil, err\n    }\n    \n    // Optionsì— ì§ì ‘ Addr ì„¤ì •\n    redisClient := goredis.NewClient(&goredis.Options{\n        Addr: redisAddr,\n    })\n    \n    if err := redisClient.Ping(ctx).Err(); err != nil {\n        return nil, err\n    }\n    \n    cleanup := func(client *goredis.Client, container *redis.RedisContainer) func() {\n        return func() {\n            client.Close()\n            container.Terminate(ctx)\n        }\n    }(redisClient, redisContainer)\n    \n    return &RedisFixture{\n        container: redisContainer,\n        client:    redisClient,\n        cleanup:   cleanup,\n    }, nil\n}\n```\n\n### í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ ì„¤ì •\n\n```go\n// internal/document/document_suite_test.go\npackage document_test\n\nimport (\n    \"context\"\n    \"testing\"\n    \n    . \"github.com/onsi/ginkgo/v2\"\n    . \"github.com/onsi/gomega\"\n    \n    \"myapp/testutil\"\n)\n\nvar (\n    testEnv *testutil.TestEnvironment\n    testCtx context.Context\n)\n\nfunc TestDocument(t *testing.T) {\n    RegisterFailHandler(Fail)\n    RunSpecs(t, \"Document Suite\")\n}\n\nvar _ = BeforeSuite(func() {\n    var err error\n    testCtx = context.Background()\n    \n    By(\"í…ŒìŠ¤íŠ¸ í™˜ê²½ ì´ˆê¸°í™”\")\n    testEnv, err = testutil.NewTestEnvironment(testCtx)\n    Expect(err).NotTo(HaveOccurred())\n    \n    By(\"MongoDB ì—°ê²° í™•ì¸\")\n    // ... ì—°ê²° í…ŒìŠ¤íŠ¸\n})\n\nvar _ = AfterSuite(func() {\n    By(\"í…ŒìŠ¤íŠ¸ í™˜ê²½ ì •ë¦¬\")\n    testEnv.Cleanup(testCtx)\n})\n```\n\n## í…ŒìŠ¤íŠ¸ ì‘ì„±\n\n### ë¬¸ì„œ ì„œë¹„ìŠ¤ í†µí•© í…ŒìŠ¤íŠ¸\n\n```go\n// internal/document/service_integration_test.go\npackage document_test\n\nimport (\n    \"context\"\n    \n    . \"github.com/onsi/ginkgo/v2\"\n    . \"github.com/onsi/gomega\"\n    \n    \"go.mongodb.org/mongo-driver/mongo\"\n    \"go.mongodb.org/mongo-driver/mongo/options\"\n    \n    \"myapp/internal/document\"\n)\n\nvar _ = Describe(\"DocumentService í†µí•© í…ŒìŠ¤íŠ¸\", Label(\"integration\"), func() {\n    var (\n        service    document.Service\n        collection *mongo.Collection\n        ctx        context.Context\n    )\n    \n    BeforeEach(func() {\n        ctx = context.Background()\n        \n        // í…ŒìŠ¤íŠ¸ìš© MongoDB í´ë¼ì´ì–¸íŠ¸\n        client, err := mongo.Connect(ctx, options.Client().ApplyURI(testEnv.MongoURI))\n        Expect(err).NotTo(HaveOccurred())\n        \n        // í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ìƒˆ ì»¬ë ‰ì…˜ ì‚¬ìš©\n        dbName := \"test_db\"\n        collName := \"test_collection_\" + GinkgoParallelProcess()\n        collection = client.Database(dbName).Collection(collName)\n        \n        // ì„œë¹„ìŠ¤ ìƒì„±\n        service = document.NewService(client, dbName)\n    })\n    \n    AfterEach(func() {\n        // í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬\n        collection.Drop(ctx)\n    })\n    \n    Describe(\"Create\", func() {\n        Context(\"ìœ íš¨í•œ ë¬¸ì„œê°€ ì£¼ì–´ì¡Œì„ ë•Œ\", func() {\n            It(\"ë²„ì „ 1ì˜ ìƒˆ ë¬¸ì„œë¥¼ ìƒì„±í•œë‹¤\", func() {\n                input := document.CreateInput{\n                    URI: \"doc-001\",\n                    Fields: map[string]interface{}{\n                        \"name\":  \"Test Document\",\n                        \"value\": 42,\n                    },\n                }\n                \n                doc, err := service.Create(ctx, \"test_collection\", input)\n                \n                Expect(err).NotTo(HaveOccurred())\n                Expect(doc.URI).To(Equal(\"doc-001\"))\n                Expect(doc.Version).To(Equal(int32(1)))\n                Expect(doc.Fields[\"name\"]).To(Equal(\"Test Document\"))\n            })\n        })\n        \n        Context(\"ì¤‘ë³µ URIê°€ ì£¼ì–´ì¡Œì„ ë•Œ\", func() {\n            BeforeEach(func() {\n                _, err := service.Create(ctx, \"test_collection\", document.CreateInput{\n                    URI:    \"doc-001\",\n                    Fields: map[string]interface{}{},\n                })\n                Expect(err).NotTo(HaveOccurred())\n            })\n            \n            It(\"ì—ëŸ¬ë¥¼ ë°˜í™˜í•œë‹¤\", func() {\n                _, err := service.Create(ctx, \"test_collection\", document.CreateInput{\n                    URI:    \"doc-001\",\n                    Fields: map[string]interface{}{},\n                })\n                \n                Expect(err).To(HaveOccurred())\n                Expect(err).To(MatchError(ContainSubstring(\"duplicate\")))\n            })\n        })\n    })\n    \n    Describe(\"SoftUpdate\", func() {\n        var existingDoc *document.Document\n        \n        BeforeEach(func() {\n            var err error\n            existingDoc, err = service.Create(ctx, \"test_collection\", document.CreateInput{\n                URI:    \"doc-update-test\",\n                Fields: map[string]interface{}{\"name\": \"Original\"},\n            })\n            Expect(err).NotTo(HaveOccurred())\n        })\n        \n        Context(\"ì •ìƒì ì¸ ì—…ë°ì´íŠ¸ ìš”ì²­ì¼ ë•Œ\", func() {\n            It(\"ìƒˆ ë²„ì „ì„ ìƒì„±í•˜ê³  ê¸°ì¡´ ë²„ì „ì„ ë³´ì¡´í•œë‹¤\", func() {\n                updated, err := service.SoftUpdate(ctx, \"test_collection\", \"doc-update-test\", \n                    document.UpdateInput{\n                        Fields: map[string]interface{}{\"name\": \"Updated\"},\n                    },\n                )\n                \n                Expect(err).NotTo(HaveOccurred())\n                Expect(updated.Version).To(Equal(int32(2)))\n                Expect(updated.Fields[\"name\"]).To(Equal(\"Updated\"))\n                \n                // ì´ì „ ë²„ì „ì´ ë³´ì¡´ë˜ëŠ”ì§€ í™•ì¸\n                history, err := service.GetHistory(ctx, \"test_collection\", \"doc-update-test\")\n                Expect(err).NotTo(HaveOccurred())\n                Expect(history).To(HaveLen(2))\n                Expect(history[0].Version).To(Equal(int32(1)))\n                Expect(history[1].Version).To(Equal(int32(2)))\n            })\n        })\n    })\n    \n    Describe(\"SoftDelete\", func() {\n        BeforeEach(func() {\n            _, err := service.Create(ctx, \"test_collection\", document.CreateInput{\n                URI:    \"doc-delete-test\",\n                Fields: map[string]interface{}{\"data\": \"value\"},\n            })\n            Expect(err).NotTo(HaveOccurred())\n        })\n        \n        It(\"ë¬¸ì„œë¥¼ DELETED ìƒíƒœë¡œ ë§ˆí‚¹í•œë‹¤\", func() {\n            deleted, err := service.SoftDelete(ctx, \"test_collection\", \"doc-delete-test\")\n            \n            Expect(err).NotTo(HaveOccurred())\n            Expect(deleted.Status).To(Equal(document.StatusDeleted))\n            \n            // ìµœì‹  ë²„ì „ ì¡°íšŒ ì‹œ ì°¾ì„ ìˆ˜ ì—†ìŒ\n            _, err = service.FindLatest(ctx, \"test_collection\", \"doc-delete-test\")\n            Expect(err).To(MatchError(document.ErrNotFound))\n        })\n    })\n})\n```\n\n### Redis í†µí•© í…ŒìŠ¤íŠ¸\n\n```go\n// internal/worker/worker_integration_test.go\npackage worker_test\n\nimport (\n    \"context\"\n    \"time\"\n    \n    . \"github.com/onsi/ginkgo/v2\"\n    . \"github.com/onsi/gomega\"\n    \n    \"github.com/redis/go-redis/v9\"\n    \n    \"myapp/internal/worker\"\n)\n\nvar _ = Describe(\"StreamWorker í†µí•© í…ŒìŠ¤íŠ¸\", Label(\"integration\"), func() {\n    var (\n        redisClient redis.UniversalClient\n        ctx         context.Context\n    )\n    \n    BeforeEach(func() {\n        ctx = context.Background()\n        \n        redisClient = redis.NewClient(&redis.Options{\n            Addr: testEnv.RedisAddr,\n        })\n        \n        // ì´ì „ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬\n        redisClient.FlushAll(ctx)\n    })\n    \n    AfterEach(func() {\n        redisClient.Close()\n    })\n    \n    Describe(\"ë©”ì‹œì§€ ì²˜ë¦¬\", func() {\n        Context(\"ì •ìƒ ë©”ì‹œì§€ê°€ ë°œí–‰ë˜ì—ˆì„ ë•Œ\", func() {\n            It(\"í•¸ë“¤ëŸ¬ê°€ í˜¸ì¶œë˜ê³  ACK ì²˜ë¦¬ëœë‹¤\", func() {\n                processed := make(chan string, 1)\n                \n                handler := &testHandler{\n                    onHandle: func(msgs []*worker.Message) []error {\n                        for _, m := range msgs {\n                            processed <- m.ID\n                        }\n                        return nil\n                    },\n                }\n                \n                w := worker.NewStreamWorker(\n                    redisClient,\n                    handler,\n                    worker.WithStream(\"test-stream\"),\n                    worker.WithGroup(\"test-group\"),\n                    worker.WithBatchSize(1),\n                    worker.WithPollInterval(50*time.Millisecond),\n                )\n                \n                w.Start(ctx)\n                defer w.Stop()\n                \n                // ë©”ì‹œì§€ ë°œí–‰\n                redisClient.XAdd(ctx, &redis.XAddArgs{\n                    Stream: \"test-stream\",\n                    Values: map[string]interface{}{\"data\": \"test\"},\n                })\n                \n                // ì²˜ë¦¬ í™•ì¸\n                Eventually(processed).Should(Receive())\n                \n                // ACK í™•ì¸ (Pending ì—†ìŒ)\n                pending, _ := redisClient.XPending(ctx, \"test-stream\", \"test-group\").Result()\n                Expect(pending.Count).To(BeZero())\n            })\n        })\n        \n        Context(\"ì²˜ë¦¬ ì‹¤íŒ¨ ì‹œ\", func() {\n            It(\"Dead Letter ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì´ë™í•œë‹¤\", func() {\n                handler := &testHandler{\n                    onHandle: func(msgs []*worker.Message) []error {\n                        return []error{errors.New(\"processing failed\")}\n                    },\n                }\n                \n                w := worker.NewStreamWorker(\n                    redisClient,\n                    handler,\n                    worker.WithStream(\"test-stream\"),\n                    worker.WithGroup(\"test-group\"),\n                    worker.WithMaxRetries(1),\n                    worker.WithDeadLetterStream(\"dead-letters\"),\n                )\n                \n                w.Start(ctx)\n                defer w.Stop()\n                \n                // ë©”ì‹œì§€ ë°œí–‰\n                redisClient.XAdd(ctx, &redis.XAddArgs{\n                    Stream: \"test-stream\",\n                    Values: map[string]interface{}{\"data\": \"fail\"},\n                })\n                \n                // Dead Letter í™•ì¸\n                Eventually(func() int64 {\n                    len, _ := redisClient.XLen(ctx, \"dead-letters\").Result()\n                    return len\n                }).Should(BeNumerically(\">\", 0))\n            })\n        })\n    })\n})\n\ntype testHandler struct {\n    onHandle func([]*worker.Message) []error\n}\n\nfunc (h *testHandler) Handle(ctx context.Context, msgs []*worker.Message) []error {\n    return h.onHandle(msgs)\n}\n```\n\n## í…Œì´ë¸” ë“œë¦¬ë¸ í…ŒìŠ¤íŠ¸\n\nGinkgoì˜ `DescribeTable`ë¡œ ë‹¤ì–‘í•œ ì¼€ì´ìŠ¤ ì»¤ë²„:\n\n```go\nvar _ = Describe(\"ìŠ¤í‚¤ë§ˆ ê²€ì¦\", func() {\n    DescribeTable(\"ìœ íš¨í•œ ë¬¸ì„œ\",\n        func(fields map[string]interface{}, expectValid bool) {\n            err := validator.Validate(schema, fields)\n            \n            if expectValid {\n                Expect(err).NotTo(HaveOccurred())\n            } else {\n                Expect(err).To(HaveOccurred())\n            }\n        },\n        Entry(\"ëª¨ë“  í•„ìˆ˜ í•„ë“œ ì¡´ì¬\", map[string]interface{}{\n            \"name\": \"test\", \"email\": \"test@example.com\",\n        }, true),\n        Entry(\"í•„ìˆ˜ í•„ë“œ ëˆ„ë½\", map[string]interface{}{\n            \"name\": \"test\",\n        }, false),\n        Entry(\"ì˜ëª»ëœ íƒ€ì…\", map[string]interface{}{\n            \"name\": 123, \"email\": \"test@example.com\",\n        }, false),\n    )\n})\n```\n\n## í…ŒìŠ¤íŠ¸ ì‹¤í–‰\n\n### ê¸°ë³¸ ì‹¤í–‰\n\n```bash\n# ëª¨ë“  í…ŒìŠ¤íŠ¸\nginkgo ./...\n\n# ìƒì„¸ ì¶œë ¥\nginkgo -v ./...\n\n# í†µí•© í…ŒìŠ¤íŠ¸ë§Œ\nginkgo --label-filter=\"integration\" ./...\n\n# ìœ ë‹› í…ŒìŠ¤íŠ¸ë§Œ (í†µí•© ì œì™¸)\nginkgo --label-filter=\"!integration\" ./...\n```\n\n### ë³‘ë ¬ ì‹¤í–‰\n\n```bash\n# í”„ë¡œì„¸ìŠ¤ ìë™ ê²°ì •\nginkgo -p ./...\n\n# í”„ë¡œì„¸ìŠ¤ ìˆ˜ ì§€ì •\nginkgo -procs=4 ./...\n```\n\n### ì»¤ë²„ë¦¬ì§€\n\n```bash\nginkgo -cover -coverprofile=coverage.out ./...\ngo tool cover -html=coverage.out -o coverage.html\n```\n\n## Makefile í†µí•©\n\n```makefile\n# ê¸°ë³¸ í…ŒìŠ¤íŠ¸ í”Œë˜ê·¸ + ì¶”ê°€ ì¸ìëŠ” TESTFLAGSë¡œ ì „ë‹¬\nTEST_FLAGS = --skip-package \"./deps\"\nTEST_FLAGS += $(TESTFLAGS)\nTEST_TIMEOUT = 30m\nCOVERAGE_OUT = coverage.out\n\n.PHONY: test test-verbose unit-test integration-test coverage-test cov-html\n\ntest:\n ginkgo -r $(TEST_FLAGS) --timeout=$(TEST_TIMEOUT)\n\ntest-verbose:\n ginkgo -r $(TEST_FLAGS) --timeout=$(TEST_TIMEOUT) -v\n\nunit-test:\n ginkgo -r $(TEST_FLAGS) --label-filter=\"!integration\" --junit-report=unit-test-report.xml --timeout=$(TEST_TIMEOUT)\n\nintegration-test:\n ginkgo -r $(TEST_FLAGS) --label-filter=\"integration\" --junit-report=integration-test-report.xml --timeout=$(TEST_TIMEOUT)\n\ncoverage-test:\n ginkgo -r -cover --coverprofile=$(COVERAGE_OUT) --timeout=$(TEST_TIMEOUT)\n\ncov-html: coverage-test\n go tool cover -html=$(COVERAGE_OUT) -o coverage.html\n```\n\n### ì‚¬ìš© ì˜ˆì‹œ\n\n```bash\n# ì „ì²´ í…ŒìŠ¤íŠ¸\nmake test\n\n# ìƒì„¸ ì¶œë ¥\nmake test-verbose\n\n# ìœ ë‹› í…ŒìŠ¤íŠ¸ë§Œ\nmake unit-test\n\n# í†µí•© í…ŒìŠ¤íŠ¸ë§Œ\nmake integration-test\n\n# ì»¤ë²„ë¦¬ì§€ HTML ë¦¬í¬íŠ¸\nmake cov-html\n\n# ì¶”ê°€ ì¸ì ì „ë‹¬ (íŠ¹ì • íŒ¨í‚¤ì§€, focus ë“±)\nmake test TESTFLAGS=\"./internal/document/...\"\nmake test TESTFLAGS='--focus=\"CreateDocument\"'\nmake test-verbose TESTFLAGS=\"-p\"\n```\n\n## CI ì„¤ì •\n\n```yaml\n# .github/workflows/test.yml\nname: Tests\n\non: [push, pull_request]\n\njobs:\n  unit-tests:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.24'\n      \n      - name: Install Ginkgo\n        run: go install github.com/onsi/ginkgo/v2/ginkgo@latest\n      \n      - name: Run Unit Tests\n        run: ginkgo -r --label-filter=\"!integration\"\n  \n  integration-tests:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.24'\n      \n      - name: Install Ginkgo\n        run: go install github.com/onsi/ginkgo/v2/ginkgo@latest\n      \n      - name: Run Integration Tests\n        run: ginkgo -r --label-filter=\"integration\" --timeout=30m\n```\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **Label ì‚¬ìš©**: `integration` ë¼ë²¨ë¡œ ìœ ë‹›/í†µí•© í…ŒìŠ¤íŠ¸ ë¶„ë¦¬\n2. **ë³‘ë ¬ ì•ˆì „**: `GinkgoParallelProcess()`ë¡œ ë¦¬ì†ŒìŠ¤ ì´ë¦„ ë¶„ë¦¬\n3. **ì •ë¦¬ ì² ì €**: `AfterEach`ë¡œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ë°˜ë“œì‹œ ì •ë¦¬\n4. **íƒ€ì„ì•„ì›ƒ ì„¤ì •**: í†µí•© í…ŒìŠ¤íŠ¸ëŠ” ì¶©ë¶„í•œ íƒ€ì„ì•„ì›ƒ ì„¤ì •\n5. **ì‹¤íŒ¨ ê²©ë¦¬**: í•œ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ê°€ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ ì—†ë„ë¡\n\n## ì°¸ê³  ìë£Œ\n\n- [Ginkgo ê³µì‹ ë¬¸ì„œ](https://onsi.github.io/ginkgo/)\n- [Gomega ê³µì‹ ë¬¸ì„œ](https://onsi.github.io/gomega/)\n- [Testcontainers Go](https://golang.testcontainers.org/)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Testing",
      "BDD",
      "Ginkgo",
      "Testcontainers",
      "Docker",
      "MongoDB",
      "Redis"
    ],
    "readingTime": 8,
    "wordCount": 1520,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "gc-tuning-experience",
    "slug": "gc-tuning-experience",
    "path": "backend/go",
    "fullPath": "backend/go/gc-tuning-experience",
    "title": "Go ê°€ë¹„ì§€ ì»¬ë ‰í„°(GC) ì´í•´ì™€ íŠœë‹ ê²½í—˜",
    "excerpt": "Goì˜ ê°€ë¹„ì§€ ì»¬ë ‰í„° ë™ì‘ ì›ë¦¬ì™€ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œì˜ GC íŠœë‹ ê²½í—˜ì„ ê³µìœ í•©ë‹ˆë‹¤.",
    "content": "# Go ê°€ë¹„ì§€ ì»¬ë ‰í„°(GC) ì´í•´ì™€ íŠœë‹ ê²½í—˜\n\n## ê°œìš”\n\nGoëŠ” **Concurrent Mark-and-Sweep** ë°©ì‹ì˜ ê°€ë¹„ì§€ ì»¬ë ‰í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. Go 1.5 ì´í›„ STW(Stop-The-World) ì‹œê°„ì„ ìµœì†Œí™”í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì§€ì†ì ìœ¼ë¡œ ê°œì„ ë˜ì–´, ëŒ€ë¶€ë¶„ì˜ ê²½ìš° 1ms ì´í•˜ì˜ pause timeì„ ë‹¬ì„±í•©ë‹ˆë‹¤.\n\n## GC ë™ì‘ ì›ë¦¬\n\n### Tricolor Mark-and-Sweep\n\nGo GCëŠ” **ì‚¼ìƒ‰ ë§ˆí‚¹ ì•Œê³ ë¦¬ì¦˜**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:\n\n| ìƒ‰ìƒ | ì˜ë¯¸ |\n|-----|------|\n| **White** | ì•„ì§ ìŠ¤ìº”ë˜ì§€ ì•ŠìŒ (ìˆ˜ì§‘ ëŒ€ìƒ í›„ë³´) |\n| **Gray** | ìŠ¤ìº” ì¤‘, ì°¸ì¡° ê°ì²´ í™•ì¸ í•„ìš” |\n| **Black** | ìŠ¤ìº” ì™„ë£Œ, ì°¸ì¡° ê°ì²´ ëª¨ë‘ í™•ì¸ë¨ |\n\n### GC ë‹¨ê³„\n\n```\n1. Mark Setup (STW)     â†’ 0.1ms ë¯¸ë§Œ\n2. Concurrent Marking   â†’ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰\n3. Mark Termination (STW) â†’ 0.1ms ë¯¸ë§Œ\n4. Concurrent Sweeping  â†’ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰\n```\n\n> Go 1.8+ë¶€í„° ëŒ€ë¶€ë¶„ì˜ STW ì‹œê°„ì´ **sub-millisecond** ìˆ˜ì¤€ì…ë‹ˆë‹¤.\n\n## GC ëª¨ë‹ˆí„°ë§\n\n### runtime íŒ¨í‚¤ì§€ í™œìš©\n\n```go\npackage main\n\nimport (\n    \"fmt\"\n    \"runtime\"\n    \"time\"\n)\n\nfunc printGCStats() {\n    var stats runtime.MemStats\n    runtime.ReadMemStats(&stats)\n    \n    fmt.Printf(\"Alloc = %v MiB\\n\", stats.Alloc/1024/1024)\n    fmt.Printf(\"HeapAlloc = %v MiB\\n\", stats.HeapAlloc/1024/1024)\n    fmt.Printf(\"HeapSys = %v MiB\\n\", stats.HeapSys/1024/1024)\n    fmt.Printf(\"NumGC = %v\\n\", stats.NumGC)\n    fmt.Printf(\"PauseTotalNs = %v ms\\n\", stats.PauseTotalNs/1e6)\n    fmt.Printf(\"LastGC = %v\\n\", time.Unix(0, int64(stats.LastGC)))\n}\n```\n\n### GODEBUG í™˜ê²½ë³€ìˆ˜\n\n```bash\n# GC íŠ¸ë ˆì´ìŠ¤ í™œì„±í™”\nGODEBUG=gctrace=1 ./myapp\n\n# ì¶œë ¥ ì˜ˆì‹œ:\n# gc 1 @0.012s 2%: 0.018+1.2+0.014 ms clock, 0.14+0.8/1.0/0+0.11 ms cpu, 4->4->1 MB, 5 MB goal, 8 P\n```\n\n| í•„ë“œ | ì˜ë¯¸ |\n|-----|------|\n| `gc 1` | GC ë²ˆí˜¸ |\n| `2%` | CPU ì‚¬ìš©ë¥  |\n| `0.018+1.2+0.014 ms` | STW + concurrent + STW ì‹œê°„ |\n| `4->4->1 MB` | í™: ì‹œì‘ â†’ ì¢…ë£Œ â†’ ë¼ì´ë¸Œ |\n| `5 MB goal` | ë‹¤ìŒ GC ëª©í‘œ í™ í¬ê¸° |\n\n## GOGC íŠœë‹\n\n### GOGC í™˜ê²½ë³€ìˆ˜\n\n**GOGC**ëŠ” GC íŠ¸ë¦¬ê±° ì„ê³„ê°’ì„ ì¡°ì ˆí•©ë‹ˆë‹¤:\n\n```bash\n# ê¸°ë³¸ê°’: 100 (í™ì´ 2ë°°ê°€ ë˜ë©´ GC)\nGOGC=100 ./myapp\n\n# ë” ìì£¼ GC (ë©”ëª¨ë¦¬ ì ˆì•½, CPU ì¦ê°€)\nGOGC=50 ./myapp\n\n# ëœ ìì£¼ GC (ë©”ëª¨ë¦¬ ì¦ê°€, CPU ì ˆì•½)\nGOGC=200 ./myapp\n\n# GC ë¹„í™œì„±í™” (ê·¹ë‹¨ì  ì¼€ì´ìŠ¤)\nGOGC=off ./myapp\n```\n\n### ëŸ°íƒ€ì„ì—ì„œ ì¡°ì ˆ\n\n```go\nimport \"runtime/debug\"\n\n// GOGC ê°’ ë³€ê²½\ndebug.SetGCPercent(50)\n\n// í˜„ì¬ ê°’ í™•ì¸ ë° ë³€ê²½\nold := debug.SetGCPercent(200)\nfmt.Printf(\"Previous GOGC: %d\\n\", old)\n```\n\n## ë©”ëª¨ë¦¬ ì œí•œ (Go 1.19+)\n\n### GOMEMLIMIT\n\nGo 1.19ì—ì„œ ë„ì…ëœ **ì†Œí”„íŠ¸ ë©”ëª¨ë¦¬ ì œí•œ**:\n\n```bash\n# ìµœëŒ€ 4GB í™ ì œí•œ\nGOMEMLIMIT=4GiB ./myapp\n```\n\n```go\nimport \"runtime/debug\"\n\n// ëŸ°íƒ€ì„ì—ì„œ ì„¤ì •\ndebug.SetMemoryLimit(4 * 1024 * 1024 * 1024) // 4GB\n```\n\n### GOGC + GOMEMLIMIT ì¡°í•©\n\n```bash\n# ê¶Œì¥: GOGC=off + GOMEMLIMIT\n# ë©”ëª¨ë¦¬ ì œí•œì— ë„ë‹¬í•˜ë©´ ìë™ìœ¼ë¡œ GC\nGOGC=off GOMEMLIMIT=2GiB ./myapp\n```\n\n## í”„ë¡œë•ì…˜ íŠœë‹ ê²½í—˜\n\n### Case 1: ê³ ë¹ˆë„ í• ë‹¹ ì„œë¹„ìŠ¤\n\n**ë¬¸ì œ**: ì´ˆë‹¹ 10ë§Œ ê±´ ìš”ì²­ ì²˜ë¦¬, GC pauseê°€ p99 ë ˆì´í„´ì‹œì— ì˜í–¥\n\n**í•´ê²°**:\n\n```go\n// sync.Poolë¡œ ê°ì²´ ì¬ì‚¬ìš©\nvar bufferPool = sync.Pool{\n    New: func() interface{} {\n        return make([]byte, 4096)\n    },\n}\n\nfunc handleRequest() {\n    buf := bufferPool.Get().([]byte)\n    defer bufferPool.Put(buf)\n    \n    // buf ì‚¬ìš©\n}\n```\n\n**ê²°ê³¼**: í• ë‹¹ëŸ‰ 70% ê°ì†Œ, GC ë¹ˆë„ 50% ê°ì†Œ\n\n### Case 2: ëŒ€ìš©ëŸ‰ ìºì‹œ ì„œë¹„ìŠ¤\n\n**ë¬¸ì œ**: 32GB í™, GC marking ì‹œê°„ì´ ê¸¸ì–´ì§\n\n**í•´ê²°**:\n\n```bash\n# ë©”ëª¨ë¦¬ ì œí•œ ì„¤ì •ìœ¼ë¡œ ì˜ˆì¸¡ ê°€ëŠ¥í•œ GC\nGOMEMLIMIT=30GiB GOGC=100 ./cache-server\n```\n\në˜í•œ **ì™¸ë¶€ ìºì‹œ**(Redis, Memcached)ë¡œ ëŒ€ìš©ëŸ‰ ë°ì´í„° ì˜¤í”„ë¡œë“œ\n\n### Case 3: ë°°ì¹˜ ì²˜ë¦¬ ì›Œì»¤\n\n**ë¬¸ì œ**: ë°°ì¹˜ ì²˜ë¦¬ ì¤‘ GCê°€ ì²˜ë¦¬ ì‹œê°„ì— ì˜í–¥\n\n**í•´ê²°**:\n\n```go\nfunc processBatch(items []Item) {\n    // ë°°ì¹˜ ì²˜ë¦¬ ì „ GC ê°•ì œ ì‹¤í–‰\n    runtime.GC()\n    \n    // ì²˜ë¦¬ ì¤‘ GC ë¹„í™œì„±í™”\n    debug.SetGCPercent(-1)\n    defer debug.SetGCPercent(100)\n    \n    for _, item := range items {\n        process(item)\n    }\n}\n```\n\n## ë©”ëª¨ë¦¬ í• ë‹¹ ìµœì í™”\n\n### 1. ì‚¬ì „ í• ë‹¹\n\n```go\n// Bad\nvar result []int\nfor i := 0; i < 1000; i++ {\n    result = append(result, i)\n}\n\n// Good\nresult := make([]int, 0, 1000)\nfor i := 0; i < 1000; i++ {\n    result = append(result, i)\n}\n```\n\n### 2. í¬ì¸í„° íšŒí”¼\n\n```go\n// í™ í• ë‹¹ ìœ ë°œ\ntype Bad struct {\n    data *int\n}\n\n// ìŠ¤íƒ í• ë‹¹ ê°€ëŠ¥\ntype Good struct {\n    data int\n}\n```\n\n### 3. Escape Analysis í™œìš©\n\n```bash\n# ì´ìŠ¤ì¼€ì´í”„ ë¶„ì„ ê²°ê³¼ í™•ì¸\ngo build -gcflags=\"-m\" ./...\n```\n\n## Ballast ê¸°ë²• (ë ˆê±°ì‹œ)\n\n> **Note**: Go 1.19+ GOMEMLIMIT ë„ì… ì´í›„ ballast ê¸°ë²•ì€ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n```go\n// ë ˆê±°ì‹œ: í° ë°°ì—´ë¡œ í™ í¬ê¸° ìœ ì§€\nvar ballast = make([]byte, 1<<30) // 1GB\n\nfunc main() {\n    _ = ballast // ë³€ìˆ˜ ìœ ì§€\n    // ...\n}\n```\n\n## ëª¨ë‹ˆí„°ë§ ì§€í‘œ\n\ní”„ë¡œë•ì…˜ì—ì„œ ì¶”ì í•´ì•¼ í•  GC ê´€ë ¨ ì§€í‘œ:\n\n| ì§€í‘œ | ì„¤ëª… | ì„ê³„ê°’ |\n|-----|------|-------|\n| `go_gc_duration_seconds` | GC pause ì‹œê°„ | p99 < 10ms |\n| `go_memstats_heap_alloc_bytes` | í˜„ì¬ í™ ì‚¬ìš©ëŸ‰ | GOMEMLIMITì˜ 80% |\n| `go_memstats_gc_cpu_fraction` | GC CPU ì‚¬ìš©ë¥  | < 5% |\n\n## ì°¸ê³  ìë£Œ\n\n- [Go GC Guide](https://tip.golang.org/doc/gc-guide)\n- [Go 1.19 Memory Limit](https://go.dev/blog/go1.19)\n- [Getting to Go: The Journey of Go's Garbage Collector](https://go.dev/blog/ismmkeynote)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "GC",
      "Performance",
      "Memory"
    ],
    "readingTime": 4,
    "wordCount": 740,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "buf-protobuf-management",
    "slug": "buf-protobuf-management",
    "path": "backend/go",
    "fullPath": "backend/go/buf-protobuf-management",
    "title": "Buf v2 ê¸°ë°˜ Proto ê´€ë¦¬ ë° ì½”ë“œ ìë™ ìƒì„±",
    "excerpt": "Buf v2ë¥¼ í™œìš©í•˜ì—¬ Protobuf ìŠ¤í‚¤ë§ˆë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³ , gRPC ì„œë²„/í´ë¼ì´ì–¸íŠ¸, HTTP Gateway, OpenAPI ìŠ¤í™ì„ ìë™ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Buf v2 ê¸°ë°˜ Proto ê´€ë¦¬ ë° ì½”ë“œ ìë™ ìƒì„±\n\n## ê°œìš”\n\nëŒ€ê·œëª¨ gRPC ì„œë¹„ìŠ¤ì—ì„œ **Protobuf ìŠ¤í‚¤ë§ˆ**ëŠ” ì„œë¹„ìŠ¤ ê³„ì•½ì˜ í•µì‹¬ì…ë‹ˆë‹¤. **Buf v2**ëŠ” Proto íŒŒì¼ì˜ ë¦°íŠ¸, Breaking Change ê°ì§€, ë‹¤ì¤‘ ì–¸ì–´ ì½”ë“œ ìƒì„±ì„ í†µí•© ê´€ë¦¬í•©ë‹ˆë‹¤.\n\n## ì™œ Bufì¸ê°€?\n\n### protoc ëŒ€ë¹„ ì¥ì \n\n| ê¸°ëŠ¥ | protoc | buf v2 |\n|------|--------|--------|\n| ì˜ì¡´ì„± ê´€ë¦¬ | ìˆ˜ë™ (include ê²½ë¡œ) | ìë™ (BSR/deps) |\n| ë¦°íŒ… | ë³„ë„ ë„êµ¬ í•„ìš” | ë‚´ì¥ + ì»¤ìŠ¤í…€ ê·œì¹™ |\n| Breaking Change | ì—†ìŒ | ìë™ ê°ì§€ |\n| í”ŒëŸ¬ê·¸ì¸ ê´€ë¦¬ | ë¡œì»¬ ì„¤ì¹˜ í•„ìˆ˜ | Remote Plugins ì§€ì› |\n| ì„¤ì • | ë³µì¡í•œ CLI í”Œë˜ê·¸ | YAML ì„¤ì • íŒŒì¼ |\n\n### ë‹¨ì \n\n| íŠ¹ì„± | ì„¤ëª… |\n|------|------|\n| í•™ìŠµ ê³¡ì„  | ì‹ ê·œ ì„¤ì • ì²´ê³„ ì´í•´ í•„ìš” |\n| BSR ì˜ì¡´ì„± | ì¼ë¶€ ê¸°ëŠ¥ì€ Buf Schema Registry í•„ìš” |\n| ë„¤íŠ¸ì›Œí¬ | Remote Plugins ì‚¬ìš© ì‹œ ì¸í„°ë„· ì—°ê²° í•„ìš” |\n\n## í”„ë¡œì íŠ¸ êµ¬ì¡°\n\n### Proto ì „ìš© ë ˆí¬ì§€í† ë¦¬\n\n```\nproto-service/\nâ”œâ”€â”€ buf.yaml              # ëª¨ë“ˆ ì„¤ì •\nâ”œâ”€â”€ buf.gen.yaml          # ì½”ë“œ ìƒì„± ì„¤ì •\nâ”œâ”€â”€ buf.lock              # ì˜ì¡´ì„± ë½ íŒŒì¼\nâ”œâ”€â”€ deps/                 # ë¡œì»¬ ì˜ì¡´ì„± (ì„ íƒ)\nâ”‚   â””â”€â”€ custom/\nâ”‚       â””â”€â”€ options.proto\nâ””â”€â”€ proto/\n    â””â”€â”€ v1beta/\n        â””â”€â”€ api.proto     # ì„œë¹„ìŠ¤ ì •ì˜\n```\n\n## ì„¤ì • íŒŒì¼\n\n### buf.yaml (ëª¨ë“ˆ ì„¤ì •)\n\n```yaml\n# buf.yaml\nversion: v2\nmodules:\n  - path: proto/v1beta\n    name: buf.build/myorg/myservice\n  - path: deps/custom  # ë¡œì»¬ ì˜ì¡´ì„± ëª¨ë“ˆ\ndeps:\n  # ì™¸ë¶€ ì˜ì¡´ì„± (Google APIs, gRPC-Gateway ë“±)\n  - buf.build/googleapis/googleapis\n  - buf.build/grpc-ecosystem/grpc-gateway\n  - buf.build/gnostic/gnostic\nlint:\n  use:\n    - STANDARD\n  except:\n    - FIELD_NOT_REQUIRED\n    - PACKAGE_NO_IMPORT_CYCLE\n  disallow_comment_ignores: true\nbreaking:\n  use:\n    - FILE\n  except:\n    - EXTENSION_NO_DELETE\n    - FIELD_SAME_DEFAULT\n```\n\n### buf.gen.yaml (ì½”ë“œ ìƒì„± ì„¤ì •)\n\n```yaml\n# buf.gen.yaml\nversion: v2\nmanaged:\n  enabled: true\n  disable:\n    - module: buf.build/googleapis/googleapis\n    - module: buf.build/grpc-ecosystem/grpc-gateway\n    - module: buf.build/gnostic/gnostic\n  override:\n    - file_option: go_package_prefix\n      value: github.com/myorg/myservice/generated/go/proto/\nplugins:\n  # Go Protobuf ë©”ì‹œì§€\n  - remote: buf.build/protocolbuffers/go:v1.36.2\n    out: generated/go/proto\n    opt: paths=source_relative\n  \n  # gRPC Go ì„œë²„/í´ë¼ì´ì–¸íŠ¸\n  - remote: buf.build/grpc/go:v1.5.1\n    out: generated/go/proto\n    opt: paths=source_relative\n  \n  # gRPC-Gateway (HTTP í•¸ë“¤ëŸ¬)\n  - remote: buf.build/grpc-ecosystem/gateway:v2.25.1\n    out: generated/go/proto/gateway\n    opt:\n      - paths=source_relative\n      - standalone=true\n  \n  # OpenAPI ìŠ¤í™ ìë™ ìƒì„±\n  - remote: buf.build/community/google-gnostic-openapi:v0.7.0\n    out: generated/docs\n    opt: paths=source_relative\n\ninputs:\n  - directory: proto/v1beta\n  - proto_file: deps/custom/options.proto  # íŠ¹ì • íŒŒì¼ë§Œ í¬í•¨\n```\n\n## Proto ì‘ì„± ì˜ˆì‹œ\n\n### ì„œë¹„ìŠ¤ ì •ì˜\n\n```protobuf\n// proto/v1beta/api.proto\nsyntax = \"proto3\";\n\npackage v1beta;\n\nimport \"gnostic/openapi/v3/annotations.proto\";\nimport \"google/api/annotations.proto\";\nimport \"google/protobuf/struct.proto\";\nimport \"google/protobuf/timestamp.proto\";\n\n// DocumentServiceëŠ” ë²„ì „ ê´€ë¦¬ ë¬¸ì„œë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.\nservice DocumentService {\n  // ìƒˆ ë¬¸ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë²„ì „ 1ë¡œ ì‹œì‘ë©ë‹ˆë‹¤.\n  rpc CreateDocument(CreateDocumentRequest) returns (CreateDocumentResponse) {\n    option (google.api.http) = {\n      post: \"/v1beta/collections/{collection}/documents\"\n      body: \"*\"\n    };\n  }\n  \n  // URIë¡œ ë¬¸ì„œë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. ë²„ì „ ë¯¸ì§€ì • ì‹œ ìµœì‹  ë²„ì „ì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n  rpc GetDocument(GetDocumentRequest) returns (GetDocumentResponse) {\n    option (google.api.http) = {\n      get: \"/v1beta/collections/{collection}/documents/{uri}\"\n    };\n  }\n  \n  // ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ìƒˆ ë²„ì „ì´ ìƒì„±ë©ë‹ˆë‹¤.\n  rpc UpdateDocument(UpdateDocumentRequest) returns (UpdateDocumentResponse) {\n    option (google.api.http) = {\n      patch: \"/v1beta/collections/{collection}/documents/{uri}\"\n      body: \"*\"\n    };\n  }\n  \n  // ë¬¸ì„œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. ì†Œí”„íŠ¸ ì‚­ì œë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.\n  rpc DeleteDocument(DeleteDocumentRequest) returns (DeleteDocumentResponse) {\n    option (google.api.http) = {\n      delete: \"/v1beta/collections/{collection}/documents/{uri}\"\n    };\n  }\n}\n\n// ë¬¸ì„œ ìƒíƒœ\nenum DocumentStatus {\n  DOCUMENT_STATUS_UNSPECIFIED = 0;\n  DOCUMENT_STATUS_ACTIVE = 1;\n  DOCUMENT_STATUS_DELETED = 2;\n}\n\n// ë¬¸ì„œ ëª¨ë¸\nmessage Document {\n  // MongoDB ObjectID ë¬¸ìì—´\n  optional string id = 1 [(gnostic.openapi.v3.property) = {\n    description: \"ë¬¸ì„œì˜ ë°ì´í„°ë² ì´ìŠ¤ ID\"\n    nullable: true\n  }];\n  \n  // ë…¼ë¦¬ì  ë¬¸ì„œ ì‹ë³„ì (ë²„ì „ ì „ì²´ì—ì„œ ê³µìœ )\n  string uri = 2 [(gnostic.openapi.v3.property) = {\n    description: \"ë¬¸ì„œì˜ ê³ ìœ  ì‹ë³„ì\"\n    nullable: false\n  }];\n  \n  // JSON ìŠ¤í‚¤ë§ˆë¥¼ ì¤€ìˆ˜í•˜ëŠ” ë¬¸ì„œ ë°ì´í„°\n  google.protobuf.Struct fields = 3 [(gnostic.openapi.v3.property) = {\n    description: \"ë¬¸ì„œ í•„ë“œ ë°ì´í„°\"\n    nullable: false\n  }];\n  \n  // ë²„ì „ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘, ì—…ë°ì´íŠ¸ë§ˆë‹¤ ì¦ê°€)\n  int32 version = 4;\n  \n  // ë¬¸ì„œ ìƒíƒœ\n  DocumentStatus status = 5;\n  \n  // ìƒì„± ì‹œê°\n  google.protobuf.Timestamp created_at = 6;\n  \n  // ì—…ë°ì´íŠ¸ ì‹œê°\n  google.protobuf.Timestamp updated_at = 7;\n}\n\n// ìš”ì²­/ì‘ë‹µ ë©”ì‹œì§€ë“¤\nmessage CreateDocumentRequest {\n  string collection = 1;\n  DocumentInput document = 2;\n}\n\nmessage DocumentInput {\n  string uri = 1;\n  google.protobuf.Struct fields = 2;\n}\n\nmessage CreateDocumentResponse {\n  Document document = 1;\n}\n\nmessage GetDocumentRequest {\n  string collection = 1;\n  string uri = 2;\n  optional int32 version = 3;  // ë¯¸ì§€ì • ì‹œ ìµœì‹  ë²„ì „\n}\n\nmessage GetDocumentResponse {\n  Document document = 1;\n}\n\nmessage UpdateDocumentRequest {\n  string collection = 1;\n  string uri = 2;\n  google.protobuf.Struct fields = 3;\n  optional int32 expected_version = 4;  // Optimistic Locking\n}\n\nmessage UpdateDocumentResponse {\n  Document document = 1;\n}\n\nmessage DeleteDocumentRequest {\n  string collection = 1;\n  string uri = 2;\n}\n\nmessage DeleteDocumentResponse {\n  bool success = 1;\n}\n```\n\n## ì½”ë“œ ìƒì„±\n\n### ê¸°ë³¸ ìƒì„±\n\n```bash\n# ì˜ì¡´ì„± ì—…ë°ì´íŠ¸\nbuf mod update\n\n# ì½”ë“œ ìƒì„±\nbuf generate\n\n# ìƒì„± êµ¬ì¡°\ngenerated/\nâ”œâ”€â”€ go/\nâ”‚   â””â”€â”€ proto/\nâ”‚       â”œâ”€â”€ v1beta/\nâ”‚       â”‚   â”œâ”€â”€ api.pb.go         # ë©”ì‹œì§€ ì •ì˜\nâ”‚       â”‚   â””â”€â”€ api_grpc.pb.go    # gRPC ì„œë²„/í´ë¼ì´ì–¸íŠ¸\nâ”‚       â””â”€â”€ gateway/\nâ”‚           â””â”€â”€ v1beta/\nâ”‚               â””â”€â”€ api.pb.gw.go  # HTTP Gateway\nâ””â”€â”€ docs/\n    â””â”€â”€ v1beta/\n        â””â”€â”€ openapi.yaml          # OpenAPI ìŠ¤í™\n```\n\n### íŠ¹ì • ê²½ë¡œë§Œ ìƒì„±\n\n```bash\nbuf generate --path proto/v1beta/api.proto\n```\n\n## ìƒì„±ëœ ì½”ë“œ í™œìš©\n\n### gRPC ì„œë²„\n\n```go\npackage main\n\nimport (\n    \"net\"\n    \n    \"google.golang.org/grpc\"\n    pb \"github.com/myorg/myservice/generated/go/proto/v1beta\"\n)\n\ntype documentServer struct {\n    pb.UnimplementedDocumentServiceServer\n    service DocumentService\n}\n\nfunc (s *documentServer) CreateDocument(ctx context.Context, req *pb.CreateDocumentRequest) (*pb.CreateDocumentResponse, error) {\n    doc, err := s.service.Create(ctx, req.Collection, req.Document)\n    if err != nil {\n        return nil, err\n    }\n    return &pb.CreateDocumentResponse{Document: doc}, nil\n}\n\nfunc main() {\n    lis, _ := net.Listen(\"tcp\", \":9090\")\n    \n    grpcServer := grpc.NewServer()\n    pb.RegisterDocumentServiceServer(grpcServer, &documentServer{})\n    \n    grpcServer.Serve(lis)\n}\n```\n\n### HTTP Gateway\n\n```go\npackage main\n\nimport (\n    \"net/http\"\n    \n    \"github.com/grpc-ecosystem/grpc-gateway/v2/runtime\"\n    gw \"github.com/myorg/myservice/generated/go/proto/gateway/v1beta\"\n)\n\nfunc main() {\n    ctx := context.Background()\n    mux := runtime.NewServeMux()\n    \n    // gRPC ì„œë²„ì— ì—°ê²°í•˜ì—¬ HTTP ìš”ì²­ í”„ë¡ì‹œ\n    opts := []grpc.DialOption{grpc.WithTransportCredentials(insecure.NewCredentials())}\n    err := gw.RegisterDocumentServiceHandlerFromEndpoint(ctx, mux, \"localhost:9090\", opts)\n    if err != nil {\n        panic(err)\n    }\n    \n    // HTTP ì„œë²„ ì‹œì‘\n    http.ListenAndServe(\":8080\", mux)\n}\n```\n\n### OpenAPI ìŠ¤í™\n\nìƒì„±ëœ `openapi.yaml`ì„ Swagger UIì™€ í•¨ê»˜ ì œê³µ:\n\n```go\nfunc main() {\n    // ... Gateway ì„¤ì • ...\n    \n    // OpenAPI ìŠ¤í™ ì œê³µ\n    http.HandleFunc(\"/openapi.yaml\", func(w http.ResponseWriter, r *http.Request) {\n        http.ServeFile(w, r, \"generated/docs/v1beta/openapi.yaml\")\n    })\n}\n```\n\n## ë¦°íŒ… ë° Breaking Change ê°ì§€\n\n### ë¦°íŠ¸ ì‹¤í–‰\n\n```bash\nbuf lint\n\n# íŠ¹ì • íŒŒì¼ë§Œ\nbuf lint --path proto/v1beta/api.proto\n\n# ì—ëŸ¬ ì¶œë ¥ ì˜ˆì‹œ:\n# proto/v1beta/api.proto:15:3:Field \"id\" should be marked as optional.\n```\n\n### Breaking Change ê°ì§€\n\n```bash\n# í˜„ì¬ ë¸Œëœì¹˜ vs main\nbuf breaking --against '.git#branch=main'\n\n# í˜„ì¬ vs ì´ì „ ì»¤ë°‹\nbuf breaking --against '.git#ref=HEAD~1'\n\n# í˜„ì¬ vs BSR ìµœì‹  ë²„ì „\nbuf breaking --against 'buf.build/myorg/myservice'\n```\n\n## CI/CD í†µí•©\n\n### GitHub Actions\n\n```yaml\n# .github/workflows/proto.yml\nname: Proto CI\n\non:\n  push:\n    paths: ['proto/**', 'buf.*']\n  pull_request:\n    paths: ['proto/**', 'buf.*']\n\njobs:\n  lint-and-check:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      \n      - uses: bufbuild/buf-setup-action@v1\n        with:\n          version: latest\n      \n      - name: Lint\n        run: buf lint\n      \n      - name: Breaking Change Check\n        run: buf breaking --against 'https://github.com/${{ github.repository }}.git#branch=main'\n  \n  generate:\n    needs: lint-and-check\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      \n      - uses: bufbuild/buf-setup-action@v1\n      \n      - name: Generate Code\n        run: buf generate\n      \n      - name: Check for uncommitted changes\n        run: |\n          if [[ -n $(git status --porcelain generated/) ]]; then\n            echo \"Generated code is out of sync!\"\n            git diff generated/\n            exit 1\n          fi\n```\n\n## Makefile í†µí•©\n\n```makefile\n.PHONY: proto-deps proto-lint proto-breaking proto-gen proto-clean\n\n# ì˜ì¡´ì„± ì—…ë°ì´íŠ¸\nproto-deps:\n buf mod update\n\n# ë¦°íŠ¸\nproto-lint:\n buf lint\n\n# Breaking Change ê²€ì‚¬\nproto-breaking:\n buf breaking --against '.git#branch=main'\n\n# ì½”ë“œ ìƒì„±\nproto-gen:\n buf generate\n\n# ì •ë¦¬\nproto-clean:\n rm -rf generated/\n\n# ì „ì²´ ë¹Œë“œ\nproto-all: proto-deps proto-lint proto-gen\n```\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **ë²„ì „ ë„¤ì´ë°**: íŒ¨í‚¤ì§€ì— `v1`, `v1beta` ë“± ë²„ì „ í¬í•¨\n2. **Breaking Change CI**: PRë§ˆë‹¤ ìë™ ê²€ì‚¬\n3. **ìƒì„± ì½”ë“œ ì»¤ë°‹**: `.gitignore`ì— `generated/` ì¶”ê°€ ê¶Œì¥\n4. **Proto ì£¼ì„**: ì„œë¹„ìŠ¤/ë©”ì‹œì§€ ì£¼ì„ì€ ìƒì„± ì½”ë“œì™€ OpenAPIì— ë°˜ì˜ë¨\n5. **Optional ëª…ì‹œ**: Proto3ì—ì„œ `optional` í‚¤ì›Œë“œë¡œ nullable ëª…í™•íˆ í‘œí˜„\n\n## ì°¸ê³  ìë£Œ\n\n- [Buf ê³µì‹ ë¬¸ì„œ](https://buf.build/docs/)\n- [Buf Schema Registry](https://buf.build/docs/bsr/introduction)\n- [gRPC-Gateway](https://grpc-ecosystem.github.io/grpc-gateway/)\n- [gnostic OpenAPI](https://github.com/google/gnostic)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Go",
      "Protobuf",
      "buf",
      "gRPC",
      "gRPC-Gateway",
      "OpenAPI"
    ],
    "readingTime": 7,
    "wordCount": 1210,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "ìŠ¤íŒŒì´í¬-íŠ¸ë˜í”½-ëŒ€ì‘-ì „ëµ",
    "slug": "seupaikeu-teuraepig-daeeung-jeonryag",
    "path": "backend/devops",
    "fullPath": "backend/devops/seupaikeu-teuraepig-daeeung-jeonryag",
    "title": "ìŠ¤íŒŒì´í¬ íŠ¸ë˜í”½ ëŒ€ì‘ ì „ëµ",
    "excerpt": "í‹°ì¼“íŒ…, ì´ë²¤íŠ¸ ì‘ëª¨, í”Œë˜ì‹œ ì„¸ì¼ ë“± ìˆœê°„ì ìœ¼ë¡œ í­ë°œí•˜ëŠ” ì“°ê¸° ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì•„í‚¤í…ì²˜ ì „ëµì„ ë‹¤ë£¹ë‹ˆë‹¤.",
    "content": "# ìŠ¤íŒŒì´í¬ íŠ¸ë˜í”½ ëŒ€ì‘ ì „ëµ\n\nì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ ìŠ¤ì¼€ì¼ë§ ì „ëµì€ **ì½ê¸° ì¤‘ì‹¬**ì˜ ì ì§„ì ì¸ ì„±ì¥ì„ ê°€ì •í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì€ ì„œë¹„ìŠ¤ëŠ” ì™„ì „íˆ ë‹¤ë¥¸ íŒ¨í„´ì„ ë³´ì…ë‹ˆë‹¤:\n\n- **í‹°ì¼“íŒ… ì‹œìŠ¤í…œ**: ì½˜ì„œíŠ¸ í‹°ì¼“ ì˜¤í”ˆ ì‹œ ìˆ˜ì‹­ë§Œ ëª…ì´ ë™ì‹œì— êµ¬ë§¤ ì‹œë„\n- **ì´ë²¤íŠ¸ ì‘ëª¨**: ì„ ì°©ìˆœ ì¿ í° ë°œê¸‰\n- **í”Œë˜ì‹œ ì„¸ì¼**: íŠ¹ì • ì‹œê°„ì— í• ì¸ ìƒí’ˆ íŒë§¤\n- **ì‹¤ì‹œê°„ íˆ¬í‘œ/ì„¤ë¬¸**: ë°©ì†¡ ì¤‘ ì‹œì²­ì íˆ¬í‘œ\n\nì´ëŸ° ì„œë¹„ìŠ¤ì˜ íŠ¹ì§•ì€ **ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì‹œì ì— í­ë°œì ì¸ ì“°ê¸° ìš”ì²­**ì´ ë°œìƒí•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n## ë¬¸ì œ: ì™œ ì¼ë°˜ì ì¸ ìŠ¤ì¼€ì¼ë§ìœ¼ë¡œ ë¶€ì¡±í•œê°€?\n\n### ì½ê¸° vs ì“°ê¸° í™•ì¥ì˜ ì°¨ì´\n\n```mermaid\nflowchart TB\n    subgraph ì½ê¸°í™•ì¥[\"ì½ê¸° í™•ì¥ (ì‰¬ì›€)\"]\n        Cache[Redis Cache]\n        R1[(Read Replica 1)]\n        R2[(Read Replica 2)]\n        R3[(Read Replica 3)]\n    end\n    \n    subgraph ì“°ê¸°í™•ì¥[\"ì“°ê¸° í™•ì¥ (ì–´ë ¤ì›€)\"]\n        Master[(Master DB)]\n        Lock[Row Lock]\n        Constraint[Unique Constraint]\n    end\n```\n\n**ì½ê¸° í™•ì¥**ì€ ìºì‹œì™€ ë³µì œë³¸ìœ¼ë¡œ ê±°ì˜ ë¬´í•œëŒ€ë¡œ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë©´ **ì“°ê¸° í™•ì¥**ì€:\n\n- ëª¨ë“  ì“°ê¸°ê°€ Master DBë¡œ ì§‘ì¤‘\n- ë™ì‹œì„± ì œì–´ë¥¼ ìœ„í•œ ë½(Lock) ê²½í•©\n- ë°ì´í„° ì •í•©ì„± ë³´ì¥ í•„ìš”\n\n### ì‹¤ì œ ë³‘ëª© ì‚¬ë¡€\n\n```python\n# ì„ ì°©ìˆœ 100ëª… ì¿ í° ë°œê¸‰ - ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œ\ndef issue_coupon(user_id):\n    coupon = db.query(\"SELECT * FROM coupons WHERE issued = false LIMIT 1 FOR UPDATE\")\n    if coupon:\n        db.execute(\"UPDATE coupons SET issued = true, user_id = ? WHERE id = ?\", \n                   user_id, coupon.id)\n        return coupon\n    return None\n```\n\n10ë§Œ ëª…ì´ ë™ì‹œì— ìš”ì²­í•˜ë©´:\n\n- `FOR UPDATE` ë½ìœ¼ë¡œ ì¸í•œ ëŒ€ê¸°ì—´ í˜•ì„±\n- DB ì—°ê²° í’€ ê³ ê°ˆ\n- íƒ€ì„ì•„ì›ƒ ë°œìƒ\n- ì„œë¹„ìŠ¤ ì „ì²´ ë§ˆë¹„\n\n## ì „ëµ 1: ë©”ì‹œì§€ íë¡œ ë¶€í•˜ ë¶„ì‚°\n\nê°€ì¥ ê¸°ë³¸ì ì´ë©´ì„œ íš¨ê³¼ì ì¸ ì „ëµì…ë‹ˆë‹¤. ë™ê¸° ì²˜ë¦¬ë¥¼ ë¹„ë™ê¸°ë¡œ ì „í™˜í•©ë‹ˆë‹¤.\n\n```mermaid\nflowchart LR\n    Client[Client] --> API[API Server]\n    API -->|ì¦‰ì‹œ ì‘ë‹µ| Client\n    API -->|Enqueue| Queue[(Message Queue)]\n    Queue --> Worker1[Worker 1]\n    Queue --> Worker2[Worker 2]\n    Queue --> Worker3[Worker 3]\n    Worker1 --> DB[(DB)]\n    Worker2 --> DB\n    Worker3 --> DB\n```\n\n### êµ¬í˜„ ì˜ˆì‹œ\n\n```python\n# API ë ˆì´ì–´ - ì¦‰ì‹œ ì‘ë‹µ\nasync def apply_coupon(user_id: str):\n    request_id = uuid.uuid4()\n    await redis.lpush(\"coupon:queue\", json.dumps({\n        \"request_id\": request_id,\n        \"user_id\": user_id,\n        \"timestamp\": time.time()\n    }))\n    return {\"status\": \"queued\", \"request_id\": request_id}\n\n# Worker - ìˆœì°¨ ì²˜ë¦¬\nasync def process_coupon_queue():\n    while True:\n        request = await redis.brpop(\"coupon:queue\")\n        data = json.loads(request)\n        \n        # ì´ë¯¸ ë°œê¸‰ë°›ì•˜ëŠ”ì§€ í™•ì¸\n        if await redis.sismember(\"coupon:issued_users\", data[\"user_id\"]):\n            continue\n            \n        # ì¬ê³  í™•ì¸ ë° ë°œê¸‰ (ì›ìì  ì—°ì‚°)\n        remaining = await redis.decr(\"coupon:remaining\")\n        if remaining >= 0:\n            await redis.sadd(\"coupon:issued_users\", data[\"user_id\"])\n            await notify_user(data[\"user_id\"], \"ì¿ í° ë°œê¸‰ ì™„ë£Œ!\")\n        else:\n            await redis.incr(\"coupon:remaining\")  # ë¡¤ë°±\n            await notify_user(data[\"user_id\"], \"ì¿ í°ì´ ì†Œì§„ë˜ì—ˆìŠµë‹ˆë‹¤\")\n```\n\n**ì¥ì :**\n\n- API ì„œë²„ëŠ” ì¦‰ì‹œ ì‘ë‹µ â†’ íƒ€ì„ì•„ì›ƒ ë°©ì§€\n- ì²˜ë¦¬ëŸ‰ì„ Worker ìˆ˜ë¡œ ì œì–´ ê°€ëŠ¥\n- DB ë¶€í•˜ ì˜ˆì¸¡ ê°€ëŠ¥\n\n**ë‹¨ì :**\n\n- ì‚¬ìš©ìì—ê²Œ ì¦‰ì‹œ ê²°ê³¼ë¥¼ ì•Œë ¤ì£¼ê¸° ì–´ë ¤ì›€\n- ì¶”ê°€ ì¸í”„ë¼(í, Worker) í•„ìš”\n\n## ì „ëµ 2: ìš”ì²­ ì œí•œ (Rate Limiting + ê°€ìƒ ëŒ€ê¸°ì—´)\n\nì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ë©´ì„œ ì‹œìŠ¤í…œì„ ë³´í˜¸í•˜ëŠ” ì „ëµì…ë‹ˆë‹¤.\n\n```mermaid\nflowchart TB\n    Users[10ë§Œ ëª… ë™ì‹œ ì ‘ì†] --> Gate[Rate Limiter]\n    Gate -->|ì´ˆë‹¹ 1000ëª…| Queue[ê°€ìƒ ëŒ€ê¸°ì—´]\n    Gate -->|ë‚˜ë¨¸ì§€| Waiting[ëŒ€ê¸° í™”ë©´]\n    Queue --> API[API Server]\n    API --> DB[(DB)]\n    \n    subgraph ì‚¬ìš©ìí™”ë©´[\"ì‚¬ìš©ì í™”ë©´\"]\n        Waiting -->|10ì´ˆë§ˆë‹¤ í´ë§| Position[ëŒ€ê¸° ìˆœë²ˆ í‘œì‹œ]\n    end\n```\n\n### ê°€ìƒ ëŒ€ê¸°ì—´ êµ¬í˜„\n\n```python\n# ì…ì¥ í† í° ë°œê¸‰\nasync def enter_queue(user_id: str):\n    queue_position = await redis.incr(\"queue:position\")\n    token = jwt.encode({\n        \"user_id\": user_id,\n        \"position\": queue_position,\n        \"exp\": time.time() + 600  # 10ë¶„ ìœ íš¨\n    }, SECRET_KEY)\n    return {\"token\": token, \"position\": queue_position}\n\n# í˜„ì¬ ì²˜ë¦¬ ì¤‘ì¸ ìˆœë²ˆ í™•ì¸\nasync def get_current_position():\n    return await redis.get(\"queue:current\") or 0\n\n# ì‹¤ì œ êµ¬ë§¤ í˜ì´ì§€ ì§„ì… í—ˆìš© ì—¬ë¶€\nasync def can_enter(token: str):\n    data = jwt.decode(token, SECRET_KEY)\n    current = await get_current_position()\n    \n    # ë‚´ ìˆœë²ˆì´ í˜„ì¬ ì²˜ë¦¬ ìˆœë²ˆ + 100 ì´ë‚´ë©´ ì§„ì… í—ˆìš©\n    if data[\"position\"] <= current + 100:\n        return True\n    return False\n```\n\n**ì¥ì :**\n\n- ì‚¬ìš©ìì—ê²Œ ëŒ€ê¸° ìƒí™© íˆ¬ëª…í•˜ê²Œ ê³µê°œ\n- ì‹œìŠ¤í…œ ê³¼ë¶€í•˜ ë°©ì§€\n- ê³µì •í•œ ìˆœì„œ ë³´ì¥\n\n## ì „ëµ 3: ì‚¬ì „ ì¬ê³  í• ë‹¹ (Quota Pre-allocation)\n\nì¬ê³  ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë¶„í• í•˜ì—¬ ë½ ê²½í•©ì„ ì œê±°í•©ë‹ˆë‹¤.\n\n```mermaid\nflowchart TB\n    subgraph ì‚¬ì „í• ë‹¹[\"ì‚¬ì „ ì¬ê³  í• ë‹¹\"]\n        Total[ì´ ì¬ê³ : 1000ê°œ]\n        Total --> S1[Server 1: 200ê°œ]\n        Total --> S2[Server 2: 200ê°œ]\n        Total --> S3[Server 3: 200ê°œ]\n        Total --> S4[Server 4: 200ê°œ]\n        Total --> S5[Server 5: 200ê°œ]\n    end\n    \n    User1[User] --> S1\n    User2[User] --> S2\n    User3[User] --> S3\n```\n\n### êµ¬í˜„ ì˜ˆì‹œ\n\n```python\n# ì„œë²„ ì‹œì‘ ì‹œ ì¬ê³  í• ë‹¹\nSERVER_ID = os.environ.get(\"SERVER_ID\")\nLOCAL_QUOTA_KEY = f\"quota:{SERVER_ID}\"\n\nasync def initialize_quota():\n    # Coordinatorì—ì„œ í• ë‹¹ë°›ì€ ìˆ˜ëŸ‰\n    allocated = await coordinator.allocate_quota(SERVER_ID, 200)\n    await redis.set(LOCAL_QUOTA_KEY, allocated)\n\n# êµ¬ë§¤ ì²˜ë¦¬ - ë¡œì»¬ Redisë§Œ ì‚¬ìš©\nasync def purchase(user_id: str):\n    remaining = await redis.decr(LOCAL_QUOTA_KEY)\n    if remaining >= 0:\n        await redis.sadd(\"purchased_users\", user_id)\n        return {\"success\": True}\n    else:\n        await redis.incr(LOCAL_QUOTA_KEY)  # ë¡¤ë°±\n        \n        # ë‹¤ë¥¸ ì„œë²„ì— ì¬ê³ ê°€ ë‚¨ì•˜ëŠ”ì§€ í™•ì¸\n        for server_id in await get_other_servers():\n            result = await try_other_server(server_id, user_id)\n            if result:\n                return result\n        \n        return {\"success\": False, \"message\": \"í’ˆì ˆ\"}\n```\n\n**ì¥ì :**\n\n- DB ë½ ê²½í•© ì™„ì „ ì œê±°\n- ê° ì„œë²„ê°€ ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬ â†’ ìˆ˜í‰ í™•ì¥ ìš©ì´\n- ì´ˆë‹¹ ìˆ˜ë§Œ ê±´ ì²˜ë¦¬ ê°€ëŠ¥\n\n**ë‹¨ì :**\n\n- ì¬ê³  ë¶ˆê· í˜• ë°œìƒ ê°€ëŠ¥\n- êµ¬í˜„ ë³µì¡ë„ ì¦ê°€\n\n## ì „ëµ 4: ì´ë²¤íŠ¸ ì†Œì‹± + CQRS\n\në³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ í•„ìš”í•œ ê²½ìš°, ì“°ê¸°ì™€ ì½ê¸°ë¥¼ ì™„ì „íˆ ë¶„ë¦¬í•©ë‹ˆë‹¤.\n\n```mermaid\nflowchart LR\n    subgraph Command[\"Command (ì“°ê¸°)\"]\n        API[API] --> EventStore[(Event Store)]\n        EventStore --> Processor[Event Processor]\n    end\n    \n    subgraph Query[\"Query (ì½ê¸°)\"]\n        Processor --> ReadDB[(Read DB)]\n        ReadDB --> QueryAPI[Query API]\n    end\n    \n    Client[Client] --> API\n    Client --> QueryAPI\n```\n\n### í•µì‹¬ ê°œë…\n\n```python\n# ì´ë²¤íŠ¸ ì €ì¥ (Append Only)\nasync def apply_for_event(user_id: str, event_id: str):\n    event = {\n        \"type\": \"APPLICATION_SUBMITTED\",\n        \"user_id\": user_id,\n        \"event_id\": event_id,\n        \"timestamp\": datetime.utcnow().isoformat(),\n        \"sequence\": await redis.incr(f\"event:{event_id}:seq\")\n    }\n    \n    # Kafka, EventStore ë“±ì— ì €ì¥\n    await kafka.send(\"applications\", event)\n    return {\"status\": \"accepted\", \"sequence\": event[\"sequence\"]}\n\n# ì´ë²¤íŠ¸ ì²˜ë¦¬ (ë¹„ë™ê¸°)\nasync def process_application_event(event):\n    if event[\"type\"] == \"APPLICATION_SUBMITTED\":\n        # ì¤‘ë³µ ì²´í¬, ìê²© í™•ì¸ ë“± ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§\n        if await is_eligible(event[\"user_id\"], event[\"event_id\"]):\n            await update_read_model(event)\n```\n\n**ì¥ì :**\n\n- ì“°ê¸° ì²˜ë¦¬ëŸ‰ ê·¹ëŒ€í™” (Append Only)\n- ì™„ë²½í•œ ê°ì‚¬ ë¡œê·¸\n- ì‹œê°„ ì—¬í–‰(íŠ¹ì • ì‹œì  ìƒíƒœ ë³µì›) ê°€ëŠ¥\n\n**ë‹¨ì :**\n\n- ìµœì¢… ì¼ê´€ì„±(Eventual Consistency)\n- í•™ìŠµ ê³¡ì„ ì´ ë†’ìŒ\n\n## ì „ëµ 5: í•˜ë“œì›¨ì–´ ë ˆë²¨ ìµœì í™”\n\nì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ ì™¸ì—ë„ í•˜ë“œì›¨ì–´ ì„ íƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n### ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ\n\n| ìš”êµ¬ì‚¬í•­ | ê¶Œì¥ DB |\n|----------|---------|\n| ë‹¨ìˆœ ì¹´ìš´í„°/ì¬ê³  | Redis (INCR/DECR) |\n| íŠ¸ëœì­ì…˜ í•„ìˆ˜ | PostgreSQL, MySQL |\n| ëŒ€ìš©ëŸ‰ ì“°ê¸° | ScyllaDB, Cassandra |\n| ì´ë²¤íŠ¸ ë¡œê·¸ | Kafka, Apache Pulsar |\n\n### ë„¤íŠ¸ì›Œí¬ ìµœì í™”\n\n```mermaid\nflowchart LR\n    User[User] --> CDN[CDN Edge]\n    CDN -->|Static| Static[ì •ì  ìì‚°]\n    CDN -->|Dynamic| Origin[Origin Server]\n    \n    subgraph Region[\"Same Region\"]\n        Origin --> Redis[(Redis)]\n        Origin --> DB[(DB)]\n    end\n```\n\n- **ê°™ì€ ë¦¬ì „ì— ëª¨ë“  ì¸í”„ë¼ ë°°ì¹˜**: ë„¤íŠ¸ì›Œí¬ ì§€ì—° ìµœì†Œí™”\n- **Connection Pooling**: DB ì—°ê²° ì¬ì‚¬ìš©\n- **Keep-Alive**: HTTP ì—°ê²° ì¬ì‚¬ìš©\n\n## ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸\n\níŠ¸ë˜í”½ ìŠ¤íŒŒì´í¬ì— ëŒ€ë¹„í•œ ì²´í¬ë¦¬ìŠ¤íŠ¸:\n\n| í•­ëª© | ì²´í¬ |\n|------|------|\n| Rate Limiting ì„¤ì • | â˜ |\n| ë©”ì‹œì§€ í ë„ì… | â˜ |\n| ìºì‹œ ì›Œë°ì—… ì™„ë£Œ | â˜ |\n| DB ì»¤ë„¥ì…˜ í’€ í¬ê¸° ì¡°ì • | â˜ |\n| ì˜¤í† ìŠ¤ì¼€ì¼ë§ í…ŒìŠ¤íŠ¸ | â˜ |\n| ë¶€í•˜ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ | â˜ |\n| ì¥ì•  ë°œìƒ ì‹œ Fallback ì¤€ë¹„ | â˜ |\n| ëª¨ë‹ˆí„°ë§/ì•Œë¦¼ ì„¤ì • | â˜ |\n\n## ì •ë¦¬\n\nìŠ¤íŒŒì´í¬ì„± ì“°ê¸° íŠ¸ë˜í”½ ëŒ€ì‘ì˜ í•µì‹¬ ì›ì¹™:\n\n1. **ë™ê¸° â†’ ë¹„ë™ê¸° ì „í™˜**: ì¦‰ì‹œ ì‘ë‹µí•˜ê³  ë‚˜ì¤‘ì— ì²˜ë¦¬\n2. **ë½ ê²½í•© ìµœì†Œí™”**: ì‚¬ì „ í• ë‹¹, ë‚™ê´€ì  ë½ í™œìš©\n3. **ì‚¬ìš©ì ê²½í—˜ ê³ ë ¤**: ëŒ€ê¸°ì—´ ìˆœë²ˆ í‘œì‹œ, ì§„í–‰ ìƒí™© ì•Œë¦¼\n4. **Fail-safe ì„¤ê³„**: ê³¼ë¶€í•˜ ì‹œ ìš°ì•„í•œ ì„±ëŠ¥ ì €í•˜(Graceful Degradation)\n\n---\n\n## Related Posts\n\n- [ì„œë¹„ìŠ¤ ê·œëª¨ì— ë”°ë¥¸ ìŠ¤ì¼€ì¼ë§ ì „ëµ](/blog/backend/devops/ì„œë¹„ìŠ¤-ê·œëª¨ì—-ë”°ë¥¸-ìŠ¤ì¼€ì¼ë§-ì „ëµ) - ì¼ë°˜ì ì¸ ì½ê¸° ì¤‘ì‹¬ ì„œë¹„ìŠ¤ì˜ ìŠ¤ì¼€ì¼ë§\n\n## References\n\n- [Designing Data-Intensive Applications - Martin Kleppmann](https://dataintensive.net/)\n- [The Twelve-Factor App](https://12factor.net/)",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [
      "scaling",
      "spike-traffic",
      "write-heavy",
      "architecture",
      "queue"
    ],
    "readingTime": 6,
    "wordCount": 1122,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "ì„œë¹„ìŠ¤-ê·œëª¨ì—-ë”°ë¥¸-ìŠ¤ì¼€ì¼ë§-ì „ëµ",
    "slug": "seobiseu-gyumoe-ddareun-seukeilring-jeonryag",
    "path": "backend/devops",
    "fullPath": "backend/devops/seobiseu-gyumoe-ddareun-seukeilring-jeonryag",
    "title": "ì„œë¹„ìŠ¤ ê·œëª¨ì— ë”°ë¥¸ ìŠ¤ì¼€ì¼ë§ ì „ëµ",
    "excerpt": "ì‚¬ìš©ì 1ëª…ë¶€í„° 10ì–µëª…ê¹Œì§€, ì„œë¹„ìŠ¤ ê·œëª¨ë³„ë¡œ ì ìš©í•´ì•¼ í•  ì¸í”„ë¼ ìŠ¤ì¼€ì¼ë§ ì „ëµì„ ë‹¨ê³„ë³„ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤.",
    "content": "# ì„œë¹„ìŠ¤ ê·œëª¨ì— ë”°ë¥¸ ìŠ¤ì¼€ì¼ë§ ì „ëµ\n\nì„œë¹„ìŠ¤ê°€ ì„±ì¥í•¨ì— ë”°ë¼ ì¸í”„ë¼ë„ í•¨ê»˜ ì§„í™”í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ì‚¬ìš©ì ê·œëª¨ë³„ë¡œ ì–´ë–¤ ì•„í‚¤í…ì²˜ ì „ëµì„ ì±„íƒí•´ì•¼ í•˜ëŠ”ì§€ ì •ë¦¬í•©ë‹ˆë‹¤.\n\n---\n\n## 1ëª… â†’ ë‹¨ì¼ ì„œë²„\n\nëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì„¸ ê°€ì§€ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:\n\n- **API ì„œë²„**: ë°ì´í„° ìš”ì²­ ì²˜ë¦¬\n\n- **ë°ì´í„°ë² ì´ìŠ¤**: ì˜ì†ì„± ë°ì´í„° ì €ì¥\n\n- **í´ë¼ì´ì–¸íŠ¸**: ì‚¬ìš©ìì—ê²Œ ë°ì´í„° ë Œë”ë§\n\nì´ˆê¸° ë‹¨ê³„ì—ì„œëŠ” ì´ ëª¨ë“  ê²ƒì„ í•˜ë‚˜ì˜ ì„œë²„ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°œë°œ í™˜ê²½ê³¼ ìœ ì‚¬í•œ êµ¬ì„±ìœ¼ë¡œ, ë‹¨ì¼ EC2 ì¸ìŠ¤í„´ìŠ¤ë‚˜ DigitalOcean Dropletìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.\n\n```mermaid\nflowchart TB\n    subgraph server[\"Single Server\"]\n        API[API]\n        DB[(DB)]\n        Client[Client]\n    end\n```\n\n---\n\n## 10ëª… â†’ ë°ì´í„°ë² ì´ìŠ¤ ë¶„ë¦¬\n\ní•œ ëª… ì´ìƒì˜ ì‚¬ìš©ìê°€ ì˜ˆìƒëœë‹¤ë©´, ë°ì´í„°ë² ì´ìŠ¤ ê³„ì¸µì„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\n**ê´€ë¦¬í˜• ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤ ì‚¬ìš©ì˜ ì¥ì :**\n\n- ìë™í™”ëœ ë°±ì—…\n\n- ë‹¤ì¤‘ ë¦¬ì „ ì¤‘ë³µì„±\n\n- ì½ê¸° ì „ìš© ë³µì œë³¸ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥\n\nAWS RDS, DigitalOcean Managed Database ë“±ì˜ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•©ë‹ˆë‹¤.\n\n```mermaid\nflowchart LR\n    AppServer[\"App Server<br/>(API + Client)\"] --> ManagedDB[(\"Managed DB<br/>(RDS, etc.)\")]\n```\n\n---\n\n## 100ëª… â†’ í´ë¼ì´ì–¸íŠ¸ ë¶„ë¦¬\n\n**ì—”í‹°í‹° ë¶„ë¦¬**ëŠ” í™•ì¥ ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¶•ì˜ í•µì‹¬ ì›ì¹™ì…ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ë¥¼ APIì™€ ë¶„ë¦¬í•˜ë©´ ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ìŠ¤ì¼€ì¼ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- ì›¹, ëª¨ë°”ì¼ ì›¹, iOS, Android ë“± ë‹¤ì–‘í•œ í”Œë«í¼ ì§€ì› ìš©ì´\n\n- íŠ¸ë˜í”½ íŒ¨í„´ì— ë”°ë¥¸ ìœ ì—°í•œ ë¦¬ì†ŒìŠ¤ í• ë‹¹\n\n```mermaid\nflowchart LR\n    WebClient[Web Client] --> API[API Server]\n    MobileApp[Mobile App] --> API\n    API --> DB[(DB)]\n```\n\n---\n\n## 1,000ëª… â†’ ë¡œë“œ ë°¸ëŸ°ì„œ ë„ì…\n\në‹¨ì¼ API ì¸ìŠ¤í„´ìŠ¤ê°€ ëª¨ë“  íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•˜ê¸° ì–´ë ¤ì›Œì§€ë©´, **ë¡œë“œ ë°¸ëŸ°ì„œ**ë¥¼ ë„ì…í•˜ì—¬ ìˆ˜í‰ì  í™•ì¥(Horizontal Scaling)ì„ êµ¬í˜„í•©ë‹ˆë‹¤.\n\n**ë¡œë“œ ë°¸ëŸ°ì„œì˜ ì´ì :**\n\n- **ì¤‘ë³µì„±(Redundancy)**: í•œ ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¤ìš´ë˜ì–´ë„ ì„œë¹„ìŠ¤ ì§€ì†\n\n- **ì˜¤í†  ìŠ¤ì¼€ì¼ë§**: íŠ¸ë˜í”½ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ ì¡°ì ˆ\n\n```mermaid\nflowchart LR\n    Client[Client] --> LB[Load Balancer]\n    LB --> API1[API Server 1]\n    LB --> API2[API Server 2]\n    LB --> API3[API Server 3]\n    API1 --> DB[(DB)]\n    API2 --> DB\n    API3 --> DB\n```\n\n---\n\n## 10,000ëª… â†’ CDN ë„ì…\n\nì´ë¯¸ì§€, ë¹„ë””ì˜¤ ë“± ì •ì  ì½˜í…ì¸ ê°€ ì„œë²„ì— ë¶€í•˜ë¥¼ ì£¼ê¸° ì‹œì‘í•©ë‹ˆë‹¤. **í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€(S3)ì™€ CDN(CloudFront)**ì„ ê²°í•©í•˜ì—¬ ì‘ë‹µ ì†ë„ë¥¼ ê°œì„ í•©ë‹ˆë‹¤.\n\n**CDNì˜ ì‘ë™ ë°©ì‹:**\n\n1. ë©”ì¸ ë°ì´í„° ì„¼í„°ê°€ ì˜¤í•˜ì´ì˜¤ì— ìˆë‹¤ê³  ê°€ì •\n\n2. ì¼ë³¸ ì‚¬ìš©ìê°€ ì´ë¯¸ì§€ ìš”ì²­ ì‹œ, ì¼ë³¸ ì—ì§€(Edge) ë°ì´í„° ì„¼í„°ì— ì‚¬ë³¸ ì €ì¥\n\n3. ì´í›„ ìš”ì²­ì€ ìµœì ‘ì  ì—ì§€ì—ì„œ ì¦‰ì‹œ ì‘ë‹µ\n\n```mermaid\nflowchart TB\n    subgraph CDN[\"S3 + CDN\"]\n        Tokyo[Edge: Tokyo]\n        Seoul[Edge: Seoul]\n        Sydney[Edge: Sydney]\n    end\n    Client[Client] --> LB[Load Balancer]\n    LB --> API[API]\n    API --> DB[(DB)]\n    Client -.->|Static Assets| CDN\n```\n\n---\n\n## 100,000ëª… â†’ ë°ì´í„° ê³„ì¸µ í™•ì¥\n\nAPI ì„œë²„ëŠ” ëŠ˜ë¦¬ê¸° ì‰½ì§€ë§Œ, ë°ì´í„°ë² ì´ìŠ¤ëŠ” ìŠ¤ì¼€ì¼ë§ì´ ê°€ì¥ ê¹Œë‹¤ë¡­ìŠµë‹ˆë‹¤.\n\n### ìºì‹± (Caching)\n\n**Redis**ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ë³µì ì¸ ì½ê¸° ìš”ì²­ì„ ì¸ë©”ëª¨ë¦¬ì—ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n```python\ndef get_user_profile(user_id):\n    cached = redis.get(f\"user:{user_id}\")\n    if cached: return cached\n    \n    user = db.query(f\"SELECT * FROM users WHERE id = {user_id}\")\n    redis.setex(f\"user:{user_id}\", 30, user)\n    return user\n```\n\n### ì½ê¸° ì „ìš© ë³µì œë³¸ (Read Replicas)\n\nì“°ê¸° ì „ìš© **Master DB**ì™€ ì½ê¸° ì „ìš© **Replica DB**ë¥¼ ë¶„ë¦¬í•˜ì—¬ ë¶€í•˜ë¥¼ ë¶„ì‚°í•©ë‹ˆë‹¤.\n\n```mermaid\nflowchart TB\n    Write[\"INSERT/UPDATE/DELETE\"] --> Master[(Master DB)]\n    Master --> R1[(Read Replica 1)]\n    Master --> R2[(Read Replica 2)]\n    Read1[SELECT] --> R1\n    Read2[SELECT] --> R2\n```\n\n---\n\n## 1,000,000ëª…(1M+) â†’ ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”©\n\nì“°ê¸° íŠ¸ë˜í”½ì´ Master DB í•œ ëŒ€ì˜ ì²˜ë¦¬ëŸ‰ì„ ë„˜ì–´ì„œë©´ ë°ì´í„°ë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.\n\n- **DB ìƒ¤ë”©**: íŠ¹ì • í‚¤(User ID ë“±)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ DB ì„œë²„ì— ë¶„ì‚°\n\n- **ì‚¬ë¡€**: **Instagram**ì€ ìˆ˜ì²œ ê°œì˜ ë…¼ë¦¬ ìƒ¤ë“œë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ë¶„ì‚° ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.\n\n```mermaid\nflowchart TD\n    API[API Server] --> Router{Shard Router}\n    Router --> S1[(DB Shard 1: ID 1-1M)]\n    Router --> S2[(DB Shard 2: ID 1M-2M)]\n```\n\n---\n\n## 10,000,000ëª…(10M+) â†’ ë©€í‹° ë¦¬ì „ ì•„í‚¤í…ì²˜\n\nì‚¬ìš©ìê°€ ì „ ì„¸ê³„ì— ë¶„í¬í•˜ë©´ ë¬¼ë¦¬ì  ê±°ë¦¬ì— ë”°ë¥¸ ì§€ì—° ì‹œê°„ì´ ë¬¸ì œê°€ ë©ë‹ˆë‹¤.\n\n- **GSLB**: ì‚¬ìš©ì IP ê¸°ë°˜ ìµœì  ë¦¬ì „ ë¼ìš°íŒ…\n\n- **ë¦¬ì „ ì´ê´€(Regional Evacuation)**: íŠ¹ì • ë¦¬ì „ ì „ì²´ ì¥ì•  ì‹œ íŠ¸ë˜í”½ì„ íƒ€ ë¦¬ì „ìœ¼ë¡œ ì¦‰ì‹œ ì´ê´€\n\n- **ì‚¬ë¡€**: **Netflix**ëŠ” ì „ ì„¸ê³„ ì£¼ìš” ëŒ€ë¥™ì— í™œì„±(Active) ë¦¬ì „ì„ ë‘ê³  ìƒì‹œ ê°€ë™í•©ë‹ˆë‹¤.\n\n---\n\n## 100,000,000ëª…(100M+) â†’ ì…€ ê¸°ë°˜ ì•„í‚¤í…ì²˜\n\nì‹œìŠ¤í…œ ê·œëª¨ê°€ ë¹„ëŒ€í•´ì§€ë©´ ì‘ì€ ì½”ë“œ ì˜¤ë¥˜ê°€ ì–µ ë‹¨ìœ„ ì‚¬ìš©ìì—ê²Œ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. ì¥ì• ì˜ 'í­ë°œ ë°˜ê²½(Blast Radius)'ì„ ìµœì†Œí™”í•´ì•¼ í•©ë‹ˆë‹¤.\n\n- **ì…€(Cell)**: ì „ì²´ ì¸í”„ë¼ë¥¼ ë…ë¦½ì ì¸ ì†Œê·œëª¨ í´ëŸ¬ìŠ¤í„° ë‹¨ìœ„ë¡œ ê²©ë¦¬\n\n- **ì¥ì **: íŠ¹ì • ì…€ì˜ DB ì¥ì• ê°€ ë‹¤ë¥¸ ì…€ ì‚¬ìš©ìì—ê²Œ ì „íŒŒë˜ì§€ ì•ŠìŒ\n\n- **ì‚¬ë¡€**: **AWS**ì™€ **Salesforce**ëŠ” ì „ì²´ ì‹œìŠ¤í…œì„ ìˆ˜ë°± ê°œì˜ ì…€ë¡œ ë‚˜ëˆ„ì–´ ê´€ë¦¬í•©ë‹ˆë‹¤.\n\n```mermaid\ngraph TD\n    GW[Global Gateway] --> C1[Cell 1: 1M Users]\n    GW --> C2[Cell 2: 1M Users]\n    subgraph Cell1\n        S1[App] --- D1[(DB)]\n    end\n    subgraph Cell2\n        S2[App] --- D2[(DB)]\n    end\n```\n\n---\n\n## 1,000,000,000ëª…(1B+) â†’ ì „ ì§€êµ¬ì  ì¼ê´€ì„±\n\n10ì–µ ëª… ê·œëª¨(Planet-Scale)ì—ì„œëŠ” ì „ ì„¸ê³„ì— í©ì–´ì§„ ë°ì´í„°ì˜ ì •í•©ì„±ì„ ìœ ì§€í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.\n\n- **Google Spanner**: ì›ìì‹œê³„ì™€ GPSë¥¼ í™œìš©í•œ **TrueTime API**ë¡œ ì „ ì„¸ê³„ ë°ì´í„° ì„¼í„°ì˜ ì‹œê°„ì„ ë™ê¸°í™”í•˜ì—¬ ë¶„ì‚° íŠ¸ëœì­ì…˜ êµ¬í˜„\n\n- **Meta TAO**: ì‹­ì–µ ëª… ì´ìƒì˜ ì†Œì…œ ê·¸ë˜í”„ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì„œë¹™í•˜ê¸° ìœ„í•œ ë¶„ì‚° ìºì‹œ ë ˆì´ì–´\n\n---\n\n## ì •ë¦¬: ê·œëª¨ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸\n\n|**ì‚¬ìš©ì ìˆ˜**|**í•µì‹¬ ì „ëµ**|**ë„ì… ê¸°ìˆ **|**ì£¼ìš” ì‚¬ë¡€**|\n|---|---|---|---|\n|1ëª…|ë‹¨ì¼ ì„œë²„|EC2, Droplet|-|\n|1,000ëª…|ë¡œë“œ ë°¸ëŸ°ì‹±|ALB, Nginx|-|\n|10,000ëª…|ì½˜í…ì¸  ê°€ì†|CloudFront, S3|-|\n|100,000ëª…|ë°ì´í„° í™•ì¥|Redis, Read Replica|-|\n|1M|DB ìˆ˜í‰ í™•ì¥|DB Sharding|Instagram|\n|10M|ê¸€ë¡œë²Œ ê°€ìš©ì„±|Multi-Region, GSLB|Netflix|\n|100M|ì¥ì•  ê²©ë¦¬|Cell-based Architecture|AWS, Salesforce|\n|1B+|ì „ ì§€êµ¬ì  ì¼ê´€ì„±|Spanner, TAO, TrueTime|Google, Meta|\n\n---\n\n## í•µì‹¬ ì›ì¹™\n\n1. **ê³¼ë„í•œ ì—”ì§€ë‹ˆì–´ë§ íšŒí”¼**: í˜„ì¬ ê·œëª¨ì— ë§ëŠ” ì†”ë£¨ì…˜ì„ ì„ íƒí•˜ë˜, ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìœ„í•œ í™•ì¥ì„±ì„ ì—´ì–´ë‘¡ë‹ˆë‹¤.\n\n2. **ì—”í‹°í‹° ë¶„ë¦¬**: ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ë¶„ë¦¬í•´ì•¼ ë³‘ëª© ì§€ì ë§Œ ê³¨ë¼ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n3. **ìƒíƒœ ê´€ë¦¬ì˜ ì™¸ë¶€í™”**: ì„œë²„ëŠ” ë¬´ìƒíƒœ(Stateless)ì—¬ì•¼ ì˜¤í†  ìŠ¤ì¼€ì¼ë§ì´ ì›í™œí•©ë‹ˆë‹¤.\n\n4. **ê´€ì°° ê°€ëŠ¥ì„±(Observability)**: ë¡œê·¸ì™€ íŠ¸ë ˆì´ì‹± ì—†ì´ëŠ” ëŒ€ê·œëª¨ í™˜ê²½ì—ì„œ ì¥ì• ë¥¼ ì¶”ì í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n---\n\n## Related Posts\n\n- [ìŠ¤íŒŒì´í¬ íŠ¸ë˜í”½ ëŒ€ì‘ ì „ëµ](https://www.google.com/search?q=/blog/backend/devops/%EC%8A%A4%ED%8C%8C%EC%9D%B4%ED%81%AC-%ED%8A%B8%EB%9E%98%ED%94%BD-%EB%8C%80%EC%9D%91-%EC%A0%84%EB%9E%B5)\n\n- [ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œì˜ ë°ì´í„° ì •í•©ì„±](https://www.google.com/search?q=/blog/distributed-system/consistency)\n\n## References\n\n- [Google Research: Spanner](https://research.google/pubs/pub39966/)\n\n- [Netflix Tech Blog: Regional Evacuation](https://netflixtechblog.com/active-active-for-multi-regional-resiliency-c47719f6685b)\n\n- [Scaling to 100k Users - Alex Pareto](https://alexpareto.com/scalability/systems/2020/02/03/scaling-100k.html)",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [
      "scaling",
      "architecture",
      "devops",
      "infrastructure"
    ],
    "readingTime": 5,
    "wordCount": 818,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "locust-e2e-testing",
    "slug": "locust-e2e-testing",
    "path": "backend/devops",
    "fullPath": "backend/devops/locust-e2e-testing",
    "title": "Locust ê¸°ë°˜ í™˜ê²½ë³„ E2E í…ŒìŠ¤íŠ¸ ìë™í™”",
    "excerpt": "Locustë¥¼ í™œìš©í•˜ì—¬ ê°œë°œë¶€í„° í”„ë¡œë•ì…˜ê¹Œì§€ í™˜ê²½ë³„ E2E í…ŒìŠ¤íŠ¸ë¥¼ ìë™í™”í•˜ê³  Kubernetesì—ì„œ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Locust ê¸°ë°˜ í™˜ê²½ë³„ E2E í…ŒìŠ¤íŠ¸ ìë™í™”\n\n## ê°œìš”\n\n**Locust**ëŠ” Python ê¸°ë°˜ì˜ ì˜¤í”ˆì†ŒìŠ¤ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ë„êµ¬ì…ë‹ˆë‹¤. ì½”ë“œë¡œ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‘ì„±í•˜ê³ , ë‹¤ì–‘í•œ í™˜ê²½(INT/STAGE/PROD)ì—ì„œ ì¼ê´€ëœ E2E í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ì™œ Locustì¸ê°€?\n\n### ì¥ì \n\n| íŠ¹ì„± | ì„¤ëª… |\n|------|------|\n| **ì½”ë“œ ê¸°ë°˜** | Pythonìœ¼ë¡œ ë³µì¡í•œ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„± |\n| **ë¶„ì‚° ì‹¤í–‰** | ì—¬ëŸ¬ ì›Œì»¤ë¡œ ëŒ€ê·œëª¨ ë¶€í•˜ ìƒì„± |\n| **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§** | Web UIë¡œ ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ í™•ì¸ |\n| **ìœ ì—°ì„±** | ë‹¤ì–‘í•œ í”„ë¡œí† ì½œ ì§€ì› (HTTP, gRPC ë“±) |\n| **Kubernetes ì¹œí™”** | Job/Podìœ¼ë¡œ ì‰½ê²Œ ë°°í¬ |\n\n### ë‹¨ì \n\n| íŠ¹ì„± | ì„¤ëª… |\n|------|------|\n| **Python ì˜ì¡´** | Python í™˜ê²½ í•„ìš” |\n| **ì´ˆê¸° ì„¤ì •** | ë³µì¡í•œ ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì½”ë“œ ì‘ì„± í•„ìš” |\n\n## í”„ë¡œì íŠ¸ êµ¬ì¡°\n\n```\ne2e/\nâ”œâ”€â”€ .python-version          # Python ë²„ì „\nâ”œâ”€â”€ pyproject.toml           # ì˜ì¡´ì„± ì •ì˜\nâ”œâ”€â”€ Makefile                 # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸\nâ”œâ”€â”€ config/\nâ”‚   â”œâ”€â”€ local.yaml           # ë¡œì»¬ í™˜ê²½ ì„¤ì •\nâ”‚   â”œâ”€â”€ int.yaml             # í†µí•© í™˜ê²½ ì„¤ì •\nâ”‚   â”œâ”€â”€ stage.yaml           # ìŠ¤í…Œì´ì§€ ì„¤ì •\nâ”‚   â””â”€â”€ prod.yaml            # í”„ë¡œë•ì…˜ ì„¤ì •\nâ”œâ”€â”€ suites/\nâ”‚   â”œâ”€â”€ smoke.py             # ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸\nâ”‚   â”œâ”€â”€ functional.py        # ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸\nâ”‚   â”œâ”€â”€ performance.py       # ì„±ëŠ¥ í…ŒìŠ¤íŠ¸\nâ”‚   â””â”€â”€ stress.py            # ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸\nâ”œâ”€â”€ utils/\nâ”‚   â”œâ”€â”€ client.py            # API í´ë¼ì´ì–¸íŠ¸\nâ”‚   â””â”€â”€ data_generator.py    # í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±\nâ””â”€â”€ locustfile.py            # ë©”ì¸ ì§„ì…ì \n```\n\n## ì„¤ì • íŒŒì¼\n\n### pyproject.toml\n\n```toml\n[project]\nname = \"e2e-tests\"\nversion = \"1.0.0\"\nrequires-python = \">=3.11\"\ndependencies = [\n    \"locust>=2.20.0\",\n    \"pyyaml>=6.0\",\n    \"grpcio>=1.60.0\",\n    \"grpcio-tools>=1.60.0\",\n]\n\n[tool.uv]\ndev-dependencies = [\n    \"pytest>=8.0.0\",\n]\n```\n\n### í™˜ê²½ë³„ ì„¤ì •\n\n```yaml\n# config/int.yaml\nenvironment: int\nbase_url: https://api-int.example.com\ngrpc_host: grpc-int.example.com:443\n\nsettings:\n  default_timeout: 30\n  max_retries: 3\n\ntest_data:\n  collection_prefix: \"e2e_test_\"\n  cleanup_after: true\n```\n\n## í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ êµ¬í˜„\n\n### ê¸°ë³¸ í´ë¼ì´ì–¸íŠ¸\n\n```python\n# utils/client.py\nfrom typing import Any\nimport grpc\nfrom locust import events\n\nclass APIClient:\n    def __init__(self, base_url: str, timeout: int = 30):\n        self.base_url = base_url\n        self.timeout = timeout\n    \n    def create_document(self, collection: str, uri: str, fields: dict) -> dict:\n        \"\"\"ë¬¸ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\"\"\"\n        response = self._post(\n            f\"/v1beta/collections/{collection}/documents\",\n            json={\n                \"document\": {\n                    \"uri\": uri,\n                    \"fields\": fields\n                }\n            }\n        )\n        return response.json()\n    \n    def get_document(self, collection: str, uri: str) -> dict:\n        \"\"\"ë¬¸ì„œë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.\"\"\"\n        response = self._get(f\"/v1beta/collections/{collection}/documents/{uri}\")\n        return response.json()\n    \n    def update_document(self, collection: str, uri: str, fields: dict) -> dict:\n        \"\"\"ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.\"\"\"\n        response = self._patch(\n            f\"/v1beta/collections/{collection}/documents/{uri}\",\n            json={\"fields\": fields}\n        )\n        return response.json()\n    \n    def delete_document(self, collection: str, uri: str) -> bool:\n        \"\"\"ë¬¸ì„œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.\"\"\"\n        response = self._delete(f\"/v1beta/collections/{collection}/documents/{uri}\")\n        return response.json().get(\"success\", False)\n```\n\n### ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸\n\në¹ ë¥¸ í—¬ìŠ¤ì²´í¬ ë° ê¸°ë³¸ ê¸°ëŠ¥ í™•ì¸:\n\n```python\n# suites/smoke.py\nfrom locust import HttpUser, task, between\nimport uuid\n\nclass SmokeTestUser(HttpUser):\n    \"\"\"30ì´ˆ ë‚´ í•µì‹¬ ê¸°ëŠ¥ ê²€ì¦\"\"\"\n    \n    wait_time = between(0.5, 1)\n    \n    def on_start(self):\n        \"\"\"í…ŒìŠ¤íŠ¸ ì‹œì‘ ì „ ì´ˆê¸°í™”\"\"\"\n        self.collection = f\"smoke_test_{uuid.uuid4().hex[:8]}\"\n        self.created_docs = []\n    \n    @task(3)\n    def create_and_get_document(self):\n        \"\"\"ë¬¸ì„œ ìƒì„± ë° ì¡°íšŒ í…ŒìŠ¤íŠ¸\"\"\"\n        doc_uri = f\"doc-{uuid.uuid4().hex[:8]}\"\n        \n        # ìƒì„±\n        with self.client.post(\n            f\"/v1beta/collections/{self.collection}/documents\",\n            json={\n                \"document\": {\n                    \"uri\": doc_uri,\n                    \"fields\": {\"test\": True, \"timestamp\": str(time.time())}\n                }\n            },\n            catch_response=True\n        ) as response:\n            if response.status_code == 200:\n                self.created_docs.append(doc_uri)\n                response.success()\n            else:\n                response.failure(f\"Create failed: {response.text}\")\n        \n        # ì¡°íšŒ\n        with self.client.get(\n            f\"/v1beta/collections/{self.collection}/documents/{doc_uri}\",\n            catch_response=True\n        ) as response:\n            if response.status_code == 200:\n                data = response.json()\n                if data.get(\"document\", {}).get(\"uri\") == doc_uri:\n                    response.success()\n                else:\n                    response.failure(\"URI mismatch\")\n            else:\n                response.failure(f\"Get failed: {response.text}\")\n    \n    @task(1)\n    def health_check(self):\n        \"\"\"í—¬ìŠ¤ì²´í¬\"\"\"\n        self.client.get(\"/ready\")\n    \n    def on_stop(self):\n        \"\"\"í…ŒìŠ¤íŠ¸ ì¢…ë£Œ í›„ ì •ë¦¬\"\"\"\n        for uri in self.created_docs:\n            self.client.delete(f\"/v1beta/collections/{self.collection}/documents/{uri}\")\n```\n\n### ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸\n\nCRUD ì „ì²´ íë¦„ ë° ì—£ì§€ ì¼€ì´ìŠ¤:\n\n```python\n# suites/functional.py\nfrom locust import HttpUser, task, between, SequentialTaskSet\nimport uuid\n\nclass DocumentCRUDFlow(SequentialTaskSet):\n    \"\"\"ìˆœì°¨ì  CRUD í”Œë¡œìš° í…ŒìŠ¤íŠ¸\"\"\"\n    \n    def on_start(self):\n        self.doc_uri = f\"crud-test-{uuid.uuid4().hex[:8]}\"\n        self.version = 0\n    \n    @task\n    def step1_create(self):\n        \"\"\"1. ë¬¸ì„œ ìƒì„±\"\"\"\n        response = self.client.post(\n            f\"/v1beta/collections/functional_test/documents\",\n            json={\n                \"document\": {\n                    \"uri\": self.doc_uri,\n                    \"fields\": {\"step\": 1, \"status\": \"created\"}\n                }\n            }\n        )\n        if response.status_code == 200:\n            self.version = response.json()[\"document\"][\"version\"]\n    \n    @task\n    def step2_read(self):\n        \"\"\"2. ë¬¸ì„œ ì¡°íšŒ\"\"\"\n        response = self.client.get(\n            f\"/v1beta/collections/functional_test/documents/{self.doc_uri}\"\n        )\n        assert response.json()[\"document\"][\"version\"] == self.version\n    \n    @task\n    def step3_update(self):\n        \"\"\"3. ë¬¸ì„œ ì—…ë°ì´íŠ¸\"\"\"\n        response = self.client.patch(\n            f\"/v1beta/collections/functional_test/documents/{self.doc_uri}\",\n            json={\n                \"fields\": {\"step\": 2, \"status\": \"updated\"},\n                \"expected_version\": self.version\n            }\n        )\n        if response.status_code == 200:\n            self.version = response.json()[\"document\"][\"version\"]\n    \n    @task\n    def step4_verify_history(self):\n        \"\"\"4. íˆìŠ¤í† ë¦¬ í™•ì¸\"\"\"\n        response = self.client.get(\n            f\"/v1beta/collections/functional_test/documents/{self.doc_uri}/history\"\n        )\n        history = response.json()[\"documents\"]\n        assert len(history) == 2  # ë²„ì „ 1, 2\n    \n    @task\n    def step5_delete(self):\n        \"\"\"5. ë¬¸ì„œ ì‚­ì œ\"\"\"\n        response = self.client.delete(\n            f\"/v1beta/collections/functional_test/documents/{self.doc_uri}\"\n        )\n        assert response.json()[\"success\"] == True\n        self.interrupt()  # í”Œë¡œìš° ì¢…ë£Œ\n\n\nclass FunctionalTestUser(HttpUser):\n    wait_time = between(1, 3)\n    tasks = [DocumentCRUDFlow]\n```\n\n### ì„±ëŠ¥/ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸\n\n```python\n# suites/performance.py\nfrom locust import HttpUser, task, between, LoadTestShape\nimport uuid\n\nclass PerformanceTestUser(HttpUser):\n    \"\"\"ê³ ë¶€í•˜ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸\"\"\"\n    \n    wait_time = between(0.1, 0.5)  # ë¹ ë¥¸ ìš”ì²­\n    \n    @task(5)\n    def batch_create(self):\n        \"\"\"ë°°ì¹˜ ìƒì„±\"\"\"\n        docs = [\n            {\"uri\": f\"perf-{uuid.uuid4().hex[:8]}\", \"fields\": {\"batch\": True}}\n            for _ in range(10)\n        ]\n        self.client.post(\n            \"/v1beta/collections/perf_test/documents:batchCreate\",\n            json={\"documents\": docs}\n        )\n    \n    @task(10)\n    def query_documents(self):\n        \"\"\"ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸\"\"\"\n        self.client.post(\n            \"/v1beta/collections/perf_test/documents:query\",\n            json={\n                \"query\": {\"filter\": {}},\n                \"page_size\": 100\n            }\n        )\n\n\nclass StressTestShape(LoadTestShape):\n    \"\"\"ì ì§„ì  ë¶€í•˜ ì¦ê°€ í…ŒìŠ¤íŠ¸\"\"\"\n    \n    stages = [\n        {\"duration\": 60, \"users\": 10, \"spawn_rate\": 2},    # ë¨í”„ì—…\n        {\"duration\": 120, \"users\": 50, \"spawn_rate\": 5},   # ìœ ì§€\n        {\"duration\": 60, \"users\": 100, \"spawn_rate\": 10},  # í”¼í¬\n        {\"duration\": 60, \"users\": 50, \"spawn_rate\": 10},   # ë‹¤ìš´\n    ]\n    \n    def tick(self):\n        run_time = self.get_run_time()\n        \n        for stage in self.stages:\n            if run_time < stage[\"duration\"]:\n                return (stage[\"users\"], stage[\"spawn_rate\"])\n            run_time -= stage[\"duration\"]\n        \n        return None  # í…ŒìŠ¤íŠ¸ ì¢…ë£Œ\n```\n\n### ë©”ì¸ ì§„ì…ì \n\n```python\n# locustfile.py\nimport os\nimport yaml\nfrom locust import events\n\nfrom suites.smoke import SmokeTestUser\nfrom suites.functional import FunctionalTestUser\nfrom suites.performance import PerformanceTestUser\n\n# í™˜ê²½ ì„¤ì • ë¡œë“œ\ndef load_config():\n    env = os.getenv(\"TEST_ENV\", \"local\")\n    config_path = f\"config/{env}.yaml\"\n    \n    with open(config_path) as f:\n        return yaml.safe_load(f)\n\nCONFIG = load_config()\n\n@events.init.add_listener\ndef on_locust_init(environment, **kwargs):\n    \"\"\"í…ŒìŠ¤íŠ¸ ì´ˆê¸°í™”\"\"\"\n    environment.host = CONFIG[\"base_url\"]\n    print(f\"Testing against: {CONFIG['environment']}\")\n\n# í…ŒìŠ¤íŠ¸ ëª¨ë“œì— ë”°ë¥¸ User í´ë˜ìŠ¤ ì„ íƒ\nTEST_MODE = os.getenv(\"TEST_MODE\", \"smoke\")\n\nif TEST_MODE == \"smoke\":\n    class User(SmokeTestUser):\n        pass\nelif TEST_MODE == \"functional\":\n    class User(FunctionalTestUser):\n        pass\nelif TEST_MODE == \"performance\":\n    class User(PerformanceTestUser):\n        pass\n```\n\n## Makefile\n\n```makefile\n# e2e/Makefile\n\n.PHONY: install smoke functional performance stress\n\nLOCUST_FLAGS = --headless --only-summary\n\ninstall:\n uv sync\n\n# ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ (30ì´ˆ, 1 ì‚¬ìš©ì)\nsmoke:\n TEST_MODE=smoke TEST_ENV=$(ENV) locust \\\n  $(LOCUST_FLAGS) \\\n  -u 1 -r 1 -t 30s\n\n# ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ (5ë¶„, 10 ì‚¬ìš©ì)\nfunctional:\n TEST_MODE=functional TEST_ENV=$(ENV) locust \\\n  $(LOCUST_FLAGS) \\\n  -u 10 -r 2 -t 300s\n\n# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (10ë¶„, 50 ì‚¬ìš©ì)\nperformance:\n TEST_MODE=performance TEST_ENV=$(ENV) locust \\\n  $(LOCUST_FLAGS) \\\n  -u 50 -r 5 -t 600s\n\n# ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸ (10ë¶„, 100 ì‚¬ìš©ì)\nstress:\n TEST_MODE=stress TEST_ENV=$(ENV) locust \\\n  $(LOCUST_FLAGS) \\\n  -u 100 -r 10 -t 600s\n\n# ì¸í„°ë™í‹°ë¸Œ ëª¨ë“œ (Web UI)\ninteractive:\n TEST_MODE=$(MODE) TEST_ENV=$(ENV) locust\n\n# í™˜ê²½ë³„ ì‹¤í–‰\ntest-local:\n $(MAKE) smoke ENV=local\n\ntest-int:\n $(MAKE) functional ENV=int\n\ntest-stage:\n $(MAKE) performance ENV=stage\n```\n\n## Kubernetes ë°°í¬\n\n### ConfigMap\n\n```yaml\n# k8s/tests/locust/configmap.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: locust-test-config\ndata:\n  test_mode: \"smoke\"\n  test_env: \"int\"\n  users: \"10\"\n  spawn_rate: \"2\"\n  duration: \"300s\"\n```\n\n### Job\n\n```yaml\n# k8s/tests/locust/job.yaml\napiVersion: batch/v1\nkind: Job\nmetadata:\n  name: locust-e2e-test\nspec:\n  ttlSecondsAfterFinished: 86400\n  template:\n    spec:\n      containers:\n        - name: locust\n          image: myregistry/e2e-tests:latest\n          command:\n            - locust\n            - --headless\n            - --only-summary\n            - -u\n            - $(USERS)\n            - -r\n            - $(SPAWN_RATE)\n            - -t\n            - $(DURATION)\n          env:\n            - name: TEST_MODE\n              valueFrom:\n                configMapKeyRef:\n                  name: locust-test-config\n                  key: test_mode\n            - name: TEST_ENV\n              valueFrom:\n                configMapKeyRef:\n                  name: locust-test-config\n                  key: test_env\n            - name: USERS\n              valueFrom:\n                configMapKeyRef:\n                  name: locust-test-config\n                  key: users\n            - name: SPAWN_RATE\n              valueFrom:\n                configMapKeyRef:\n                  name: locust-test-config\n                  key: spawn_rate\n            - name: DURATION\n              valueFrom:\n                configMapKeyRef:\n                  name: locust-test-config\n                  key: duration\n      restartPolicy: Never\n  backoffLimit: 0\n```\n\n### í™˜ê²½ë³„ ì‹¤í–‰\n\n```bash\n# INT í™˜ê²½ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸\nkubectl -n testing patch configmap locust-test-config \\\n  --type=merge -p '{\"data\":{\"test_mode\":\"smoke\",\"test_env\":\"int\",\"users\":\"1\",\"duration\":\"30s\"}}'\nkubectl -n testing apply -f k8s/tests/locust/job.yaml\n\n# STAGE í™˜ê²½ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸\nkubectl -n testing patch configmap locust-test-config \\\n  --type=merge -p '{\"data\":{\"test_mode\":\"performance\",\"test_env\":\"stage\",\"users\":\"50\",\"duration\":\"600s\"}}'\nkubectl delete job locust-e2e-test -n testing --ignore-not-found\nkubectl -n testing apply -f k8s/tests/locust/job.yaml\n\n# ë¡œê·¸ í™•ì¸\nkubectl -n testing logs -f job/locust-e2e-test\n```\n\n## í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸ ì•ˆì „ ì¥ì¹˜\n\n```makefile\n# í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸ (ê·¹ë„ë¡œ ì œí•œëœ ì„¤ì •)\ntest-prod:\n @echo \"âš ï¸  WARNING: Production test!\"\n @read -p \"Type 'I understand the risks': \" confirm && \\\n  [ \"$$confirm\" = \"I understand the risks\" ] || (echo \"Cancelled.\" && exit 1)\n TEST_MODE=smoke TEST_ENV=prod locust \\\n  $(LOCUST_FLAGS) \\\n  -u 1 -r 1 -t 60s  # 1ëª…, 1ë¶„ë§Œ\n```\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **í™˜ê²½ ë¶„ë¦¬**: í™˜ê²½ë³„ ì„¤ì • íŒŒì¼ë¡œ ì—”ë“œí¬ì¸íŠ¸/ì„¤ì • ê´€ë¦¬\n2. **í…ŒìŠ¤íŠ¸ ë°ì´í„° ì •ë¦¬**: `on_stop`ì—ì„œ ìƒì„±í•œ ë°ì´í„° ì‚­ì œ\n3. **ì ì§„ì  ë¶€í•˜**: `LoadTestShape`ë¡œ ê¸‰ê²©í•œ ë¶€í•˜ ë°©ì§€\n4. **í”„ë¡œë•ì…˜ ë³´í˜¸**: í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸ëŠ” ê·¹ë„ë¡œ ì œí•œ\n5. **ê²°ê³¼ ì €ì¥**: `--csv` ì˜µì…˜ìœ¼ë¡œ ê²°ê³¼ ê¸°ë¡\n\n## ì°¸ê³  ìë£Œ\n\n- [Locust ê³µì‹ ë¬¸ì„œ](https://docs.locust.io/)\n- [Locust Kubernetes ë°°í¬](https://docs.locust.io/en/stable/running-distributed.html)\n- [LoadTestShape ê°€ì´ë“œ](https://docs.locust.io/en/stable/custom-load-shape.html)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Testing",
      "E2E",
      "Locust",
      "Python",
      "Performance",
      "Load Testing",
      "Kubernetes"
    ],
    "readingTime": 7,
    "wordCount": 1308,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "linux-ulimit-guide",
    "slug": "linux-ulimit-guide",
    "path": "backend/devops",
    "fullPath": "backend/devops/linux-ulimit-guide",
    "title": "Linux íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ì œí•œ (ulimit) ì™„ë²½ ê°€ì´ë“œ",
    "excerpt": "ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì„œë²„ì—ì„œ 'Too many open files' ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ulimit ì„¤ì • ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Linux íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ì œí•œ (ulimit) ì™„ë²½ ê°€ì´ë“œ\n\n## ê°œìš”\n\nê³ íŠ¸ë˜í”½ ì„œë²„ë¥¼ ìš´ì˜í•˜ë‹¤ ë³´ë©´ `Too many open files` ì—ëŸ¬ë¥¼ ë§ˆì£¼ì¹˜ê²Œ ë©ë‹ˆë‹¤. ì´ëŠ” Linuxì˜ **íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°(File Descriptor)** ì œí•œ ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ulimitì˜ ê°œë…ê³¼ ì‹¤ì „ ì„¤ì • ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤.\n\n## íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ë€?\n\níŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ëŠ” Linuxì—ì„œ ì—´ë¦° íŒŒì¼, ì†Œì¼“, íŒŒì´í”„ ë“±ì„ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜ ê°’ì…ë‹ˆë‹¤. ëª¨ë“  I/O ì‘ì—…ì€ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ë¥¼ í†µí•´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.\n\n```bash\n# í˜„ì¬ í”„ë¡œì„¸ìŠ¤ì˜ ì—´ë¦° íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° í™•ì¸\nls -la /proc/self/fd/\n```\n\n## ì œí•œ ì¢…ë¥˜\n\n### ì‹œìŠ¤í…œ ì „ì²´ ì œí•œ\n\n```bash\n# ì‹œìŠ¤í…œ ì „ì²´ ìµœëŒ€ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ìˆ˜\ncat /proc/sys/fs/file-max\n\n# í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ìˆ˜\ncat /proc/sys/fs/file-nr\n```\n\n### í”„ë¡œì„¸ìŠ¤ë³„ ì œí•œ\n\n```bash\n# í˜„ì¬ ì‰˜ì˜ ì œí•œ í™•ì¸\nulimit -n       # soft limit\nulimit -Hn      # hard limit\n```\n\n| êµ¬ë¶„ | ì„¤ëª… |\n|-----|------|\n| **Soft Limit** | ì‹¤ì œ ì ìš©ë˜ëŠ” ì œí•œ, ì‚¬ìš©ìê°€ ë³€ê²½ ê°€ëŠ¥ |\n| **Hard Limit** | ìµœëŒ€ ìƒí•œì„ , rootë§Œ ì¦ê°€ ê°€ëŠ¥ |\n\n## ì¼ì‹œì  ë³€ê²½ (í˜„ì¬ ì„¸ì…˜ë§Œ)\n\n```bash\n# Soft limit ë³€ê²½ (hard limit ë²”ìœ„ ë‚´ì—ì„œ)\nulimit -n 65535\n\n# Hard limit ë³€ê²½ (root ê¶Œí•œ í•„ìš”)\nsudo ulimit -Hn 100000\n```\n\n## ì˜êµ¬ì  ë³€ê²½\n\n### 1. limits.conf ì„¤ì •\n\n`/etc/security/limits.conf` íŒŒì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤:\n\n```bash\n# /etc/security/limits.conf\n# <domain>  <type>  <item>  <value>\n\n*           soft    nofile  65535\n*           hard    nofile  100000\nroot        soft    nofile  65535\nroot        hard    nofile  100000\n```\n\n| í•„ë“œ | ì„¤ëª… | ì˜ˆì‹œ |\n|-----|------|------|\n| domain | ì ìš© ëŒ€ìƒ | `*` (ëª¨ë“  ì‚¬ìš©ì), `root`, `@group` |\n| type | ì œí•œ ìœ í˜• | `soft`, `hard`, `-` (ë‘˜ ë‹¤) |\n| item | ì œí•œ í•­ëª© | `nofile` (íŒŒì¼ ìˆ˜), `nproc` (í”„ë¡œì„¸ìŠ¤ ìˆ˜) |\n| value | ì œí•œ ê°’ | ìˆ«ì ë˜ëŠ” `unlimited` |\n\n### 2. systemd ì„œë¹„ìŠ¤ ì„¤ì •\n\nsystemdë¡œ ê´€ë¦¬ë˜ëŠ” ì„œë¹„ìŠ¤ëŠ” ë³„ë„ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤:\n\n```ini\n# /etc/systemd/system/myapp.service\n[Service]\nLimitNOFILE=65535\nLimitNPROC=65535\n```\n\në˜ëŠ” ì „ì—­ ì„¤ì •:\n\n```ini\n# /etc/systemd/system.conf\nDefaultLimitNOFILE=65535\n```\n\nì„¤ì • í›„ ì¬ì‹œì‘:\n\n```bash\nsudo systemctl daemon-reload\nsudo systemctl restart myapp\n```\n\n### 3. sysctlë¡œ ì‹œìŠ¤í…œ ì „ì²´ ì œí•œ ë³€ê²½\n\n```bash\n# /etc/sysctl.conf\nfs.file-max = 2097152\nfs.nr_open = 2097152\n\n# ì ìš©\nsudo sysctl -p\n```\n\n## ì‹¤ì „ ì˜ˆì‹œ: Nginx ì„¤ì •\n\n```nginx\n# /etc/nginx/nginx.conf\nworker_rlimit_nofile 65535;\n\nevents {\n    worker_connections 65535;\n}\n```\n\n## ë¬¸ì œ í•´ê²°\n\n### ì„¤ì •ì´ ì ìš©ë˜ì§€ ì•Šì„ ë•Œ\n\n```bash\n# PAM ëª¨ë“ˆ í™•ì¸\ngrep pam_limits /etc/pam.d/common-session\n# session required pam_limits.so ê°€ ìˆì–´ì•¼ í•¨\n```\n\n### í˜„ì¬ í”„ë¡œì„¸ìŠ¤ì˜ ì œí•œ í™•ì¸\n\n```bash\n# íŠ¹ì • í”„ë¡œì„¸ìŠ¤ì˜ ì œí•œ í™•ì¸\ncat /proc/<PID>/limits\n```\n\n## ê¶Œì¥ ì„¤ì •ê°’\n\n| ì„œë²„ ìš©ë„ | nofile ê¶Œì¥ê°’ |\n|---------|--------------|\n| ì¼ë°˜ ì›¹ ì„œë²„ | 65,535 |\n| ê³ íŠ¸ë˜í”½ API ì„œë²„ | 100,000+ |\n| ë°ì´í„°ë² ì´ìŠ¤ | 65,535 ~ 100,000 |\n| ë©”ì‹œì§€ ë¸Œë¡œì»¤ | 500,000+ |\n\n## ì£¼ì˜ì‚¬í•­\n\n- **ê³¼ë„í•œ ê°’ ì„¤ì • ê¸ˆì§€**: ë©”ëª¨ë¦¬ ì˜¤ë²„í—¤ë“œ ë°œìƒ ê°€ëŠ¥\n- **soft â‰¤ hard**: soft limitì€ hard limitì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŒ\n- **ì¬ë¶€íŒ… í›„ í™•ì¸**: ì˜êµ¬ ì„¤ì • ì ìš© ì—¬ë¶€ ê²€ì¦ í•„ìˆ˜\n\n## ì°¸ê³  ìë£Œ\n\n- [Linux man page: limits.conf](https://man7.org/linux/man-pages/man5/limits.conf.5.html)\n- [systemd LimitNOFILE](https://www.freedesktop.org/software/systemd/man/systemd.exec.html)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Linux",
      "DevOps",
      "Performance",
      "ulimit"
    ],
    "readingTime": 3,
    "wordCount": 458,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "helm-environment-management",
    "slug": "helm-environment-management",
    "path": "backend/devops",
    "fullPath": "backend/devops/helm-environment-management",
    "title": "Helm í™˜ê²½ë³„ Values ì˜¤ë²„ë¼ì´ë“œ ì „ëµ",
    "excerpt": "Helm Chartì—ì„œ ê³µí†µ ì„¤ì •ê³¼ í™˜ê²½ë³„ ì„¤ì •ì„ ë¶„ë¦¬í•˜ì—¬ GitOps ë°©ì‹ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Helm í™˜ê²½ë³„ Values ì˜¤ë²„ë¼ì´ë“œ ì „ëµ\n\n## ê°œìš”\n\nKubernetes í™˜ê²½ì—ì„œ ë™ì¼í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ INT/STAGE/REAL ë“± ì—¬ëŸ¬ í™˜ê²½ì— ë°°í¬í•  ë•Œ, **ê³µí†µ ì„¤ì •**ê³¼ **í™˜ê²½ë³„ ì„¤ì •**ì„ ë¶„ë¦¬í•˜ë©´ ìœ ì§€ë³´ìˆ˜ì„±ì´ í¬ê²Œ í–¥ìƒë©ë‹ˆë‹¤.\n\n## í•µì‹¬ ê°œë…\n\n```mermaid\nflowchart LR\n    subgraph Common [\"ê³µí†µ ì„¤ì •\"]\n        VApp[\"values.application.yaml\"]\n        VInfra[\"values.infra.yaml\"]\n    end\n    \n    subgraph EnvOverride [\"í™˜ê²½ë³„ ì˜¤ë²„ë¼ì´ë“œ\"]\n        Int[\"int/values.application.yaml\"]\n        Stage[\"stage/values.application.yaml\"]\n        Real[\"real/values.application.yaml\"]\n    end\n    \n    VApp --> Int\n    VApp --> Stage\n    VApp --> Real\n    \n    Int --> Merge[\"helm template ë³‘í•©\"]\n    Stage --> Merge\n    Real --> Merge\n```\n\n- **ê³µí†µ ì„¤ì •**: ëª¨ë“  í™˜ê²½ì—ì„œ ë™ì¼í•œ ê¸°ë³¸ê°’\n- **í™˜ê²½ë³„ ì˜¤ë²„ë¼ì´ë“œ**: í•´ë‹¹ í™˜ê²½ì—ë§Œ ë‹¤ë¥¸ ê°’ì„ ë®ì–´ì”Œì›€\n\n## ë””ë ‰í† ë¦¬ êµ¬ì¡°\n\n```\nk8s/manifests/my-service/helm/\nâ”œâ”€â”€ values.application.yaml    # ê³µí†µ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •\nâ”œâ”€â”€ values.infra.yaml          # ê³µí†µ ì¸í”„ë¼ ì„¤ì •\nâ”œâ”€â”€ dev/\nâ”‚   â”œâ”€â”€ Chart.yaml\nâ”‚   â”œâ”€â”€ values.application.yaml  # dev í™˜ê²½ ì˜¤ë²„ë¼ì´ë“œ\nâ”‚   â””â”€â”€ values.infra.yaml\nâ”œâ”€â”€ int/\nâ”‚   â”œâ”€â”€ Chart.yaml\nâ”‚   â”œâ”€â”€ values.application.yaml  # int í™˜ê²½ ì˜¤ë²„ë¼ì´ë“œ\nâ”‚   â””â”€â”€ values.infra.yaml\nâ”œâ”€â”€ stage/\nâ”‚   â”œâ”€â”€ Chart.yaml\nâ”‚   â”œâ”€â”€ values.application.yaml  # stage í™˜ê²½ ì˜¤ë²„ë¼ì´ë“œ\nâ”‚   â””â”€â”€ values.infra.yaml\nâ””â”€â”€ real/\n    â”œâ”€â”€ Chart.yaml\n    â”œâ”€â”€ values.application.yaml  # real(production) í™˜ê²½ ì˜¤ë²„ë¼ì´ë“œ\n    â””â”€â”€ values.infra.yaml\n```\n\n## ê³µí†µ ì„¤ì •\n\n### values.application.yaml (ê³µí†µ)\n\nëª¨ë“  í™˜ê²½ì—ì„œ ë™ì¼í•œ ê¸°ë³¸ê°’ì„ ì •ì˜:\n\n```yaml\n# ê³µí†µ ì„¤ì • - ëª¨ë“  í™˜ê²½ì—ì„œ ë™ì¼\napp:\n  regionCode: \"apn2\"\n  enableProbe: \"true\"\n  \n  args: [\"run\", \"--config\", \"/etc/my-service/config.yaml\"]\n  \n  readinessProbe:\n    grpc:\n      port: 9090\n    initialDelaySeconds: 15\n    periodSeconds: 20\n    \n  livenessProbe:\n    grpc:\n      port: 9090\n    initialDelaySeconds: 15\n    periodSeconds: 20\n  \n  replicaCount: 1  # ê¸°ë³¸ê°’, í™˜ê²½ë³„ë¡œ ì˜¤ë²„ë¼ì´ë“œ\n  \n  service:\n    ports:\n      - name: http\n        port: 8080\n        protocol: TCP\n      - name: grpc\n        port: 9090\n        protocol: TCP\n```\n\n## í™˜ê²½ë³„ ì˜¤ë²„ë¼ì´ë“œ\n\n### int/values.application.yaml\n\nINT í™˜ê²½ì—ë§Œ ë‹¤ë¥¸ ì„¤ì •:\n\n```yaml\n# int í™˜ê²½ ì˜¤ë²„ë¼ì´ë“œ - ê³µí†µ ê°’ì„ ë®ì–´ì”€\n\napp:\n  serviceAccount:\n    annotations:\n      eks.amazonaws.com/role-arn: \"arn:aws:iam::123456789:role/int-role\"\n    create: true\n    name: \"my-service-api\"\n  \n  # INT í™˜ê²½ ì‹œí¬ë¦¿\n  secretsStores:\n    - path: /common/int/secrets\n      type: secretsmanager\n      keys:\n        - MONGO_CONNECTION_STRING\n        - REDIS_CONNECTION_STRING\n  \n  # INT í™˜ê²½ ConfigMap\n  configmaps:\n    - name: my-service-config\n      mount:\n        enabled: true\n        path: /etc/my-service\n        filename: config.yaml\n      value: |\n        database:\n          mongo_connection_string: \"get_secret_from_secret_manager\"\n          redis_connection_strings:\n            - \"get_secret_from_secret_manager\"\n        stellar:\n          url: https://api.int.example.com\n  \n  # INT í™˜ê²½ í™˜ê²½ë³€ìˆ˜\n  env:\n    - name: ENV\n      value: \"int\"\n```\n\n### real/values.application.yaml\n\nREAL(Production) í™˜ê²½:\n\n```yaml\n# real(production) í™˜ê²½ ì˜¤ë²„ë¼ì´ë“œ\n\napp:\n  replicaCount: 3  # í”„ë¡œë•ì…˜ì€ 3ê°œ ë ˆí”Œë¦¬ì¹´\n  \n  resources:\n    requests:\n      cpu: 500m\n      memory: 2Gi\n    limits:\n      cpu: 1000m\n      memory: 2Gi\n  \n  serviceAccount:\n    annotations:\n      eks.amazonaws.com/role-arn: \"arn:aws:iam::987654321:role/real-role\"\n    create: true\n    name: \"my-service-api\"\n  \n  secretsStores:\n    - path: /common/real/secrets\n      type: secretsmanager\n      keys:\n        - MONGO_CONNECTION_STRING\n        - REDIS_CONNECTION_STRING\n  \n  configmaps:\n    - name: my-service-config\n      mount:\n        enabled: true\n        path: /etc/my-service\n        filename: config.yaml\n      value: |\n        database:\n          mongo_connection_string: \"get_secret_from_secret_manager\"\n        stellar:\n          url: https://api.example.com\n  \n  env:\n    - name: ENV\n      value: \"real\"\n```\n\n## ë¡œì»¬ í…ŒìŠ¤íŠ¸\n\në°°í¬ ì „ í…œí”Œë¦¿ ë Œë”ë§ìœ¼ë¡œ ê²€ì¦:\n\n```bash\n# ì˜ì¡´ì„± ì—…ë°ì´íŠ¸\nhelm dependency update int\n\n# í…œí”Œë¦¿ ë Œë”ë§ (ê³µí†µ + í™˜ê²½ë³„ ë³‘í•©)\nhelm template my-service \\\n  -f values.infra.yaml \\\n  -f values.application.yaml \\\n  -f int/values.infra.yaml \\\n  -f int/values.application.yaml \\\n  ./int | yq\n```\n\nìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤:\n\n1. ê³µí†µ infra â†’ 2. ê³µí†µ application â†’ 3. í™˜ê²½ë³„ infra â†’ 4. í™˜ê²½ë³„ application\n\në’¤ì— ì˜¤ëŠ” íŒŒì¼ì´ ì•ì˜ ê°’ì„ ì˜¤ë²„ë¼ì´ë“œí•©ë‹ˆë‹¤.\n\n## ArgoCD GitOps ë°°í¬\n\nArgoCDëŠ” ê° í™˜ê²½ë³„ ë””ë ‰í† ë¦¬ë¥¼ ë³„ë„ Applicationìœ¼ë¡œ ë“±ë¡:\n\n```yaml\napiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: my-service-int\n  namespace: argocd\nspec:\n  source:\n    repoURL: https://github.com/myorg/k8s-manifests.git\n    path: k8s/manifests/my-service/helm/int\n    helm:\n      valueFiles:\n        - ../values.infra.yaml\n        - ../values.application.yaml\n        - values.infra.yaml\n        - values.application.yaml\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: my-namespace-int\n```\n\n## í•µì‹¬ ì •ë¦¬\n\n| íŒŒì¼ | ìœ„ì¹˜ | ì—­í•  |\n|------|------|------|\n| `values.application.yaml` | ë£¨íŠ¸ | ê³µí†µ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì • |\n| `values.infra.yaml` | ë£¨íŠ¸ | ê³µí†µ ì¸í”„ë¼ ì„¤ì • |\n| `{env}/values.application.yaml` | í™˜ê²½ í´ë” | í™˜ê²½ë³„ ì˜¤ë²„ë¼ì´ë“œ |\n| `{env}/Chart.yaml` | í™˜ê²½ í´ë” | ì˜ì¡´ì„± ì°¨íŠ¸ ì •ì˜ |\n\n## ëª¨ë²” ì‚¬ë¡€\n\n1. **ê³µí†µ ìµœëŒ€í™”**: ìµœëŒ€í•œ ê³µí†µ ì„¤ì •ì— ë„£ê³ , í™˜ê²½ë³„ì€ ìµœì†Œí™”\n2. **ì‹œí¬ë¦¿ ë¶„ë¦¬**: ë¯¼ê° ì •ë³´ëŠ” Secrets Manager/Vault ì‚¬ìš©\n3. **ë¦¬ì†ŒìŠ¤ ì°¨ë“±**: í”„ë¡œë•ì…˜ì€ ë” ë†’ì€ ë¦¬ì†ŒìŠ¤ ì„¤ì •\n4. **ë¡œì»¬ ê²€ì¦**: ë°°í¬ ì „ `helm template`ë¡œ ë Œë”ë§ í™•ì¸\n5. **ë ˆí”Œë¦¬ì¹´ ì°¨ë“±**: dev=1, int=1~2, real=3+\n\n## ì°¸ê³  ìë£Œ\n\n- [Helm Values Files](https://helm.sh/docs/chart_template_guide/values_files/)\n- [ArgoCD Helm](https://argo-cd.readthedocs.io/en/stable/user-guide/helm/)",
    "docType": "original",
    "category": "Backend",
    "tags": [
      "Kubernetes",
      "Helm",
      "DevOps",
      "GitOps",
      "ArgoCD"
    ],
    "readingTime": 3,
    "wordCount": 587,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-30"
  },
  {
    "id": "mac-os-finderì—ì„œ-ì‚¬ìš©ì-ë£¨íŠ¸-ë””ë ‰í† ë¦¬ë¡œ-ì´ë™í•˜ëŠ”-ë²•",
    "slug": "mac-os-findereseo-sayongja-ruteu-diregtoriro-idonghaneun-beob",
    "path": "misc",
    "fullPath": "misc/mac-os-findereseo-sayongja-ruteu-diregtoriro-idonghaneun-beob",
    "title": "Mac OS Finderì—ì„œ ì‚¬ìš©ì ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ëŠ” ë²•",
    "excerpt": "Mac OS Finderì—ì„œ ì‚¬ìš©ì ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ëŠ” ë²• ë¥¼ ëˆŒëŸ¬ë³´ë©´ ìˆœê°„ì´ë™í•œë‹¤!...",
    "content": "# Mac OS Finderì—ì„œ ì‚¬ìš©ì ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ëŠ” ë²•\n\n`CMD + SHIFT + H`ë¥¼ ëˆŒëŸ¬ë³´ë©´ ìˆœê°„ì´ë™í•œë‹¤!",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 1,
    "wordCount": 17,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "typescript-5-0-rc-ë°œí‘œì—ì„œ-ë°ì½”ë ˆì´í„°-ë¶€ë¶„-ìš”ì•½",
    "slug": "typescript-5-0-rc-balpyoeseo-dekoreiteo-bubun-yoyag",
    "path": "languages/typescript",
    "fullPath": "languages/typescript/typescript-5-0-rc-balpyoeseo-dekoreiteo-bubun-yoyag",
    "title": "Typescript 5.0 RC ë°œí‘œì—ì„œ ë°ì½”ë ˆì´í„° ë¶€ë¶„ ìš”ì•½",
    "excerpt": "Typescript 5.0 RC ë°œí‘œì—ì„œ ë°ì½”ë ˆì´í„° ë¶€ë¶„ ìš”ì•½ ì„¤ì¹˜ ë°©ë²• Decorators ë°ì½”ë ˆì´í„°ëŠ” ECMAScriptì— ê³§ ì¶”ê°€ë˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ, í´ë˜ìŠ¤ì™€ ë©¤ë²„ë¥¼ ì¬ì‚¬ìš© ê°€ëŠ¥...",
    "content": "# Typescript 5.0 RC ë°œí‘œì—ì„œ ë°ì½”ë ˆì´í„° ë¶€ë¶„ ìš”ì•½\n\n## ì„¤ì¹˜ ë°©ë²•\n\n```shell\nnpm install typescript@rc\n```\n\n## Decorators\n\në°ì½”ë ˆì´í„°ëŠ” ECMAScriptì— ê³§ ì¶”ê°€ë˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ, í´ë˜ìŠ¤ì™€ ë©¤ë²„ë¥¼ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ìí™” í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤.\n\në‹¤ìŒ ì½”ë“œë¥¼ ê³ ë ¤í•´ë´…ì‹œë‹¤.\n\n```typescript\nclass Person {\n    name: string;\n\n    constructor(name: string) {\n        this.name = name;\n    }\n\n    greet() {\n        console.log(`Hello, my name is ${this.name}`);\n    }\n}\n\nconst p = new Person(\"Ray\");\np.greet();\n```\n\n`greet`ì€ ë§¤ìš° ê°„ë‹¨í•˜ê²Œ ì‘ì„±ë˜ì—ˆìœ¼ë‚˜, ì¢€ ë” ë³µì¡í•œ ê²½ìš°ë¥¼ ìƒìƒí•´ë´…ì‹œë‹¤. ë¹„ë™ê¸° ë…¼ë¦¬ íë¦„ì´ë‚˜ ì¬ê·€í˜¸ì¶œ, ë˜ëŠ” ì˜ˆê¸°ì¹˜ ëª»í•œ ë¶€ì‘ìš© ë“± ì—¬ëŸ¬ê°€ì§€ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì–´ë–¤ ê²ƒì„ ìƒìƒí•˜ë“  ê°„ì—, ìš°ë¦¬ëŠ” í•œë²ˆ\në””ë²„ê¹… ë¡œê·¸ë¥¼ ì°ì–´ë´…ì‹œë‹¤.\n\n```typescript\nclass Person {\n    name: string;\n\n    constructor(name: string) {\n        this.name = name;\n    }\n\n    greet() {\n        console.log(\"LOG: Entering method.\");\n        console.log(`Hello, my name is ${this.name}`);\n        console.log(\"LOG: Exiting method.\");\n    }\n}\n```\n\nì´ëŸ¬í•œ íŒ¨í„´ì€ ê½¤ë‚˜ ì¼ë°˜ì ì…ë‹ˆë‹¤. ì‚¬ì‹¤ ëª¨ë“  ë©”ì†Œë“œì— ì ìš©í•´ë„ ì¢‹ì„ë§Œ í•˜ì£ !\nì—¬ê¸°ì„œ ë°ì½”ë ˆì´í„°ê°€ ë“±ì¥í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” `loggedMethod`ë¼ëŠ” í•¨ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•´ë´…ë‹ˆë‹¤.\n\n```typescript\nfunction loggedMethod(originalMethod: any, _context: any) {\n    function replacementMethod(this: any, ...args: any[]) {\n        console.log(\"LOG: Entering method.\");\n        const result = originalMethod.call(this, args);\n        console.log(\"LOG: Exiting method.\");\n        return result;\n    }\n\n    return replacementMethod;\n}\n```\n\n\"ëŒ€ì²´ ì™œ `any`ë¡œ ë–¡ì¹ í•œê±°ì•¼, `any`scriptì•¼?\"\n\nì¸ë‚´ì‹¬ì„ ê°€ì ¸ë³´ì„¸ìš”. ë‹¹ì¥ì€ ìš°ë¦¬ê°€ ì´ í•¨ìˆ˜ì˜ ë™ì‘ì„ ë³´ëŠ” ê²ƒì— ì§‘ì¤‘í•˜ê¸° ìœ„í•´ ë‹¤ë¥¸ ê²ƒì„ ë‹¨ìˆœí™” í–ˆìŠµë‹ˆë‹¤.\n`loggedMethod`ê°€ ì›ë³¸ ë©”ì†Œë“œë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ê³ , ì›ë³¸ ë©”ì†Œë“œì˜ ë™ì‘ ì• ë’¤ë¡œ ë¡œê·¸ë¥¼ ì°ì€ ë’¤, ì›ë³¸ ë©”ì†Œë“œì˜ ê²°ê³¼ê°’ì„ ë°˜í™˜í•˜ëŠ” ê²ƒì„ ëˆˆì¹˜ ì±„ì…¨ë‚˜ìš”?\n\nì´ì œ ìš°ë¦¬ëŠ” `loggedmethod`ë¡œ `greet`ë©”ì†Œë“œë¥¼ `decorate`í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```typescript\nclass Person {\n    name: string;\n\n    constructor(name: string) {\n        this.name = name;\n    }\n\n    @loggedMethod\n    greet() {\n        console.log(`Hello, my name is ${this.name}.`);\n    }\n}\n\nconst p = new Person(\"Ray\");\np.greet();\n\n// Output:\n//\n//   LOG: Entering method.\n//   Hello, my name is Ray.\n//   LOG: Exiting method.\n```\n\nìš°ë¦¬ëŠ” `loggedMethod`ë¥¼ ë‹¨ìˆœíˆ `greet`ìœ„ì— `@`ë¥¼ ë¶™ì—¬ì„œ ì˜¬ë ¤ë†“ì•˜ìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë‹ˆ ë§¤ê°œë³€ìˆ˜ë¡œëŠ” *target*ê³¼ *context* ê°œì²´ê°€ ë„˜ì–´ì˜µë‹ˆë‹¤.\n`loggedMethod`ê°€ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ê¸°ì— ì›ë˜ ì •ì˜ëœ `greet`ëŠ” ë°˜í™˜ë˜ëŠ” ìƒˆë¡œìš´ í•¨ìˆ˜ë¡œ ëŒ€ì²´ë©ë‹ˆë‹¤.\n\nì–¸ê¸‰í•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ `loggedMethod`ì—ëŠ” \"context object\"ë¼ëŠ” ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ decoratedëœ ë©”ì†Œë“œê°€ ì–´ë–»ê²Œ ì„ ì–¸ë˜ì—ˆëŠ”ì§€ì— ëŒ€í•œ ìœ ìš©í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì •ë³´ì—ëŠ”\nê·¸ê²ƒì´ `#private`ì´ë‚˜ `static` ë©¤ë²„ì¸ì§€, ë˜ëŠ” ë©”ì†Œë“œì˜ ì´ë¦„ì€ ë¬´ì—‡ì¸ì§€ ë“±ì´ ìˆì£ . ì´ë¥¼ í™œìš©í•´ `decorated`ëœ ë©”ì†Œë“œ ì´ë¦„ì„ ì¶œë ¥í•´ ë³´ê² ìŠµë‹ˆë‹¤.\n\n```typescript\nfunction loggedMethod(originalMethod: any, context: ClassMethodDecoratorContext) {\n    const methodName = String(context.name);\n\n    function replacementMethod(this: any, ...args: any[]) {\n        console.log(`LOG: Entering method '${methodName}'.`)\n        const result = originalMethod.call(this, ...args);\n        console.log(`LOG: Exiting method '${methodName}'.`)\n        return result;\n    }\n\n    return replacementMethod;\n}\n```\n\në“œë””ì–´ `loggedMethod`ì—ì„œ `any`ë¥¼ í•˜ë‚˜ ì§€ì› ìŠµë‹ˆë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” `ClassMethodDecoratorContext`ë¼ëŠ” íƒ€ì…ì„ ì œê³µí•˜ëŠ”ë°, ì´ê²ƒì€ ë°ì½”ë ˆì´í„°ê°€ ë¶™ì€ ë©”ì†Œë“œì˜ context\nobjectë¥¼ ìœ í˜•í™”í•©ë‹ˆë‹¤.\n\në©”íƒ€ë°ì´í„°ì™€ ë³„ê°œë¡œ, ë©”ì†Œë“œë¥¼ ìœ„í•œ context objectëŠ” `addInitializer`ë¼ëŠ” ìœ ìš©í•œ í•¨ìˆ˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ëŠ” ìƒì„±ìê°€ í˜¸ì¶œë˜ê±°ë‚˜ ìŠ¤íƒœí‹± ë©”ì†Œë“œ í˜¸ì¶œì‹œ í´ë˜ìŠ¤ê°€ ì´ˆê¸°í™” ë  ë•Œ ì—°ê²°í•˜ëŠ”\në°©ë²•ì…ë‹ˆë‹¤.)\n\nì˜ˆë¥¼ ë“¤ì–´, ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ì´ ì¼ë°˜ì ì…ë‹ˆë‹¤.\n\n```typescript\nclass Person {\n    name: string;\n\n    constructor(name: string) {\n        this.name = name;\n        this.greet = this.greet.bind(this);\n    }\n\n    greet() {\n        console.log(`Hello, my name is ${this.name}`);\n    }\n}\n```\n\në˜ëŠ” `greet`ë¥¼ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ì„ ì–¸ì´ê³  ì†ì„±ìœ¼ë¡œ ì„ ì–¸í–ˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n```typescript\nclass Person {\n    name: string;\n\n    constructor(name: string) {\n        this.name = name;\n    }\n\n    greet = () => {\n        console.log(`Hello, my name is ${this.name}.`);\n    }\n}\n```\n\nì´ ì½”ë“œëŠ” `greet`ì´ ë…ë¦½ ì‹¤í–‰í˜• í•¨ìˆ˜ë¡œ í˜¸ì¶œë˜ê±°ë‚˜ ì½œë°±ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” ê²½ìš° *this*ê°€ ë‹¤ì‹œ ë°”ì¸ë”© ë˜ì§€ ì•Šë„ë¡ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n```typescript\nconst greet = new Person(\"Ray\").greet;\n// We don't want this to fail!\ngreet();\n```\n\nìš°ë¦¬ëŠ” `addInitializer`ë¡œ ìƒì„±ìì— `bind`í•˜ë„ë¡ í•˜ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```typescript\nfunction bound(originalMethod: any, context: ClassMethodDecoratorContext) {\n    const methodName = context.name;\n    if (context.private) {\n        throw new Error(`'bound' cannot decorate private properties like ${methodName as string}.`);\n    }\n    context.addInitializer(function () {\n        this[methodName] = this[methodName].bind(this);\n    });\n}\n```\n\n`bound`ëŠ” ì•„ë¬´ê²ƒë„ ë°˜í™˜í•˜ì§€ ì•Šê³  ì˜¤ë²„ë¼ì´ë”© í•˜ì§€ë„ ì•Šìœ¼ë¯€ë¡œ ì´ ë¡œì§ì€ ì´ˆê¸°í™”ì‹œì—ë§Œ ì‹¤í–‰ë  ê²ë‹ˆë‹¤.\n\n```typescript\nclass Person {\n    name: string;\n\n    constructor(name: string) {\n        this.name = name;\n    }\n\n    @bound\n    @loggedMethod\n    greet() {\n        console.log(`Hello, my name is ${this.name}.`);\n    }\n}\n\nconst p = new Person(\"Ray\");\nconst greet = p.greet;\n\n// Works!\ngreet();\n```\n\në°ì½”ë ˆì´í„°ê°€ ë‘ê°œ ì´ìƒì¼ ë• ì—­ìˆœìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ëŸ¬ëª¨ë¥´ ìœ„ ê²½ìš°ì—ì„  `loggedMethod`ê°€ `greet`ì„ ê°ì‹¸ê³  ìƒˆ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ë©°, ê·¸ ìƒˆ í•¨ìˆ˜ë¥¼ boundê°€ ê°ì‹¸ê²Œ ë˜ê² ë„¤ìš”. ì§€ê¸ˆ ê²½ìš°ì—ì„  ë¬¸ì œê°€\nì•ˆë˜ì§€ë§Œ íŠ¹ì • ìˆœì„œê°€ ì¤‘ìš”í•œ êµ¬ì¡°ì—ì„œëŠ” ë¬¸ì œê°€ ë˜ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì—¬ê¸°ì— ì•½ê°„ì˜ ê¸°ìˆ ì„ ë”í•˜ë©´ ë°ì½”ë ˆì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n```typescript\nfunction loggedMethod(headMessage = \"LOG:\") {\n    return function actualDecorator(originalMethod: any, context: ClassMethodDecoratorContext) {\n        const methodName = String(context.name);\n\n        function replacementMethod(this: any, ...args: any[]) {\n            console.log(`${headMessage} Entering method '${methodName}'.`)\n            const result = originalMethod.call(this, ...args);\n            console.log(`${headMessage} Exiting method '${methodName}'.`)\n            return result;\n        }\n\n        return replacementMethod;\n    }\n}\n```\n\nì´ë•Œ ìš°ë¦¬ëŠ” ë°˜ë“œì‹œ `loggedMethod`ë¥¼ ë©”ì†Œë“œ ì „ì— í˜¸ì¶œí•´ì•¼ í•˜ê³ , í•„ìš”ì‹œ íŒŒë¼ë¯¸í„°ë„ ë„˜ê²¨ì¤˜ì•¼ í•©ë‹ˆë‹¤.\n\n```typescript\nclass Person {\n    name: string;\n\n    constructor(name: string) {\n        this.name = name;\n    }\n\n    @loggedMethod(\"\")\n    greet() {\n        console.log(`Hello, my name is ${this.name}.`);\n    }\n}\n\nconst p = new Person(\"Ray\");\np.greet();\n\n// Output:\n//\n//    Entering method 'greet'.\n//   Hello, my name is Ray.\n//    Exiting method 'greet'.\n```\n\në°ì½”ë ˆì´í„°ëŠ” ë©”ì†Œë“œ ë¿ë§Œ ì•„ë‹ˆë¼ í”„ë¡œí¼í‹°, í•„ë“œ, ê²Œí„°, ì„¸í„°, ìë™ì ‘ê·¼ì(`auto-accessor`)ê¹Œì§€ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¬ì§€ì–´ëŠ” í´ë˜ìŠ¤ ìŠ¤ìŠ¤ë¡œë„ ì„œë¸Œí´ë˜ì‹±ì´ë‚˜ ë“±ë¡ìœ¼ë¡œ ë°ì½”ë ˆì´íŒ… ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në°ì½”ë ˆì´í„°ë¥¼ ë” ê¹Šê²Œ ê³µë¶€í•˜ê³  ì‹¶ë‹¤ë©´ [Axel Rauschmayerâ€™s extensive summary.](https://2ality.com/2022/10/javascript-decorators.html)ì„ ì½ì–´\në³´ì„¸ìš”.\ní¬í•¨ëœ ë³€ê²½ì‚¬í•­ì— ëŒ€í•´ ë” ë§ì€ ì •ë³´ë¥¼ ì•Œê³  ì‹¶ë‹¤ë©´ [ì›ë³¸ í’€ë¦¬í€˜ìŠ¤íŠ¸](https://github.com/microsoft/TypeScript/pull/50820)ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”.",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 4,
    "wordCount": 788,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "mochaì˜-node-envëŠ”",
    "slug": "mochayi-node-envneun",
    "path": "languages/typescript",
    "fullPath": "languages/typescript/mochayi-node-envneun",
    "title": "Mochaì˜ NODE_ENVëŠ”?",
    "excerpt": "Mochaì˜ NODE_ENVëŠ”? ì°¸ì¡° https://github.com/mochajs/mocha/issues/185 23ë…„ 1ì›” 24ì¼ ê¸°ì¤€ í™•ì¸í•´ë³¸ ê²°ê³¼ `\"mocha\": \"^10.2.0\" ì—ì„œ undefinedì´ë‹¤....",
    "content": "# Mochaì˜ NODE_ENVëŠ”?\n\n> ì°¸ì¡° https://github.com/mochajs/mocha/issues/185\n\n23ë…„ 1ì›” 24ì¼ ê¸°ì¤€ í™•ì¸í•´ë³¸ ê²°ê³¼ \n`\"mocha\": \"^10.2.0\" ì—ì„œ undefinedì´ë‹¤.",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 1,
    "wordCount": 18,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "enum-ëŒ€ì‹ -ì‚¬ìš©í• -ìˆ˜-ìˆëŠ”-as-const",
    "slug": "enum-daesin-sayonghal-su-issneun-as-const",
    "path": "languages/typescript",
    "fullPath": "languages/typescript/enum-daesin-sayonghal-su-issneun-as-const",
    "title": "Enum ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” `as const`",
    "excerpt": "Enum ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìì„¸í•œ ë‚´ìš©ì€ ìš°ì•„í•œí˜•ì œë“¤ ê¸°ìˆ  ë¸”ë¡œê·¸ ì°¸ê³  ë¶€íƒë“œë¦½ë‹ˆë‹¤. ë§í¬ ```typescript / const NodeEnv...",
    "content": "# Enum ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” `as const`\n\n> ìì„¸í•œ ë‚´ìš©ì€ ìš°ì•„í•œí˜•ì œë“¤ ê¸°ìˆ  ë¸”ë¡œê·¸ ì°¸ê³  ë¶€íƒë“œë¦½ë‹ˆë‹¤. [ë§í¬](https://techblog.woowahan.com/9804/#toc-1)\n\n```typescript\n/**\n * const NodeEnvMap: {  \n *   readonly Local: \"local\";  \n *   readonly Dev: \"dev\";  \n *   readonly Prod: \"prod\";  \n *   readonly Test: \"test\";  \n * }\n */\nexport const NodeEnvMap = {\n\tLocal: 'local',\n\tDev: 'dev',\n\tProd: 'prod',\n\tTest: 'test',\n} as const;\n  \n// type NodeEnvMapType = \"local\" | \"dev\" | \"prod\" | \"test\"\nexport type NodeEnvMapType = typeof NodeEnvMap[keyof typeof NodeEnvMap];\n```\n\n`as const`ë¥¼ ì•ˆí•´ì£¼ë©´ ì•„ë˜ì™€ ê°™ì´ `string`!\n\n```typescript\n/**\n* const NodeEnvMap: {\n*   Local: string;\n*   Dev: string;\n*   Prod: string;\n*   Test: string;\n* }\n*/\nexport const NodeEnvMap = {\n\tLocal: 'local',\n\tDev: 'dev',\n\tProd: 'prod',\n\tTest: 'test',\n} \n```",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 1,
    "wordCount": 122,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "rustì—ì„œ-os-cpu-ê°¯ìˆ˜-ì°¾ê¸°",
    "slug": "rusteseo-os-cpu-gaessu-cajgi",
    "path": "languages/rust",
    "fullPath": "languages/rust/rusteseo-os-cpu-gaessu-cajgi",
    "title": "Rustì—ì„œ OS CPU ê°¯ìˆ˜ ì°¾ê¸°",
    "excerpt": "ì°¸ê³  Rustì—ì„œ OS CPU ê°¯ìˆ˜ ì°¾ê¸° íƒœì´ˆì˜ ë°©ì‹ (deprecated) ```rs extern crate num_cpus; let num = num_cpus::get(...",
    "content": "> ì°¸ê³ \n\n# Rustì—ì„œ OS CPU ê°¯ìˆ˜ ì°¾ê¸°\n\n## íƒœì´ˆì˜ ë°©ì‹ (deprecated)\n\n```ini\n[dependencies]\nnum_cpus = \"1.0\"\n```\n\n```rs\nextern crate num_cpus;\nlet num = num_cpus::get();\n```\n\n## ê·¸ ë‹¤ìŒ ë°©ì‹ (deprecated)\n\n```rs\nfn main() {\n    println!(\"{}\", std::os::num_cpus());\n}\n```\n\n## í˜„ì¬ ë°©ì‹\n\n```rs\n// rustc 1.67.0 (fc594f156 2023-01-24)\nstd::thread::available_parallelism().unwrap().get()\n```",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 1,
    "wordCount": 52,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ë¹„íŠ¸-ì—°ì‚°-í™œìš©",
    "slug": "biteu-yeonsan-hwalyong",
    "path": "languages/others",
    "fullPath": "languages/others/biteu-yeonsan-hwalyong",
    "title": "ë¹„íŠ¸ ì—°ì‚° í™œìš©",
    "excerpt": "ë¹„íŠ¸ ì—°ì‚° í™œìš© ì¢…ë¥˜ ë¹„íŠ¸ ì—°ì‚°ì ì„¤ëª… &amp;</...",
    "content": "# ë¹„íŠ¸ ì—°ì‚° í™œìš©\n\n## ì¢…ë¥˜\n\n<table class=\"tb-2\" >\n\t<thead>\n\t\t<tr class=\"bg\">\n\t\t\t<th>ë¹„íŠ¸ ì—°ì‚°ì</th>\n\t\t\t<th>ì„¤ëª…</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>&amp;</td>\n\t\t\t<td>ëŒ€ì‘ë˜ëŠ” ë¹„íŠ¸ê°€ ëª¨ë‘ 1ì´ë©´ 1ì„ ë°˜í™˜í•¨. (ë¹„íŠ¸ AND ì—°ì‚°)</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>|</td>\n\t\t\t<td>ëŒ€ì‘ë˜ëŠ” ë¹„íŠ¸ ì¤‘ì—ì„œ í•˜ë‚˜ë¼ë„ 1ì´ë©´ 1ì„ ë°˜í™˜í•¨. (ë¹„íŠ¸ OR ì—°ì‚°)</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>^</td>\n\t\t\t<td>ëŒ€ì‘ë˜ëŠ” ë¹„íŠ¸ê°€ ì„œë¡œ ë‹¤ë¥´ë©´ 1ì„ ë°˜í™˜í•¨. (ë¹„íŠ¸ XOR ì—°ì‚°)</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>~</td>\n\t\t\t<td>ë¹„íŠ¸ë¥¼ 1ì´ë©´ 0ìœ¼ë¡œ, 0ì´ë©´ 1ë¡œ ë°˜ì „ì‹œí‚´. (ë¹„íŠ¸ NOT ì—°ì‚°, 1ì˜ ë³´ìˆ˜)</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>&lt;&lt;</td>\n\t\t\t<td>ëª…ì‹œëœ ìˆ˜ë§Œí¼ ë¹„íŠ¸ë“¤ì„ ì „ë¶€ ì™¼ìª½ìœ¼ë¡œ ì´ë™ì‹œí‚´. (left shift ì—°ì‚°)</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>&gt;&gt;</td>\n\t\t\t<td>ë¶€í˜¸ë¥¼ ìœ ì§€í•˜ë©´ì„œ ì§€ì •í•œ ìˆ˜ë§Œí¼ ë¹„íŠ¸ë¥¼ ì „ë¶€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ì‹œí‚´. (right shift ì—°ì‚°)</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>&gt;&gt;&gt;</td>\n\t\t\t<td>ì§€ì •í•œ ìˆ˜ë§Œí¼ ë¹„íŠ¸ë¥¼ ì „ë¶€ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ì‹œí‚¤ë©°, ìƒˆë¡œìš´ ë¹„íŠ¸ëŠ” ì „ë¶€ 0ì´ ë¨.</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n## ì¢…ë¥˜ ë³„ ì˜ˆì‹œ\n\n![](http://www.tcpschool.com/lectures/img_php_bitwise_and.png)\n![](http://www.tcpschool.com/lectures/img_php_bitwise_or.png)\n![](http://www.tcpschool.com/lectures/img_php_bitwise_xor.png)\n![](http://www.tcpschool.com/lectures/img_php_bitwise_not.png)\n\n## ë¹„íŠ¸ë§ˆìŠ¤í¬\n\n<table>\n<thead>\n<tr>\n<td>\n    ì—°ì‚°\n</td>\n<td>\n    ì‚¬ìš© ì˜ˆì‹œ\n</td>\n</tr>\n</thead>\n<tbody>\n<tr>\n</tr>\n<tr>\n<td>\n    ië²ˆì§¸ ìš”ì†Œ ì¡°íšŒí•˜ê¸°\n</td>\n<td >\n\n```\n// 10 & (1 << 2)\n// 1010 & 0100\n// => 0000\n// ê²°ê³¼ê°’ì˜ idx=3 ìš”ì†ŒëŠ” ië²ˆì§¸ ìš”ì†Œì˜ ì¡´ì¬ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ \nn & (1 << i);\n```\n\n</td>\n</tr>\n<tr>\n<td>\n    ë³€ê²½(ì‚½ì…)\n</td>\n<td>\n\n```\n// 10 | (1 << 2)\n// 1010 | 0100\n// => 1110\n// ê²°ê³¼ê°’ì˜ idx=2 ìš”ì†Œë¥¼ 1ë¡œ ë§Œë“¤ì—ˆë‹¤\nn | (1 << i)\n```\n\n</td>\n</tr>\n<tr>\n<td>\n    ì‚­ì œ\n</td>\n<td>\n\n```\n// 15 & ~(1 << 2) \n// 1111 & ~0100\n// 1111 & 1011\n// => 1011\n// ê²°ê³¼ê°’ì˜ idx=2 ìš”ì†Œë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤\nn & ~(1 << i)\n```\n\n</td>\n</tr>\n<tr>\n<td>\nê³µì§‘í•©\n</td>\n<td>\n\n```\nint result = 0;\n```\n\n</td>\n</tr>\n<tr>\n<td>\nê½‰ ì°¬ ì§‘í•©\n</td>\n<td>\n\n```\n// Aê°œì˜ ì›ì†Œë¥¼ ê°€ì§„ ì§‘í•©ì˜ ì¢…ë¥˜\n// ì í™”ì‹ìœ¼ë¡œëŠ” (2**n) - 1\nint result = ((1 << A) - 1);\n```\n\n</td>\n</tr>\n<tr>\n<td>\nìµœì†Œ ì›ì†Œ ì°¾ê¸°\n</td>\n<td>\n\n```\nint firstBit = b & -b;\n```\n</td>\n</tr>\n<tr>\n<td>\nìµœì†Œ ì›ì†Œ ì§€ìš°ê¸°\n</td>\n<td>\n\n```\nint removed = origin & (origin-1);\n```\n</td>\n</tr>\n<tr>\n<td>\në¶€ë¶„ ì§‘í•© ìˆœíšŒ\n</td>\n<td>\n\n```\nì§‘í•© Aì˜ ë¶€ë¶„ì§‘í•© ìˆœíšŒ\nfor (int i = A;; i = ((i - 1) & A)) {\n    ...\n}\n```\n</td>\n</tr>\n</tbody>\n</table>\n\n## ì°¸ê³  ë¬¸ì„œ\n\n- [ë¹„íŠ¸ë§ˆìŠ¤í¬](https://hongjuzzang.github.io/bitmask/bit_mask/#-%EB%B9%84%ED%8A%B8%EB%A7%88%EC%8A%A4%ED%81%AC)",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 2,
    "wordCount": 359,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "c-overview",
    "slug": "c-overview",
    "path": "languages/others",
    "fullPath": "languages/others/c-overview",
    "title": "C# Overview",
    "excerpt": "C Overview Summary of the data types in C with example code snippets Value types bool: represents a Boolean value (true or false) ```cs b...",
    "content": "# C# Overview\n\nSummary of the data types in C# with example code snippets\n\n## Value types\n\n- bool: represents a Boolean value (true or false)\n\n```cs\nbool isCorrect = true;\n```\n\n- char: represents a single Unicode character\n\n```cs\nchar letter = 'a';\n```\n\n- byte: represents an 8-bit unsigned integer\n\n```cs\nbyte b = 255;\n```\n\n- short: represents a 16-bit signed integer\n\n```cs\nshort s = -32768;\n```\n\n- int: represents a 32-bit signed integer\n\n```cs\nint i = 42;\n```\n\n- long: represents a 64-bit signed integer\n\n```cs\nlong l = 1000000000L;\n```\n\n- float: represents a single-precision floating-point number\n\n```cs\nfloat f = 3.1415927f;\n```\n\n- double: represents a double-precision floating-point number\n\n```cs\ndouble d = 3.141592653589793;\n```\n\n- decimal: represents a decimal number with up to 28 significant digits\n\n```cs\ndecimal price = 9.99M;\n```\n\n## Reference types\n\n- string: represents a sequence of Unicode characters\n\n```cs\nstring greeting = \"Hello, world!\";\n```\n\n- object: represents an instance of any type\n\n```cs\nobject obj = new object();\n```\n\ndynamic: represents a type that is determined at runtime\n\n```cs\ndynamic dynamicVar = \"hello\";\nConsole.WriteLine(dynamicVar.GetType()); // System.String\ndynamicVar = 42;\nConsole.WriteLine(dynamicVar.GetType()); // System.Int32\n```\n\n- array: represents a collection of elements of the same type\n\n```cs\nint[] numbers = { 1, 2, 3, 4, 5 };\n```\n\nclass: represents a blueprint for creating objects\n\n```cs\npublic class Person\n{\npublic string Name { get; set; }\npublic int Age { get; set; }\n}\n\nPerson person = new Person { Name = \"Alice\", Age = 30 };\n```\n\n- interface: represents a contract for implementing functionality\n\n```csharp\npublic interface IShape\n{\ndouble GetArea();\n}\n\npublic class Rectangle : IShape\n{\npublic double Width { get; set; }\npublic double Height { get; set; }\n\n    public double GetArea()\n    {\n        return Width * Height;\n    }\n\n}\n\nIShape shape = new Rectangle { Width = 10, Height = 20 };\ndouble area = shape.GetArea();\n```",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 2,
    "wordCount": 327,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "dart-programming-language",
    "slug": "dart-programming-language",
    "path": "languages/dart",
    "fullPath": "languages/dart/dart-programming-language",
    "title": "Dart Programming Language",
    "excerpt": "Dart Programming Language Hello world Variables The Var keywor...",
    "content": "# Dart Programming Language\n\n## Hello world\n\n```dart\nvoid main() {\n  print('hello world');\n}\n\ndart run main.dart\n```\n\n## Variables\n\n### The Var keyword\n\n```dart\nvoid main() {\n  // Compiler automatically infers type of value\n  var name = 'seogyugim';\n\n  // Declare obviously type of value\n  String strname = 'seogyugim';\n}\n```\n\n### Dynamic Type\n\n```dart\nvoid main() {\n  dynamic name;\n  if (name is String) {\n    // Compiler already knows type of name\n    name.isEmpty;\n  }\n\n  // And dart support optional chaining\n  name?.isEmpty;\n}\n```\n\n### Null Safety\n\n```dart\nbool isEmpty(String s) => s.length == 0;\n\nvoid main() {\n  // It'll throw NoSuchMethodError\n  isEmpty(null);\n\n  // It's not okay\n  String name1 = 'seogyugim';\n  // Because name2 must be not null\n  if (name1 != null) {\n    nico.isNotEmpty;\n  }\n\n  // It's not okay\n  String? name2 = 'seogyugim';\n  name = null;\n  // Because name could be a null\n  name.isNotEmpty\n  if (name2 != null) {\n    nico.isNotEmpty;\n  }\n\n  // It's okay\n  String? name = 'seogyugim';\n  name = null;\n  name?.isNotEmpty;\n}\n```\n\n### Final\n\n```dart\nvoid main() {\n  // As same as val of kotlin, const of javascript\n  final name = 'seogyugim';\n}\n```\n\n### Late Variables\n\n```dart\nvoid main() {\n  // We can create variable without data with late keyword\n  late final String name;\n  late var name2;\n\n  // It will throw Error because it is not definitely assigned\n  print(name);\n}\n```\n\n### Constant Variables\n\n```dart\nvoid main() {\n  // compile-time constant\n  const name = 'seogyugim';\n  // Error\n  name = ''\n\n  // OK\n  const API_KEY = '123123';\n  // Error, because compiler don't know when compile-time.\n  const apiRes = fetchApi();\n  // OK\n  final apiRes = fetchApi();\n}\n```\n\n## Data Types\n\n### Basics\n\n```dart\nvoid main() {\n  String name = 'seogyugim';\n  bool isExist = true;\n  int age = 30;\n  double money = 0.01;\n\n // father class of int and double\n // abstract class int extends num { ...\n  num x = 12;\n}\n```\n\n### Lists\n\n```dart\nvoid main() {\n // Type:  List<int>\n var numbers = [1, 2, 3, 4];\n\n // abstract class List<E> implements ...\n List<int> nums = [1, 2, 3, 4];\n numbs.first;\n numbs.last;\n numbs.add(3);\n numbs.contains(9);\n\n var giveMeFive = true;\n var nums = [\n  1,\n  2,\n  3,\n  // Collection If\n  if (giveMeFive) 5,\n ];\n}\n```\n\n### String Interpolation\n\n```dart\nvoid main() {\n var age = 10;\n var hello = \"Hello everyone! my name is $name, and I\\'m ${age + 1} Nice to meet you!\";\n print(hello);\n}\n```\n\n### Collection For\n\n```dart\nvoid main() {\n var oldFriends = [\"nico\", \"lynn\"];\n var newFriends = [\n  \"seogyugim\",\n  \"kyoungseo\",\n  for (var f in oldFriends) \"Hi $f\",\n ];\n}\n```\n\n### Maps\n\n```dart\nvoid main() {\n // Object in Dart is as same as 'any' type in Typescript\n var p = {\n  \"name\": 'seogyugim',\n  \"xp\": 100,\n  \"po\": 100,\n };\n Map<int, bool> existanceTable = {\n  1: true,\n  2: false,\n  3: true,\n };\n}\n```\n\n### Sets\n\n```dart\nvoid main() {\n var numbers = {1, 2, 3, 4};\n Set<int> nums = {1, 2, 3, 4};\n}\n```\n\n## Functions\n\n### How to define\n\n```dart\nvoid sayHello(String name) {\n print(\"Hello $name, nice to meet you!\");\n}\n\nvoid retHello(String name) => \"Hello $name, nice to meet you!\";\n\nvoid main() {\n sayHello('seogyugim');\n print(rethello('seogyugim'));\n}\n```\n\n### Named Parameters\n\n```dart\nString hello(\n String name,\n int age,\n String country,\n) {\n return \"$name, $age, $country\";\n}\n\nString namedDefaultHello({\n String name = 'anonymous',\n int age = 50,\n String country = 'Korea',\n}) {\n return \"$name, $age, $country\";\n}\n\nString namedRequiredHello({\n required String name,\n required int age,\n required String country,\n}) {\n return \"$name, $age, $country\";\n}\n\nvoid main() {\n print(hello(\n  'seogyugim',\n  30,\n  'Korea',\n ));\n\n print(namedDefaultHello());\n\n print(namedRequiredHello(\n  name: 'seogyugim',\n  age: 30,\n  country: 'Korea',\n ));\n}\n```\n\n### Optional Positional Parameters\n\n```dart\nString sayHello(String name, int age, [String? country = \"Hello\"]) {\n return \"$name, $age, $country\";\n}\n\nvoid main(List<String> args) {\n print(sayHello(\"Hello\",31,));\n}\n```\n\n### Question Question Operator\n\n```dart\nString getName([String? name]) => name?.toUpperCase() ?? \"Kim Seogyu\";\n\nvoid main(List<String> args) {\n String name = getName();\n String? name2;\n name2 ??= \"Example\";\n print(name);\n print(name2);\n}\n```\n\n### Typedef\n\n```dart\ntypedef ListOfInts = List<int>;\n\nListOfInts reverseListOfNumbers(ListOfInts list) {\n var reversed = list.reversed;\n return reversed.toList();\n}\n\nvoid main() {\n reverseListOfNumbers([1,2,3]);\n}\n```\n\n## Classes\n\n### Constructors\n\n### Named Constructor Parameters\n\n### Named Constructors\n\n### Cascade Notations\n\n### Enums\n\n### Abstract Classes\n\n### Inheritance\n\n### Mixins",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 4,
    "wordCount": 709,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "minioì˜-íë§-healing-ë©”ì»¤ë‹ˆì¦˜",
    "slug": "minioyi-hilring-healing-mekeonijeum",
    "path": "distributed-systems/minio",
    "fullPath": "distributed-systems/minio/minioyi-hilring-healing-mekeonijeum",
    "title": "MinIOì˜ íë§(Healing) ë©”ì»¤ë‹ˆì¦˜",
    "excerpt": "MinIOì˜ íë§(Healing) ë©”ì»¤ë‹ˆì¦˜ MinIOì˜ íë§ ë©”ì»¤ë‹ˆì¦˜ì€ ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ í™˜ê²½ì—ì„œ ë°ì´í„° ë‚´êµ¬ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì´ ë©”ì»¤ë‹ˆì¦˜ì€ ë””ìŠ¤í¬ ì¥ì• , ì†ìƒëœ ë©”íƒ€ë°ì´í„°, ë¶ˆì™„ì „í•œ ì“°ê¸° ë“±ì„ ê°ì§€í•˜ê³  ìë™ìœ¼ë¡œ ë³µêµ¬í•©ë‹ˆë‹¤. íë§ í”„...",
    "content": "# MinIOì˜ íë§(Healing) ë©”ì»¤ë‹ˆì¦˜\n\nMinIOì˜ íë§ ë©”ì»¤ë‹ˆì¦˜ì€ ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ í™˜ê²½ì—ì„œ ë°ì´í„° ë‚´êµ¬ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì´ ë©”ì»¤ë‹ˆì¦˜ì€ ë””ìŠ¤í¬ ì¥ì• , ì†ìƒëœ ë©”íƒ€ë°ì´í„°, ë¶ˆì™„ì „í•œ ì“°ê¸° ë“±ì„ ê°ì§€í•˜ê³  ìë™ìœ¼ë¡œ ë³µêµ¬í•©ë‹ˆë‹¤.\n\n## 1. íë§ í”„ë¡œì„¸ìŠ¤ ê°œìš”\n\níë§ì€ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¡œ ì§„í–‰ë©ë‹ˆë‹¤:\n\n```go\nfunc (er *erasureObjects) healObject(ctx context.Context, bucket, object, versionID string, opts madmin.HealOpts) (result madmin.HealResultItem, err error) {\n    // 1. ê°ì²´ ë©”íƒ€ë°ì´í„° ìˆ˜ì§‘\n    // 2. ê°ì²´ ì†ìƒ ì—¬ë¶€ í™•ì¸\n    // 3. í•„ìš”ì‹œ ë°ì´í„° ë³µêµ¬\n    // 4. ë³µêµ¬ëœ ë°ì´í„° ì¬ë°°í¬\n}\n```\n\n## 2. ì†ìƒ ê°ì§€ ë©”ì»¤ë‹ˆì¦˜\n\n### ë””ìŠ¤í¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§\n\nMinIOëŠ” ì§€ì†ì ìœ¼ë¡œ ë””ìŠ¤í¬ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤:\n\n```go\nfunc diskErrToDriveState(err error) (state string) {\n    if err == nil {\n        return madmin.DriveStateOk\n    }\n    switch {\n    case errors.Is(err, errDiskNotFound):\n        return madmin.DriveStateOffline\n    case errors.Is(err, errCorruptedFormat):\n        return madmin.DriveStateCorrupt\n    // ... ê¸°íƒ€ ìƒíƒœ í™•ì¸\n    }\n    return madmin.DriveStateUnknown\n}\n```\n\n### ê°ì²´ ë¬´ê²°ì„± í™•ì¸\n\n`checkObjectWithAllParts` í•¨ìˆ˜ëŠ” ê°ì²´ì˜ ëª¨ë“  ë¶€ë¶„ì´ ì˜¬ë°”ë¥´ê²Œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤:\n\n```go\nfunc checkObjectWithAllParts(ctx context.Context, onlineDisks []StorageAPI, partsMetadata []FileInfo,\n    errs []error, latestMeta FileInfo, filterByETag bool, bucket, object string,\n    scanMode madmin.HealScanMode) (dataErrsByDisk map[int][]int, dataErrsByPart map[int][]int) {\n    // ê° ë””ìŠ¤í¬ì—ì„œ ê°ì²´ ë¶€ë¶„ í™•ì¸\n    // ëˆ„ë½ë˜ê±°ë‚˜ ì†ìƒëœ ë¶€ë¶„ ì‹ë³„\n    // ë””ìŠ¤í¬ë³„, ë¶€ë¶„ë³„ ì˜¤ë¥˜ ë§¤í•‘\n}\n```\n\n## 3. íë§ ê²°ì • ë¡œì§\n\nMinIOëŠ” ë‹¤ìŒ ì¡°ê±´ì— ë”°ë¼ íë§ì´ í•„ìš”í•œì§€ ê²°ì •í•©ë‹ˆë‹¤:\n\n```go\nfunc shouldHealObjectOnDisk(erErr error, partsErrs []int, meta FileInfo, latestMeta FileInfo) (bool, bool, error) {\n    switch {\n    case erErr != nil:\n        // ë””ìŠ¤í¬ ì˜¤ë¥˜ ë°œìƒ ì‹œ íë§ í•„ìš”\n        return true, false, nil\n    case !meta.IsValid():\n        // ë©”íƒ€ë°ì´í„°ê°€ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš° íë§ í•„ìš”\n        return true, false, nil\n    case meta.XLV1:\n        // êµ¬ ë²„ì „ í˜•ì‹ì˜ ê²½ìš° ì—…ê·¸ë ˆì´ë“œ í•„ìš”\n        return true, false, nil\n    case meta.ModTime.Before(latestMeta.ModTime):\n        // ë©”íƒ€ë°ì´í„°ê°€ ìµœì‹ ì´ ì•„ë‹Œ ê²½ìš° íë§ í•„ìš”\n        return true, false, nil\n    // ... ê¸°íƒ€ ì¡°ê±´\n    }\n    \n    // ë°ì´í„° ë¶€ë¶„ ì†ìƒ í™•ì¸\n    for _, err := range partsErrs {\n        if err != 0 {\n            return true, false, nil\n        }\n    }\n    \n    return false, false, nil\n}\n```\n\n## 4. ë°ì´í„° ë³µêµ¬ ê³¼ì •\n\n### ì¿¼ëŸ¼ ê¸°ë°˜ ë°ì´í„° ë³µêµ¬\n\nMinIOëŠ” ì¶©ë¶„í•œ ìˆ˜ì˜ ì •ìƒ ë””ìŠ¤í¬ê°€ ìˆì„ ë•Œ ì†ìƒëœ ë°ì´í„°ë¥¼ ë³µêµ¬í•©ë‹ˆë‹¤:\n\n```go\nfunc (e Erasure) Heal(ctx context.Context, writers []io.Writer, readers []io.ReaderAt, totalLength int64, prefer []bool) (derr error) {\n    // ë³‘ë ¬ë¡œ ë°ì´í„° ë¸”ë¡ ì½ê¸°\n    // ë¦¬ë“œ-ì†”ë¡œëª¬ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ëˆ„ë½/ì†ìƒëœ ë¸”ë¡ ë³µêµ¬\n    // ë³µêµ¬ëœ ë°ì´í„°ë¥¼ í•´ë‹¹ ë””ìŠ¤í¬ì— ì“°ê¸°\n}\n```\n\n### ë©”íƒ€ë°ì´í„° ë³µêµ¬\n\nê°ì²´ ë©”íƒ€ë°ì´í„° ë³µêµ¬ëŠ” ë³„ë„ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤:\n\n```go\nfunc writeAllMetadata(ctx context.Context, disks []StorageAPI, origbucket, bucket, prefix string, files []FileInfo, quorum int) ([]StorageAPI, error) {\n    // ëª¨ë“  ë””ìŠ¤í¬ì— ë©”íƒ€ë°ì´í„° ì“°ê¸° ì‹œë„\n    // ì¿¼ëŸ¼ ì¶©ì¡± í™•ì¸\n}\n```\n\n## 5. ìë™ íë§ ìŠ¤ìºë„ˆ\n\nMinIOëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìŠ¤ìºë„ˆë¥¼ ì‹¤í–‰í•˜ì—¬ ì†ìƒëœ ê°ì²´ë¥¼ ì‹ë³„í•©ë‹ˆë‹¤:\n\n```go\nfunc (er erasureObjects) nsScanner(ctx context.Context, buckets []BucketInfo, wantCycle uint32, updates chan<- dataUsageCache, healScanMode madmin.HealScanMode) error {\n    // ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ìŠ¤ìº”\n    // ê°ì²´ ìƒíƒœ í™•ì¸\n    // í•„ìš”ì‹œ íë§ íì— ì¶”ê°€\n}\n```\n\n## 6. ëŒ•ê¸€ë§(Dangling) ê°ì²´ ì²˜ë¦¬\n\nëŒ•ê¸€ë§ ê°ì²´ëŠ” ë©”íƒ€ë°ì´í„°ëŠ” ìˆì§€ë§Œ ì‹¤ì œ ë°ì´í„°ê°€ ì—†ê±°ë‚˜ ë¶ˆì™„ì „í•œ ê°ì²´ì…ë‹ˆë‹¤:\n\n```go\nfunc isObjectDangling(metaArr []FileInfo, errs []error, dataErrsByPart map[int][]int) (validMeta FileInfo, ok bool) {\n    // ë©”íƒ€ë°ì´í„°ì™€ ì‹¤ì œ ë°ì´í„° ìƒíƒœ ë¹„êµ\n    // ë¶ˆì¼ì¹˜ ë°œê²¬ ì‹œ ëŒ•ê¸€ë§ ê°ì²´ë¡œ íŒë‹¨\n}\n```\n\nMinIOëŠ” ëŒ•ê¸€ë§ ê°ì²´ë¥¼ ê°ì§€í•˜ë©´ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ê±°ë‚˜ ë³µêµ¬í•©ë‹ˆë‹¤:\n\n```go\nfunc (er erasureObjects) deleteIfDangling(ctx context.Context, bucket, object string, metaArr []FileInfo, errs []error, dataErrsByPart map[int][]int, opts ObjectOptions) (FileInfo, error) {\n    // ëŒ•ê¸€ë§ ê°ì²´ ê°ì§€\n    // ë³µêµ¬ ê°€ëŠ¥ì„± í‰ê°€\n    // ë³µêµ¬ ë¶ˆê°€ëŠ¥í•˜ë©´ ì•ˆì „í•˜ê²Œ ì œê±°\n}\n```\n\n## 7. ì„±ëŠ¥ ìµœì í™”\n\n### ë³‘ë ¬ íë§\n\nì—¬ëŸ¬ ê°ì²´ì™€ ë””ìŠ¤í¬ë¥¼ ë™ì‹œì— íë§í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤:\n\n```go\nfunc (z *erasureServerPools) HealObjects(ctx context.Context, bucket, prefix string, opts madmin.HealOpts, healObjectFn HealObjectFn) error {\n    // ë³‘ë ¬ë¡œ ê°ì²´ ìŠ¤ìº”\n    // ë™ì‹œì— ì—¬ëŸ¬ ê°ì²´ íë§\n}\n```\n\n### íë§ ì¶”ì  ë° ë©”íŠ¸ë¦­\n\n```go\nfunc healTrace(funcName healingMetric, startTime time.Time, bucket, object string, opts *madmin.HealOpts, err error, result *madmin.HealResultItem) {\n    // íë§ ì‘ì—… ì¶”ì \n    // ì„±ëŠ¥ ë° ê²°ê³¼ ë©”íŠ¸ë¦­ ìˆ˜ì§‘\n}\n```\n\n## ê²°ë¡ \n\nMinIOì˜ íë§ ë©”ì»¤ë‹ˆì¦˜ì€ ë¶„ì‚° í™˜ê²½ì—ì„œ ë°ì´í„° ì¼ê´€ì„±ê³¼ ë‚´êµ¬ì„±ì„ ë³´ì¥í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ë””ìŠ¤í¬ ì˜¤ë¥˜, ë°ì´í„° ì†ìƒ, ë©”íƒ€ë°ì´í„° ë¶ˆì¼ì¹˜ ë“± ë‹¤ì–‘í•œ ì¥ì•  ìƒí™©ì„ ê°ì§€í•˜ê³ , ë¦¬ë“œ-ì†”ë¡œëª¬ ì´ë ˆì´ì € ì½”ë”©ì„ í†µí•´ ìë™ìœ¼ë¡œ ë³µêµ¬í•¨ìœ¼ë¡œì¨ ë°ì´í„° ì†ì‹¤ ì—†ì´ ì‹œìŠ¤í…œì´ ì§€ì†ì ìœ¼ë¡œ ì‘ë™í•˜ë„ë¡ í•©ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Distributed Systems",
    "tags": [],
    "readingTime": 4,
    "wordCount": 631,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "minioì˜-ì´ë ˆì´ì €-ì½”ë”©-êµ¬í˜„",
    "slug": "minioyi-ireijeo-koding-guhyeon",
    "path": "distributed-systems/minio",
    "fullPath": "distributed-systems/minio/minioyi-ireijeo-koding-guhyeon",
    "title": "MinIOì˜ ì´ë ˆì´ì € ì½”ë”© êµ¬í˜„",
    "excerpt": "MinIOì˜ ì´ë ˆì´ì € ì½”ë”© êµ¬í˜„ MinIOëŠ” ë¶„ì‚° ê°ì²´ ìŠ¤í† ë¦¬ì§€ ì‹œìŠ¤í…œìœ¼ë¡œ, ë°ì´í„° ë‚´êµ¬ì„±ê³¼ ê°€ìš©ì„±ì„ ìœ„í•´ ì´ë ˆì´ì € ì½”ë”©(Erasure Coding)ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì´ë ˆì´ì € ì½”ë”©ì€ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ì¡°ê°ìœ¼ë¡œ ë‚˜ëˆ„ê³  íŒ¨ë¦¬í‹° ì¡°ê°ì„ ì¶”ê°€í•˜ì—¬ ì¼ë¶€ ë””ìŠ¤í¬ ì†ì‹¤ì—ë„ ë°ì´...",
    "content": "# MinIOì˜ ì´ë ˆì´ì € ì½”ë”© êµ¬í˜„\n\nMinIOëŠ” ë¶„ì‚° ê°ì²´ ìŠ¤í† ë¦¬ì§€ ì‹œìŠ¤í…œìœ¼ë¡œ, ë°ì´í„° ë‚´êµ¬ì„±ê³¼ ê°€ìš©ì„±ì„ ìœ„í•´ ì´ë ˆì´ì € ì½”ë”©(Erasure Coding)ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì´ë ˆì´ì € ì½”ë”©ì€ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ì¡°ê°ìœ¼ë¡œ ë‚˜ëˆ„ê³  íŒ¨ë¦¬í‹° ì¡°ê°ì„ ì¶”ê°€í•˜ì—¬ ì¼ë¶€ ë””ìŠ¤í¬ ì†ì‹¤ì—ë„ ë°ì´í„°ë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\n## í•µì‹¬ êµ¬ì¡°\n\n### 1. êµ¬ì¡°ì²´ ê³„ì¸µ\n\n- **Erasure**: ì‹¤ì œ ì¸ì½”ë”©/ë””ì½”ë”©ì„ ìˆ˜í–‰í•˜ëŠ” ê¸°ë³¸ êµ¬ì¡°ì²´ (`erasure-coding.go`)\n  ```go\n  type Erasure struct {\n    encoder                  func() reedsolomon.Encoder\n    dataBlocks, parityBlocks int\n    blockSize                int64\n  }\n  ```\n\n- **erasureObjects**: ê°ì²´ ìŠ¤í† ë¦¬ì§€ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” êµ¬ì¡°ì²´ (`erasure.go`)\n  ```go\n  type erasureObjects struct {\n    setDriveCount      int\n    defaultParityCount int\n    setIndex           int\n    poolIndex          int\n    getDisks           func() []StorageAPI\n    // ...ê¸°íƒ€ í•„ë“œ\n  }\n  ```\n\n- **erasureSets**: ì—¬ëŸ¬ erasureObjects ì„¸íŠ¸ë¥¼ ê´€ë¦¬ (`erasure-sets.go`)\n\n- **erasureServerPools**: ì—¬ëŸ¬ erasureSets í’€ì„ ê´€ë¦¬í•˜ëŠ” ìµœìƒìœ„ ê³„ì¸µ (`erasure-server-pool.go`)\n\n### 2. ì½”ë”© ë©”ì»¤ë‹ˆì¦˜\n\nMinIOëŠ” Reed-Solomon ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ì´ë ˆì´ì € ì½”ë”©ì„ êµ¬í˜„í•©ë‹ˆë‹¤:\n\n```go\nfunc NewErasure(ctx context.Context, dataBlocks, parityBlocks int, blockSize int64) (e Erasure, err error) {\n  e = Erasure{\n    dataBlocks:   dataBlocks,\n    parityBlocks: parityBlocks,\n    blockSize:    blockSize,\n  }\n  e.encoder = func() reedsolomon.Encoder {\n    // Reed-Solomon ì¸ì½”ë” ì´ˆê¸°í™”\n    return encoder\n  }\n  return e, nil\n}\n```\n\n## ë°ì´í„° íë¦„\n\n### 1. ë°ì´í„° ì¸ì½”ë”© (ì“°ê¸°)\n\n`erasure-encode.go`ì˜ `Encode` ë©”ì„œë“œëŠ” ë°ì´í„°ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•©ë‹ˆë‹¤:\n\n1. ê°ì²´ ë°ì´í„°ë¥¼ ì²­í¬ë¡œ ë¶„í• \n2. ê° ì²­í¬ë¥¼ Reed-Solomon ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì¸ì½”ë”©í•˜ì—¬ ë°ì´í„° ë¸”ë¡ê³¼ íŒ¨ë¦¬í‹° ë¸”ë¡ ìƒì„±\n3. ë°ì´í„°ì™€ íŒ¨ë¦¬í‹° ë¸”ë¡ì„ ì—¬ëŸ¬ ë””ìŠ¤í¬ì— ë¶„ì‚° ì €ì¥\n\n```go\nfunc (e *Erasure) Encode(ctx context.Context, src io.Reader, writers []io.Writer, buf []byte, quorum int) (total int64, err error) {\n  // ë°ì´í„° ì½ê¸° ë° ì¸ì½”ë”©\n  blocks, err := e.EncodeData(ctx, buf[:n])\n  // ì¸ì½”ë”©ëœ ë¸”ë¡ì„ ì—¬ëŸ¬ ë””ìŠ¤í¬ì— ì“°ê¸°\n  err = writer.Write(ctx, blocks)\n}\n```\n\n### 2. ë°ì´í„° ë””ì½”ë”© (ì½ê¸°)\n\n`erasure-decode.go`ì˜ `Decode` ë©”ì„œë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë°ì´í„°ë¥¼ ë³µì›í•©ë‹ˆë‹¤:\n\n1. ì—¬ëŸ¬ ë””ìŠ¤í¬ì—ì„œ ë°ì´í„°ì™€ íŒ¨ë¦¬í‹° ë¸”ë¡ ì½ê¸°\n2. ì¼ë¶€ ë¸”ë¡ì´ ì†ìƒë˜ê±°ë‚˜ ëˆ„ë½ë˜ì—ˆì„ ê²½ìš° Reed-Solomon ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë³µêµ¬\n3. ì›ë³¸ ë°ì´í„° ì¬êµ¬ì„±\n\n```go\nfunc (e Erasure) Decode(ctx context.Context, writer io.Writer, readers []io.ReaderAt, offset, length, totalLength int64, prefer []bool) (written int64, err error) {\n  // ë³‘ë ¬ ì½ê¸°ë¡œ ë°ì´í„° ë¸”ë¡ ìˆ˜ì§‘\n  // í•„ìš”ì‹œ ë°ì´í„° ë³µêµ¬\n  // ì›ë³¸ ë°ì´í„° ì¬êµ¬ì„±í•˜ì—¬ writerì— ì“°ê¸°\n}\n```\n\n## ë‚´êµ¬ì„± ë©”ì»¤ë‹ˆì¦˜\n\n### 1. ì¿¼ëŸ¼ ê¸°ë°˜ ì‘ì—…\n\nMinIOëŠ” ì¿¼ëŸ¼ ê¸°ë°˜ ì ‘ê·¼ ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ ì½ê¸°/ì“°ê¸° ì‘ì—…ì˜ ë‚´êµ¬ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤:\n\n- **ì½ê¸° ì¿¼ëŸ¼(Read Quorum)**: ë°ì´í„° ë¸”ë¡ ìˆ˜ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì€ ë””ìŠ¤í¬ì—ì„œ ì½ê¸° ì„±ê³µ í•„ìš”\n  ```go\n  func (er erasureObjects) defaultRQuorum() int {\n    return er.setDriveCount - er.defaultParityCount\n  }\n  ```\n\n- **ì“°ê¸° ì¿¼ëŸ¼(Write Quorum)**: ë°ì´í„° ë¸”ë¡ + íŒ¨ë¦¬í‹° ë¸”ë¡ ìˆ˜ì—ì„œ íŒ¨ë¦¬í‹° ë¸”ë¡ ìˆ˜ë¥¼ ëº€ ê²ƒ\n  ```go\n  func (er erasureObjects) defaultWQuorum() int {\n    return er.setDriveCount - er.defaultParityCount\n  }\n  ```\n\n### 2. íë§(Healing) ë©”ì»¤ë‹ˆì¦˜\n\nMinIOëŠ” ìë™ìœ¼ë¡œ ì†ìƒëœ ë°ì´í„°ë¥¼ ê°ì§€í•˜ê³  ë³µêµ¬í•˜ëŠ” íë§ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤:\n\n```go\nfunc (er *erasureObjects) healObject(ctx context.Context, bucket, object, versionID string, opts madmin.HealOpts) (result madmin.HealResultItem, err error) {\n  // ê°ì²´ ìƒíƒœ í™•ì¸\n  // ì†ìƒëœ ë¶€ë¶„ ê°ì§€\n  // Reed-Solomon ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©í•˜ì—¬ ë³µêµ¬\n  // ë³µêµ¬ëœ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ë¶„ì‚° ì €ì¥\n}\n```\n\n## ê³ ê¸‰ ê¸°ëŠ¥\n\n### 1. ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ\n\nëŒ€ìš©ëŸ‰ ê°ì²´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì—…ë¡œë“œí•˜ê¸° ìœ„í•œ ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ ì§€ì›:\n\n```go\nfunc (er erasureObjects) PutObjectPart(ctx context.Context, bucket, object, uploadID string, partID int, r *PutObjReader, opts ObjectOptions) (pi PartInfo, err error) {\n  // íŒŒíŠ¸ ë°ì´í„°ë¥¼ ì´ë ˆì´ì € ì½”ë”©ìœ¼ë¡œ ì¸ì½”ë”©\n  // ì¸ì½”ë”©ëœ ì¡°ê°ì„ ë””ìŠ¤í¬ì— ì €ì¥\n}\n```\n\n### 2. ë””ìŠ¤í¬ í’€ ë¦¬ë°¸ëŸ°ì‹± ë° ë””ì»¤ë¯¸ì…”ë‹\n\n- **ë¦¬ë°¸ëŸ°ì‹±**: ë””ìŠ¤í¬ ê°„ ë°ì´í„° ì¬ë¶„ë°°\n- **ë””ì»¤ë¯¸ì…”ë‹**: í’€ì—ì„œ ë””ìŠ¤í¬ ì•ˆì „í•˜ê²Œ ì œê±°\n\n## ì„±ëŠ¥ ìµœì í™”\n\n1. **ë³‘ë ¬ I/O ì‘ì—…**: ë™ì‹œì— ì—¬ëŸ¬ ë””ìŠ¤í¬ì—ì„œ ì½ê¸°/ì“°ê¸° ìˆ˜í–‰\n2. **ë²„í¼ í’€ë§**: ë©”ëª¨ë¦¬ ì‚¬ìš© ìµœì í™”\n3. **ë¹„íŠ¸ë§µ ê¸°ë°˜ ë””ìŠ¤í¬ ìƒíƒœ ì¶”ì **: ë¹ ë¥¸ ë””ìŠ¤í¬ ìƒíƒœ í™•ì¸\n\n## ê²°ë¡ \n\nMinIOì˜ ì´ë ˆì´ì € ì½”ë”© êµ¬í˜„ì€ Reed-Solomon ì•Œê³ ë¦¬ì¦˜ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, ê³„ì¸µì  êµ¬ì¡°(serverPools > sets > objects)ë¥¼ í†µí•´ í™•ì¥ì„±ì„ ì œê³µí•©ë‹ˆë‹¤. ë°ì´í„° ë¸”ë¡ê³¼ íŒ¨ë¦¬í‹° ë¸”ë¡ì˜ ë¶„ì‚° ì €ì¥, ì¿¼ëŸ¼ ê¸°ë°˜ ì‘ì—…, ìë™ íë§ ê¸°ëŠ¥ìœ¼ë¡œ ë†’ì€ ë‚´êµ¬ì„±ê³¼ ê°€ìš©ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Distributed Systems",
    "tags": [],
    "readingTime": 3,
    "wordCount": 569,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "minioì˜-ì†ìƒ-ê°ì§€-ì•Œê³ ë¦¬ì¦˜",
    "slug": "minioyi-sonsang-gamji-algorijeum",
    "path": "distributed-systems/minio",
    "fullPath": "distributed-systems/minio/minioyi-sonsang-gamji-algorijeum",
    "title": "MinIOì˜ ì†ìƒ ê°ì§€ ì•Œê³ ë¦¬ì¦˜",
    "excerpt": "MinIOì˜ ì†ìƒ ê°ì§€ ì•Œê³ ë¦¬ì¦˜ MinIOëŠ” ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë°ì´í„° ì†ìƒì„ ê°ì§€í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ê³„ì¸µì˜ ê²€ì¦ ë©”ì»¤ë‹ˆì¦˜ì„ êµ¬í˜„í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ ì•Œê³ ë¦¬ì¦˜ë“¤ì€ ë©”íƒ€ë°ì´í„°ë¶€í„° ì‹¤ì œ ë°ì´í„° ë¸”ë¡ê¹Œì§€ ë‹¤ì–‘í•œ ìˆ˜ì¤€ì—ì„œ ì‘ë™í•©ë‹ˆë‹¤. ë©”íƒ€ë°ì´í„° ê²€ì¦ File...",
    "content": "# MinIOì˜ ì†ìƒ ê°ì§€ ì•Œê³ ë¦¬ì¦˜\n\nMinIOëŠ” ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë°ì´í„° ì†ìƒì„ ê°ì§€í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ê³„ì¸µì˜ ê²€ì¦ ë©”ì»¤ë‹ˆì¦˜ì„ êµ¬í˜„í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ ì•Œê³ ë¦¬ì¦˜ë“¤ì€ ë©”íƒ€ë°ì´í„°ë¶€í„° ì‹¤ì œ ë°ì´í„° ë¸”ë¡ê¹Œì§€ ë‹¤ì–‘í•œ ìˆ˜ì¤€ì—ì„œ ì‘ë™í•©ë‹ˆë‹¤.\n\n## 1. ë©”íƒ€ë°ì´í„° ê²€ì¦\n\n### FileInfo ìœ íš¨ì„± ê²€ì¦\n\n```go\nfunc (fi FileInfo) IsValid() bool {\n    if fi.Erasure.DataBlocks == 0 || fi.Erasure.ParityBlocks == 0 {\n        return false\n    }\n    if len(fi.Erasure.Distribution) != (fi.Erasure.DataBlocks + fi.Erasure.ParityBlocks) {\n        return false\n    }\n    for _, checksum := range fi.Parts {\n        if checksum.ETag == \"\" {\n            return false\n        }\n    }\n    return true\n}\n```\n\nì´ í•¨ìˆ˜ëŠ” ê°ì²´ì˜ ë©”íƒ€ë°ì´í„°ê°€ ìœ íš¨í•œì§€ ê²€ì‚¬í•©ë‹ˆë‹¤:\n- ë°ì´í„° ë¸”ë¡ê³¼ íŒ¨ë¦¬í‹° ë¸”ë¡ ìˆ˜ê°€ ì˜¬ë°”ë¥¸ì§€\n- ë¶„ì‚° íŒ¨í„´ì´ ì „ì²´ ë¸”ë¡ ìˆ˜ì™€ ì¼ì¹˜í•˜ëŠ”ì§€\n- ëª¨ë“  ë¶€ë¶„(íŒŒíŠ¸)ì´ ì²´í¬ì„¬ì„ ê°€ì§€ê³  ìˆëŠ”ì§€\n\n### ë²„ì „ ì¼ê´€ì„± ê²€ì‚¬\n\n```go\nfunc findFileInfoInQuorum(ctx context.Context, metaArr []FileInfo, modTime time.Time, etag string, quorum int) (FileInfo, error) {\n    // ë©”íƒ€ë°ì´í„° ë°°ì—´ì—ì„œ ì¿¼ëŸ¼ì„ ë§Œì¡±í•˜ëŠ” ì¼ê´€ëœ ë²„ì „ ì°¾ê¸°\n    // ì‹œê°„ ê¸°ë°˜ ê·¸ë£¹í™” ë° ë²„ì „ ë¹„êµ\n}\n```\n\nì´ í•¨ìˆ˜ëŠ” ì—¬ëŸ¬ ë””ìŠ¤í¬ì—ì„œ ìˆ˜ì§‘í•œ ë©”íƒ€ë°ì´í„°ë¥¼ ë¹„êµí•˜ì—¬ ì¿¼ëŸ¼ì„ ë§Œì¡±í•˜ëŠ” ì •í™•í•œ ë²„ì „ì„ ì°¾ìŠµë‹ˆë‹¤.\n\n## 2. ë°ì´í„° ë¸”ë¡ ê²€ì¦\n\n### ì²´í¬ì„¬ ê²€ì¦\n\nMinIOëŠ” ê° ë°ì´í„° ë¶€ë¶„ì— ëŒ€í•´ ETag(MD5 ì²´í¬ì„¬)ë¥¼ ì €ì¥í•˜ê³  ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ë¬´ê²°ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤:\n\n```go\nfunc (e ErasureInfo) GetChecksumInfo(partNumber int) (ckSum ChecksumInfo) {\n    // ì§€ì •ëœ íŒŒíŠ¸ ë²ˆí˜¸ì— ëŒ€í•œ ì²´í¬ì„¬ ì •ë³´ ê²€ìƒ‰\n}\n```\n\në°ì´í„°ë¥¼ ì½ì„ ë•Œ, ê³„ì‚°ëœ ì²´í¬ì„¬ê³¼ ì €ì¥ëœ ì²´í¬ì„¬ì„ ë¹„êµí•˜ì—¬ ì†ìƒ ì—¬ë¶€ë¥¼ ê°ì§€í•©ë‹ˆë‹¤.\n\n### ë¹„íŠ¸ë¡¯ ê²€ì¦\n\në¹„íŠ¸ë¡¯(Bitrot)ì€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë°œìƒí•˜ëŠ” ë°ì´í„° ì†ìƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. MinIOëŠ” ì´ë¥¼ ê°ì§€í•˜ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ í•´ì‹œ(ì˜ˆ: SHA-256, HighwayHash)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:\n\n```go\n// BitrotVerifier ì¸í„°í˜ì´ìŠ¤ëŠ” ë¹„íŠ¸ë¡¯ ê°ì§€ë¥¼ ìœ„í•œ ê²€ì¦ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µ\ntype BitrotVerifier interface {\n    // ë°ì´í„° ê²€ì¦ì„ ìœ„í•œ ë©”ì„œë“œ\n    Verify(buf []byte) error\n}\n```\n\n## 3. ê°ì²´ ë¶€ë¶„ ê²€ì¦\n\nì‹¤ì œ ë°ì´í„° ë¸”ë¡ì˜ ì¡´ì¬ì™€ ë¬´ê²°ì„±ì„ ê²€ì¦í•˜ëŠ” ê³¼ì •:\n\n```go\nfunc checkObjectWithAllParts(ctx context.Context, onlineDisks []StorageAPI, partsMetadata []FileInfo,\n    errs []error, latestMeta FileInfo, filterByETag bool, bucket, object string,\n    scanMode madmin.HealScanMode) (dataErrsByDisk map[int][]int, dataErrsByPart map[int][]int) {\n    \n    // ê²°ê³¼ ë§µ ì´ˆê¸°í™”\n    dataErrsByDisk = make(map[int][]int)\n    dataErrsByPart = make(map[int][]int)\n    \n    // ê° íŒŒíŠ¸ì— ëŒ€í•œ ìƒíƒœ í™•ì¸\n    for partIdx, partInfo := range latestMeta.Parts {\n        // ê° ë””ìŠ¤í¬ì—ì„œ íŒŒíŠ¸ ë°ì´í„° í™•ì¸\n        for diskIdx, disk := range onlineDisks {\n            if disk == nil {\n                // ë””ìŠ¤í¬ ì˜¤í”„ë¼ì¸\n                continue\n            }\n            \n            // íŒŒíŠ¸ ë°ì´í„° ìƒíƒœ í™•ì¸\n            partPath := filepath.Join(bucket, object, partInfo.ETag)\n            err := disk.CheckParts(ctx, partPath)\n            \n            if err != nil {\n                // ì˜¤ë¥˜ ê¸°ë¡\n                dataErrsByDisk[diskIdx] = append(dataErrsByDisk[diskIdx], partIdx)\n                dataErrsByPart[partIdx] = append(dataErrsByPart[partIdx], diskIdx)\n            }\n        }\n    }\n    \n    return dataErrsByDisk, dataErrsByPart\n}\n```\n\nì´ í•¨ìˆ˜ëŠ”:\n1. ê° ë””ìŠ¤í¬ì—ì„œ ê°ì²´ì˜ ëª¨ë“  ë¶€ë¶„ì„ í™•ì¸\n2. ëˆ„ë½ë˜ê±°ë‚˜ ì†ìƒëœ ë¶€ë¶„ì„ ì‹ë³„\n3. ë””ìŠ¤í¬ë³„, ë¶€ë¶„ë³„ë¡œ ì˜¤ë¥˜ë¥¼ ë§µí•‘í•˜ì—¬ ìƒì„¸í•œ ì†ìƒ ì •ë³´ ì œê³µ\n\n## 4. ì¿¼ëŸ¼ ê¸°ë°˜ ì†ìƒ ê°ì§€\n\nMinIOëŠ” ì¿¼ëŸ¼ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìˆ˜ê²° ì›ì¹™ìœ¼ë¡œ ì†ìƒì„ ê°ì§€í•©ë‹ˆë‹¤:\n\n```go\nfunc reduceReadQuorumErrs(ctx context.Context, errs []error, ignoredErrs []error, readQuorum int) (maxErr error) {\n    // ì˜¤ë¥˜ ìœ í˜•ë³„ ì¹´ìš´íŒ…\n    errCount := make(map[error]int)\n    for _, err := range errs {\n        if err != nil {\n            errCount[err]++\n        }\n    }\n    \n    // ì½ê¸° ì¿¼ëŸ¼ì´ ì¶©ì¡±ë˜ëŠ”ì§€ í™•ì¸\n    if len(errs) - len(errCount) >= readQuorum {\n        return nil // ì¿¼ëŸ¼ ì¶©ì¡±\n    }\n    \n    // ê°€ì¥ ë§ì´ ë°œìƒí•œ ì˜¤ë¥˜ ë°˜í™˜\n    maxCount := 0\n    for err, count := range errCount {\n        if count > maxCount {\n            maxCount = count\n            maxErr = err\n        }\n    }\n    \n    return maxErr\n}\n```\n\nì´ ì ‘ê·¼ ë°©ì‹ì€:\n1. í•„ìš”í•œ ìµœì†Œ ì¿¼ëŸ¼ ìˆ˜ì˜ ë””ìŠ¤í¬ê°€ ë™ì¼í•œ ë°ì´í„°ë¥¼ ê°€ì§ˆ ë•Œ í•´ë‹¹ ë°ì´í„°ê°€ ì •í™•í•˜ë‹¤ê³  íŒë‹¨\n2. ì¿¼ëŸ¼ì— ë¯¸ë‹¬í•˜ëŠ” ê²½ìš° ì†ìƒìœ¼ë¡œ ê°„ì£¼í•˜ê³  ë³µêµ¬ ì‹œë„\n\n## 5. ëŒ•ê¸€ë§ ê°ì²´ ê°ì§€\n\nì¼ê´€ì„± ì—†ëŠ” ìƒíƒœì˜ ê°ì²´ë¥¼ ê°ì§€í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜:\n\n```go\nfunc isObjectDangling(metaArr []FileInfo, errs []error, dataErrsByPart map[int][]int) (validMeta FileInfo, ok bool) {\n    // ìœ íš¨í•œ ë©”íƒ€ë°ì´í„° ì°¾ê¸°\n    for _, meta := range metaArr {\n        if meta.IsValid() {\n            validMeta = meta\n            break\n        }\n    }\n    \n    if !validMeta.IsValid() {\n        return FileInfo{}, false // ìœ íš¨í•œ ë©”íƒ€ë°ì´í„° ì—†ìŒ\n    }\n    \n    // ë°ì´í„° íŒŒíŠ¸ì˜ ìƒíƒœ í™•ì¸\n    for partIdx, errDisks := range dataErrsByPart {\n        // ì†ìƒëœ ë””ìŠ¤í¬ ìˆ˜ ê³„ì‚°\n        notFoundCount, nonActionableCount := danglingPartErrsCount(errDisks)\n        \n        // ì„ê³„ê°’ ì´ˆê³¼ ì‹œ ëŒ•ê¸€ë§ìœ¼ë¡œ ê°„ì£¼\n        if notFoundCount > (len(metaArr) / 2) {\n            return validMeta, true\n        }\n    }\n    \n    return FileInfo{}, false\n}\n```\n\nì´ í•¨ìˆ˜ëŠ”:\n1. ìœ íš¨í•œ ë©”íƒ€ë°ì´í„° ì¡´ì¬ ì—¬ë¶€ í™•ì¸\n2. ì‹¤ì œ ë°ì´í„° íŒŒíŠ¸ì˜ ìƒíƒœì™€ ë©”íƒ€ë°ì´í„° ì¼ì¹˜ ì—¬ë¶€ í™•ì¸\n3. ëŒ€ë‹¤ìˆ˜ì˜ ë””ìŠ¤í¬ì—ì„œ ë°ì´í„°ê°€ ëˆ„ë½ëœ ê²½ìš° ëŒ•ê¸€ë§ ê°ì²´ë¡œ íŒë‹¨\n\n## 6. ë””ìŠ¤í¬ ìƒíƒœ ê°ì§€\n\në””ìŠ¤í¬ ìì²´ì˜ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜:\n\n```go\nfunc diskErrToDriveState(err error) (state string) {\n    if err == nil {\n        return madmin.DriveStateOk\n    }\n    \n    switch {\n    case errors.Is(err, errDiskNotFound):\n        return madmin.DriveStateOffline\n    case errors.Is(err, errCorruptedFormat):\n        return madmin.DriveStateCorrupt\n    case errors.Is(err, errUnformattedDisk):\n        return madmin.DriveStateUnformatted\n    case errors.Is(err, errDiskAccessDenied):\n        return madmin.DriveStatePermission\n    case errors.Is(err, errFaultyDisk):\n        return madmin.DriveStateFaulty\n    case errors.Is(err, errDiskFull):\n        return madmin.DriveStateFull\n    }\n    \n    return madmin.DriveStateUnknown\n}\n```\n\nì´ í•¨ìˆ˜ëŠ” ë””ìŠ¤í¬ ì ‘ê·¼ ì‹œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ ìœ í˜•ì„ ë¶„ì„í•˜ì—¬ ë””ìŠ¤í¬ ìƒíƒœë¥¼ íŒë‹¨í•©ë‹ˆë‹¤.\n\n## ê²°ë¡ \n\nMinIOì˜ ì†ìƒ ê°ì§€ ì•Œê³ ë¦¬ì¦˜ì€ ì—¬ëŸ¬ ê³„ì¸µì—ì„œ ì‘ë™í•©ë‹ˆë‹¤:\n\n1. **ë©”íƒ€ë°ì´í„° ìˆ˜ì¤€**: êµ¬ì¡° ìœ íš¨ì„±, ë²„ì „ ì¼ê´€ì„± ê²€ì¦\n2. **ë°ì´í„° ë¸”ë¡ ìˆ˜ì¤€**: ì²´í¬ì„¬, ë¹„íŠ¸ë¡¯ ê²€ì¦\n3. **ê°ì²´ ë¶€ë¶„ ìˆ˜ì¤€**: ê° ë¶€ë¶„ì˜ ì¡´ì¬ ë° ë¬´ê²°ì„± í™•ì¸\n4. **ì¿¼ëŸ¼ ê¸°ë°˜ ê²€ì¦**: ë‹¤ìˆ˜ê²° ì›ì¹™ìœ¼ë¡œ ì†ìƒ ì—¬ë¶€ íŒë‹¨\n5. **ëŒ•ê¸€ë§ ê°ì²´ ê°ì§€**: ë©”íƒ€ë°ì´í„°ì™€ ì‹¤ì œ ë°ì´í„° ê°„ ì¼ê´€ì„± í™•ì¸\n6. **ë””ìŠ¤í¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§**: ë””ìŠ¤í¬ ìì²´ì˜ ê±´ê°• ìƒíƒœ í‰ê°€\n\nì´ëŸ¬í•œ ë‹¤ì¸µì  ì ‘ê·¼ ë°©ì‹ìœ¼ë¡œ MinIOëŠ” ë¶„ì‚° í™˜ê²½ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ìœ í˜•ì˜ ë°ì´í„° ì†ìƒì„ íš¨ê³¼ì ìœ¼ë¡œ ê°ì§€í•˜ê³  ë³µêµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    "docType": "original",
    "category": "Distributed Systems",
    "tags": [],
    "readingTime": 5,
    "wordCount": 802,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ì£¼ìš”-êµ¬í˜„-ë‚´ìš©",
    "slug": "juyo-guhyeon-naeyong",
    "path": "distributed-systems/erasure-coding",
    "fullPath": "distributed-systems/erasure-coding/juyo-guhyeon-naeyong",
    "title": "ì£¼ìš” êµ¬í˜„ ë‚´ìš©",
    "excerpt": "Ceph erasure-code ì£¼ìš” êµ¬í˜„ ë‚´ìš© í•µì‹¬ ì¸í„°í˜ì´ìŠ¤ (ErasureCodeInterface) ëª©ì : ëª¨ë“  ì´ë ˆì´ì € ì½”ë“œ êµ¬í˜„ì˜ í‘œì¤€í™”ëœ API ì œê³µ ì£¼ìš” ë©”ì„œë“œ: : í”„ë¡œíŒŒì¼ì— ë”°ë¼ ì½”ë“œ ì´ˆê¸°...",
    "content": "## Ceph erasure-code ì£¼ìš” êµ¬í˜„ ë‚´ìš©\n\n### 1. í•µì‹¬ ì¸í„°í˜ì´ìŠ¤ (ErasureCodeInterface)\n- **ëª©ì **: ëª¨ë“  ì´ë ˆì´ì € ì½”ë“œ êµ¬í˜„ì˜ í‘œì¤€í™”ëœ API ì œê³µ\n- **ì£¼ìš” ë©”ì„œë“œ**:\n  - `init()`: í”„ë¡œíŒŒì¼ì— ë”°ë¼ ì½”ë“œ ì´ˆê¸°í™”\n  - `encode()`: ë°ì´í„°ë¥¼ ì²­í¬ë¡œ ì¸ì½”ë”©\n  - `decode()`: ì²­í¬ì—ì„œ ì›ë³¸ ë°ì´í„° ë³µêµ¬\n  - `minimum_to_decode_with_cost()`: ìµœì†Œ ë¹„ìš©ìœ¼ë¡œ ë³µêµ¬ ê°€ëŠ¥í•œ ì²­í¬ ì„¸íŠ¸ ê²°ì •\n\n### 2. ê¸°ë³¸ êµ¬í˜„ (ErasureCode)\n- **ì—­í• **: ê³µí†µ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤\n- **ê¸°ëŠ¥**:\n  - CRUSH ê·œì¹™ ìƒì„±\n  - ì²­í¬ ë§¤í•‘ ê´€ë¦¬\n  - ë””ì½”ë”©ì„ ìœ„í•œ ìµœì†Œ ì²­í¬ ì„¸íŠ¸ ê³„ì‚°\n  - ê¸°ë³¸ì ì¸ ì¸ì½”ë”©/ë””ì½”ë”© ì›Œí¬í”Œë¡œìš°\n\n### 3. í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ (ErasureCodePlugin)\n- **êµ¬ì¡°**: ë™ì  ë¡œë”© ê°€ëŠ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ êµ¬ì¡°\n- **ê´€ë¦¬**: `ErasureCodePluginRegistry`ê°€ í”ŒëŸ¬ê·¸ì¸ ë¡œë”©, ì´ˆê¸°í™”, ê´€ë¦¬\n- **í™•ì¥ì„±**: ìƒˆë¡œìš´ ì•Œê³ ë¦¬ì¦˜ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥\n\n### 4. ì£¼ìš” ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„\n\n#### Jerasure\n- **íŠ¹ì§•**: ë‹¤ì–‘í•œ ì´ë ˆì´ì € ì½”ë“œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„(Reed-Solomon, Cauchy ë“±)\n- **ìµœì í™”**: SSE, NEON ë“± í•˜ë“œì›¨ì–´ ê°€ì† ì§€ì›\n- **í•˜ìœ„ ë¼ì´ë¸ŒëŸ¬ë¦¬**: \n  - `jerasure`: ì½”ì–´ ì´ë ˆì´ì € ì½”ë”© ê¸°ëŠ¥\n  - `gf-complete`: ìœ í•œì²´(Galois Field) ì—°ì‚° ìµœì í™”\n\n#### LRC (Local Reconstruction Codes)\n- **ëª©ì **: ì§€ì—­ì  ë³µêµ¬ë¥¼ í†µí•œ ì„±ëŠ¥ í–¥ìƒ\n- **ë™ì‘**: \n  - ì „ì—­ íŒ¨ë¦¬í‹°ì™€ ì§€ì—­ íŒ¨ë¦¬í‹° ëª¨ë‘ ìƒì„±\n  - ë‹¨ì¼ ë””ìŠ¤í¬ ì˜¤ë¥˜ëŠ” ë¡œì»¬ íŒ¨ë¦¬í‹°ë§Œìœ¼ë¡œ ë¹ ë¥´ê²Œ ë³µêµ¬\n  - ì‹¬ê°í•œ ì˜¤ë¥˜ëŠ” ì „ì—­ íŒ¨ë¦¬í‹°ë¡œ ë³µêµ¬\n\n#### SHEC (Shingled Erasure Code)\n- **íŠ¹ì§•**: ë³µêµ¬ ëŒ€ì—­í­ ìµœì í™”\n- **êµ¬í˜„**: ì¤‘ì²©ëœ(shingled) íŒ¨ë¦¬í‹° êµ¬ì¡°ë¡œ ë” íš¨ìœ¨ì ì¸ ë³µêµ¬\n\n#### ISA (Intel Storage Acceleration)\n- **íŠ¹ì§•**: ì¸í…” ISA-L ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©\n- **ìµœì í™”**: AVX, AVX2 ëª…ë ¹ì–´ í™œìš©í•œ ê³ ì„±ëŠ¥ êµ¬í˜„\n- **ì¡°ê±´ë¶€ ì»´íŒŒì¼**: í•˜ë“œì›¨ì–´ ì§€ì› ì—¬ë¶€ì— ë”°ë¼ ì»´íŒŒì¼ íƒ€ì„ì— ê²°ì •\n\n#### CLAY (Coupled-Layer)\n- **íŠ¹ì§•**: ìµœì†Œ ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©ìœ¼ë¡œ ìµœì  ë³µêµ¬\n- **êµ¬í˜„**: ê³„ì¸µì  ì¸ì½”ë”© êµ¬ì¡°\n\n### 5. êµ¬í˜„ ì„¸ë¶€ì‚¬í•­\n- **ì²­í¬ ì •ë ¬**: SIMD ì—°ì‚°ì„ ìœ„í•œ ë©”ëª¨ë¦¬ ì •ë ¬ (SIMD_ALIGN = 64ë°”ì´íŠ¸)\n- **í”„ë¡œíŒŒì¼ ê´€ë¦¬**: í‚¤-ê°’ í˜•íƒœë¡œ ì½”ë”© íŒŒë¼ë¯¸í„° ê´€ë¦¬\n- **ì‹œìŠ¤í…œ í†µí•©**: CRUSH ë§µê³¼ í†µí•©í•˜ì—¬ ë°ì´í„° ë°°ì¹˜ ê´€ë¦¬\n- **ì„±ëŠ¥ ìµœì í™”**: \n  - í•˜ìœ„ ì²­í¬(sub-chunks) ì§€ì›ìœ¼ë¡œ ì„¸ë°€í•œ ë°ì´í„° ë°°ì¹˜\n  - ë¹„ìš© ê¸°ë°˜ ì²­í¬ ì„ íƒ ì•Œê³ ë¦¬ì¦˜\n\n### 6. ë¹Œë“œ ì‹œìŠ¤í…œ (CMakeLists.txt)\n- **í”ŒëŸ¬ê·¸ì¸ êµ¬ì„±**: ê° ì•Œê³ ë¦¬ì¦˜ì€ ë³„ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë¹Œë“œ\n- **ì¡°ê±´ë¶€ ì»´íŒŒì¼**: í•˜ë“œì›¨ì–´ ê¸°ëŠ¥(SIMD, AVX ë“±)ì— ë”°ë¥¸ ìµœì í™” ë²„ì „ ì„ íƒ\n- **ì¢…ì†ì„± ê´€ë¦¬**: ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í†µí•©",
    "docType": "original",
    "category": "Distributed Systems",
    "tags": [],
    "readingTime": 2,
    "wordCount": 324,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ìš©ì–´-ì •ë¦¬",
    "slug": "yongeo-jeongri",
    "path": "distributed-systems/erasure-coding",
    "fullPath": "distributed-systems/erasure-coding/yongeo-jeongri",
    "title": "ìš©ì–´ ì •ë¦¬",
    "excerpt": "ì´ë ˆì´ì € ì½”ë”© ìš©ì–´ ì •ë¦¬ ê¸°ë³¸ ê°œë…: ì´ë ˆì´ì € ì½”ë”©(Erasure Coding): ë°ì´í„° ì¤‘ ì¼ë¶€ê°€ ì†ì‹¤ë˜ë”ë¼ë„ ë³µêµ¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ìˆ  ì²­í¬(Chunk): ë°ì´í„°ë¥¼ ë¶„í• í•œ ë‹¨ìœ„, ê° ì²­í¬ëŠ” ë³„ë„ì˜ ì €ì¥ì†Œì— ë¶„ì‚° ì €ì¥ë¨ -...",
    "content": "## ì´ë ˆì´ì € ì½”ë”© ìš©ì–´ ì •ë¦¬\n\n**ê¸°ë³¸ ê°œë…:**\n- **ì´ë ˆì´ì € ì½”ë”©(Erasure Coding)**: ë°ì´í„° ì¤‘ ì¼ë¶€ê°€ ì†ì‹¤ë˜ë”ë¼ë„ ë³µêµ¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ìˆ \n- **ì²­í¬(Chunk)**: ë°ì´í„°ë¥¼ ë¶„í• í•œ ë‹¨ìœ„, ê° ì²­í¬ëŠ” ë³„ë„ì˜ ì €ì¥ì†Œì— ë¶„ì‚° ì €ì¥ë¨\n- **ë°ì´í„° ì²­í¬(Data Chunk)**: ì›ë³¸ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì²­í¬\n- **ì½”ë”© ì²­í¬/íŒ¨ë¦¬í‹° ì²­í¬(Coding/Parity Chunk)**: ë°ì´í„° ë³µêµ¬ì— ì‚¬ìš©ë˜ëŠ” ì¶”ê°€ ì •ë³´ë¥¼ ë‹´ì€ ì²­í¬\n\n**ì½”ë”© ë§¤ê°œë³€ìˆ˜:**\n- **K**: ë°ì´í„° ì²­í¬ì˜ ìˆ˜\n- **M**: ì½”ë”©/íŒ¨ë¦¬í‹° ì²­í¬ì˜ ìˆ˜\n- **K+M**: ì´ ì²­í¬ ìˆ˜ë¡œ, ì‹œìŠ¤í…œì´ ìµœëŒ€ Mê°œì˜ ì²­í¬ ì†ì‹¤ê¹Œì§€ ê²¬ë”œ ìˆ˜ ìˆìŒ\n\n**ì•Œê³ ë¦¬ì¦˜:**\n- **Reed-Solomon**: ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì´ë ˆì´ì € ì½”ë”© ì•Œê³ ë¦¬ì¦˜, ì–´ë–¤ Kê°œì˜ ì²­í¬ë¡œë„ ì›ë³¸ ë°ì´í„° ë³µêµ¬ ê°€ëŠ¥\n- **LRC(Local Reconstruction Codes)**: ì¼ë¶€ ë°ì´í„°ëŠ” ë¡œì»¬ íŒ¨ë¦¬í‹°ë¡œ ë¹ ë¥´ê²Œ ë³µêµ¬í•˜ë„ë¡ ìµœì í™”ëœ ì½”ë“œ\n- **SHEC(Shingled Erasure Code)**: ë³µêµ¬ ì„±ëŠ¥ì„ ê°œì„ í•œ ì½”ë“œ\n- **CLAY(Coupled-Layer)**: ë³µêµ¬ ì‹œ ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©ëŸ‰ì„ ìµœì†Œí™”í•˜ëŠ” ìµœì  ë³µêµ¬ ì½”ë“œ\n\n**Ceph ê´€ë ¨ ìš©ì–´:**\n- **í”ŒëŸ¬ê·¸ì¸(Plugin)**: ë‹¤ì–‘í•œ ì´ë ˆì´ì € ì½”ë”© ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•œ ëª¨ë“ˆ\n- **CRUSH**: Cephì˜ ë°ì´í„° ë°°ì¹˜ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ, ë°ì´í„°ë¥¼ ë¬¼ë¦¬ì  ì¥ì¹˜ì— ë¶„ì‚° ë°°ì¹˜\n- **CRUSH ê·œì¹™(Rule)**: ë°ì´í„° ë°°ì¹˜ ì •ì±…ì„ ì •ì˜\n- **ì‹¤íŒ¨ ë„ë©”ì¸(Failure Domain)**: í•¨ê»˜ ì‹¤íŒ¨í•  ìˆ˜ ìˆëŠ” êµ¬ì„± ìš”ì†Œ ì§‘í•©(ì˜ˆ: ë™, í˜¸ìŠ¤íŠ¸)\n\n**ì„±ëŠ¥ ê´€ë ¨ ìš©ì–´:**\n- **ì¸ì½”ë”©(Encoding)**: ì›ë³¸ ë°ì´í„°ë¥¼ ë°ì´í„° ì²­í¬ì™€ ì½”ë”© ì²­í¬ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •\n- **ë””ì½”ë”©(Decoding)**: ì‚¬ìš© ê°€ëŠ¥í•œ ì²­í¬ì—ì„œ ì›ë³¸ ë°ì´í„°ë¥¼ ë³µêµ¬í•˜ëŠ” ê³¼ì •\n- **ìŠ¤íŠ¸ë¼ì´í”„(Stripe)**: í•¨ê»˜ ì¸ì½”ë”©ë˜ëŠ” ë°ì´í„° ì§‘í•©\n- **ìµœì†Œ ë³µêµ¬ ì§‘í•©(Minimum Recovery Set)**: ë°ì´í„° ë³µêµ¬ì— í•„ìš”í•œ ìµœì†Œ ì²­í¬ ì§‘í•©",
    "docType": "original",
    "category": "Distributed Systems",
    "tags": [],
    "readingTime": 2,
    "wordCount": 205,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ë¦¬ë“œ-ì†”ë¡œëª¬-ì½”ë“œì˜-ìˆ˜í•™ì -ì›ë¦¬",
    "slug": "rideu-solromon-kodeuyi-suhagjeog-weonri",
    "path": "distributed-systems/erasure-coding",
    "fullPath": "distributed-systems/erasure-coding/rideu-solromon-kodeuyi-suhagjeog-weonri",
    "title": "ë¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œì˜ ìˆ˜í•™ì  ì›ë¦¬",
    "excerpt": "ë¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œì˜ ìˆ˜í•™ì  ì›ë¦¬ ê°œìš” ë¦¬ë“œ-ì†”ë¡œëª¬(Reed-Solomon) ì½”ë“œëŠ” ë°ì´í„° ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê³  ì˜¤ë¥˜ ì •ì •ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê°•ë ¥í•œ ì˜¤ë¥˜ ìˆ˜ì • ì½”ë“œ(Error Correction Code, ECC)ì´ë‹¤. ë³¸ ë¬¸ì„œì—ì„œëŠ” ë¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œì˜ í•µì‹¬...",
    "content": "# ë¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œì˜ ìˆ˜í•™ì  ì›ë¦¬\n\n## 1. ê°œìš”\në¦¬ë“œ-ì†”ë¡œëª¬(Reed-Solomon) ì½”ë“œëŠ” ë°ì´í„° ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê³  ì˜¤ë¥˜ ì •ì •ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê°•ë ¥í•œ ì˜¤ë¥˜ ìˆ˜ì • ì½”ë“œ(Error Correction Code, ECC)ì´ë‹¤. ë³¸ ë¬¸ì„œì—ì„œëŠ” ë¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œì˜ í•µì‹¬ ì›ë¦¬ì¸ ë‹¤í•­ì‹ í‘œí˜„ê³¼ ê°ˆë£¨ì•„ í•„ë“œ(Galois Field, GF)ë¥¼ í™œìš©í•œ ì—°ì‚° ê³¼ì •ì„ ì„¤ëª…í•œë‹¤.\n\n---\n\n## 2. ë‹¤í•­ì‹ì„ ì´ìš©í•œ ë°ì´í„° í‘œí˜„\në¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œëŠ” ë°ì´í„°ë¥¼ ë‹¤í•­ì‹(polynomial)ì˜ ê³„ìˆ˜ë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥í•œë‹¤. ì´ëŠ” ì¼ë¶€ ë°ì´í„°ê°€ ì†ì‹¤ë˜ë”ë¼ë„ ë‚¨ì•„ ìˆëŠ” ë°ì´í„°ë¡œ ì›ë³¸ ë‹¤í•­ì‹ì„ ë³µêµ¬í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•¨ì´ë‹¤.\n\n### 2.1 ë‹¤í•­ì‹ í‘œí˜„\nì£¼ì–´ì§„ ë°ì´í„° $d_0, d_1, \\dots, d_{k-1}$ ë¥¼ ê³„ìˆ˜ë¡œ í•˜ëŠ” ë‹¤í•­ì‹ $P(x)$ ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.\n\n$$\nP(x) = d_0 + d_1 x + d_2 x^2 + \\dots + d_{k-1} x^{k-1}\n$$\n\nì´ ë‹¤í•­ì‹ì„ í†µí•´ íŠ¹ì •í•œ $x$ ê°’ì—ì„œ í‰ê°€(evaluation)í•œ ê°’ì´ ë°ì´í„° ì¡°ê°ì´ ëœë‹¤.\n\n### 2.2 ë°ì´í„° ìƒ˜í”Œë§\në°ì´í„° ìƒ˜í”Œë§ ê³¼ì •ì—ì„œëŠ” íŠ¹ì •í•œ $x$ ê°’ì—ì„œ ë‹¤í•­ì‹ì„ í‰ê°€í•˜ì—¬ ë°ì´í„°ë¥¼ ìƒì„±í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ, $x$ ê°’ì€ ì„œë¡œ ë‹¤ë¥¸ ì •ìˆ˜ ë˜ëŠ” ìœ í•œì²´ ê°’ìœ¼ë¡œ ì„¤ì •ëœë‹¤.\n\nìƒ˜í”Œë§í•œ ë°ì´í„° í¬ì¸íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„ë  ìˆ˜ ìˆë‹¤:\n\n$$\n(x_0, P(x_0)), (x_1, P(x_1)), \\dots, (x_{k-1}, P(x_{k-1)})\n$$\n\nì—¬ê¸°ì„œ ê° $P(x_i)$ ê°’ì´ ì›ë³¸ ë°ì´í„°ì˜ ì¡°ê°ì´ ëœë‹¤.\n\n---\n\n## 3. ê°ˆë£¨ì•„ í•„ë“œ(Galois Field, GF)\në¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œì—ì„œëŠ” ì •ìˆ˜ ë˜ëŠ” ì‹¤ìˆ˜ ì—°ì‚°ì´ ì•„ë‹ˆë¼ **ìœ í•œì²´(Galois Field, GF)** ìœ„ì—ì„œ ì—°ì‚°ì„ ìˆ˜í–‰í•œë‹¤. ìœ í•œì²´ë¥¼ ì‚¬ìš©í•˜ë©´ ë°ì´í„° í¬ê¸°ë¥¼ ì¼ì •í•˜ê²Œ ìœ ì§€í•˜ë©´ì„œë„ ì˜¤ë¥˜ ì •ì •ì„ íš¨ê³¼ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\n\n### 3.1 $GF(2^m)$ ì—°ì‚°\në¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìœ í•œì²´ëŠ” $GF(2^m)$ ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, $GF(2^8)$ ëŠ” 256ê°œì˜ ì›ì†Œ(0ë¶€í„° 255ê¹Œì§€ì˜ ìˆ«ì)ë¡œ êµ¬ì„±ë˜ë©°, 8ë¹„íŠ¸ ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. $GF(2^m)$ ì—ì„œëŠ” ë§ì…ˆê³¼ ê³±ì…ˆ ì—°ì‚°ì´ ëª¨ë“ˆëŸ¬ ì—°ì‚°ì„ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜í–‰ëœë‹¤.\n\n- **ë§ì…ˆ**: $GF(2^m)$ì—ì„œëŠ” ë¹„íŠ¸ ë‹¨ìœ„ XOR ì—°ì‚°ì„ ìˆ˜í–‰í•œë‹¤.\n- **ê³±ì…ˆ**: ë‹¤í•­ì‹ ê³±ì…ˆì„ ìˆ˜í–‰í•œ í›„ íŠ¹ì •í•œ **ì›ì‹œ ë‹¤í•­ì‹(primitive polynomial)** ë¡œ ë‚˜ëˆˆë‹¤.\n\nì´ëŸ¬í•œ ì—°ì‚°ì„ ì‚¬ìš©í•˜ë©´, ìœ í•œì²´ ë‚´ì—ì„œ í•­ìƒ ì¼ì •í•œ í¬ê¸°ì˜ ìˆ«ìë¥¼ ìœ ì§€í•˜ë©´ì„œë„ ì˜¤ë¥˜ ì •ì •ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\n\n---\n\n## 4. íŒ¨ë¦¬í‹° ë°ì´í„° ìƒì„±\në¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œì—ì„œëŠ” ì›ë³¸ ë°ì´í„° $k$ ê°œë¥¼ ê¸°ë°˜ìœ¼ë¡œ $r$ ê°œì˜ íŒ¨ë¦¬í‹° ë°ì´í„°ë¥¼ ìƒì„±í•˜ì—¬ ì´ $n = k + r$ ê°œì˜ ë°ì´í„° ì¡°ê°ì„ ì €ì¥í•œë‹¤.\n\n### 4.1 íŒ¨ë¦¬í‹° ìƒì„± ë°©ì‹\nìƒˆë¡œìš´ íŒ¨ë¦¬í‹° ë°ì´í„°ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ê¸°ì¡´ ë°ì´í„° í¬ì¸íŠ¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒˆë¡œìš´ $x$ ìœ„ì¹˜ì—ì„œ ë‹¤í•­ì‹ì„ í‰ê°€í•œë‹¤.\n\n1. $k$ ê°œì˜ ì›ë³¸ ë°ì´í„° í¬ì¸íŠ¸ë¥¼ ì´ìš©í•˜ì—¬ ë‹¤í•­ì‹ $P(x)$ ë¥¼ ìƒì„±í•œë‹¤.\n2. ìƒˆë¡œìš´ ìœ„ì¹˜ $x_k, x_{k+1}, \\dots, x_{k+r-1}$ ì—ì„œ ë‹¤í•­ì‹ì„ í‰ê°€í•˜ì—¬ íŒ¨ë¦¬í‹° ë°ì´í„°ë¥¼ ìƒì„±í•œë‹¤.\n3. ìƒì„±ëœ íŒ¨ë¦¬í‹° ë°ì´í„°ë¥¼ ì›ë³¸ ë°ì´í„°ì™€ í•¨ê»˜ ì €ì¥í•œë‹¤.\n\níŒ¨ë¦¬í‹° ë°ì´í„°ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤:\n\n$$\nP(x_k), P(x_{k+1}), \\dots, P(x_{k+r-1})\n$$\n\nì´ë¥¼ í†µí•´ ì¼ë¶€ ë°ì´í„°ê°€ ì†ì‹¤ë˜ë”ë¼ë„ ë‹¤í•­ì‹ ë³µì›ì„ í†µí•´ ì›ë³¸ ë°ì´í„°ë¥¼ ì¬êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.\n\n---\n\n## 5. ì†ì‹¤ ë°ì´í„° ë³µêµ¬\në°ì´í„° ì¼ë¶€ê°€ ì†ì‹¤ë˜ì—ˆì„ ë•Œ, ë¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œì—ì„œëŠ” **ë¼ê·¸ë‘ì£¼ ë³´ê°„ë²•(Lagrange Interpolation)** ì„ ì´ìš©í•˜ì—¬ ì›ë˜ ë‹¤í•­ì‹ì„ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤.\n\n### 5.1 ë¼ê·¸ë‘ì£¼ ë³´ê°„ë²•ì„ ì´ìš©í•œ ë³µêµ¬\në‚¨ì•„ ìˆëŠ” $k$ ê°œ ì´ìƒì˜ ë°ì´í„° í¬ì¸íŠ¸ë¥¼ ì´ìš©í•˜ì—¬ ì›ë˜ ë‹¤í•­ì‹ì„ ì¬êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. ë¼ê·¸ë‘ì£¼ ë³´ê°„ë²•ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì›ë³¸ ë‹¤í•­ì‹ì„ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤.\n\n$$\nP(x) = \\sum_{i=0}^{k-1} P(x_i) \\cdot l_i(x)\n$$\n\nì—¬ê¸°ì„œ $l_i(x)$ ëŠ” ë¼ê·¸ë‘ì£¼ ê¸°ë³¸ ë‹¤í•­ì‹ìœ¼ë¡œ ì •ì˜ëœë‹¤:\n\n$$\nl_i(x) = \\prod_{j \\neq i} \\frac{x - x_j}{x_i - x_j}\n$$\n\nì´ ë³´ê°„ë²•ì„ í†µí•´ ì†ì‹¤ëœ ë°ì´í„° í¬ì¸íŠ¸ë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤. ì¦‰, $k$ ê°œ ì´ìƒì˜ ë°ì´í„° ì¡°ê°ì´ ë‚¨ì•„ ìˆë‹¤ë©´ ì†ì‹¤ëœ ë°ì´í„°ë„ ë³µêµ¬ê°€ ê°€ëŠ¥í•˜ë‹¤.\n\n---\n\n## 6. ê²°ë¡ \në¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œëŠ” ë‹¤í•­ì‹ í‘œí˜„ê³¼ ê°ˆë£¨ì•„ í•„ë“œ ì—°ì‚°ì„ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„° ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ëŠ” ì˜¤ë¥˜ ì •ì • ê¸°ë²•ì´ë‹¤. ì´ë¥¼ í†µí•´ ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì´ ì œê³µëœë‹¤:\n\n1. **ë°ì´í„° ì†ì‹¤ ë³µêµ¬ ê°€ëŠ¥**: ì¼ë¶€ ë°ì´í„°ê°€ ì†ì‹¤ë˜ë”ë¼ë„ ë‚¨ì€ ë°ì´í„°ë¥¼ ì´ìš©í•˜ì—¬ ì›ë˜ ë°ì´í„°ë¥¼ ë³µì›í•  ìˆ˜ ìˆìŒ.\n2. **ìœ ì—°í•œ ì €ì¥ ì‹œìŠ¤í…œ ì§€ì›**: RAID 6, í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€, ìœ„ì„± í†µì‹  ë“± ë‹¤ì–‘í•œ í™˜ê²½ì—ì„œ ì‚¬ìš©ë¨.\n3. **ìˆ˜í•™ì ìœ¼ë¡œ ê°•ë ¥í•œ ë³´ì¥**: ê°ˆë£¨ì•„ í•„ë“œ ì—°ì‚°ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ë³´í˜¸í•˜ê³  ì •ì • ê°€ëŠ¥.\n\në¦¬ë“œ-ì†”ë¡œëª¬ ì½”ë“œëŠ” ë‹¨ìˆœí•œ ì˜¤ë¥˜ ê²€ì¶œì„ ë„˜ì–´ **ë°ì´í„° ë³µêµ¬ê¹Œì§€ ê°€ëŠ¥í•œ ê°•ë ¥í•œ ì•Œê³ ë¦¬ì¦˜**ì´ë©°, í˜„ëŒ€ì˜ ë°ì´í„° ì €ì¥ ë° í†µì‹  ì‹œìŠ¤í…œì—ì„œ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ê³  ìˆë‹¤.",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 3,
    "wordCount": 558,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ë°ì´í„°-ì›ë³¸ì„-ì „ì²´ì ìœ¼ë¡œ-ë¦¬ë“œì†”ë¡œëª¬-ì¸ì½”ë”©-í›„-ìƒ¤ë“œ-ë¶„ë°°-vs-2-ìŠ¤íŠ¸ë¼ì´í•‘-í›„-ê°œë³„-ë¸”ë¡-ë‹¨ìœ„ë¡œ-ë¦¬ë“œì†”ë¡œëª¬-ì¸ì½”ë”©-í›„-ìƒ¤ë“œ-ë¶„ë°°-ë¹„êµ",
    "slug": "deiteo-weonboneul-jeoncejeogeuro-rideusolromon-inkoding-hu-syadeu-bunbae-vs-2-seuteuraiping-hu-gaebyeol-beulrog-danwiro-rideusolromon-inkoding-hu-syadeu-bunbae-bigyo",
    "path": "distributed-systems/erasure-coding",
    "fullPath": "distributed-systems/erasure-coding/deiteo-weonboneul-jeoncejeogeuro-rideusolromon-inkoding-hu-syadeu-bunbae-vs-2-seuteuraiping-hu-gaebyeol-beulrog-danwiro-rideusolromon-inkoding-hu-syadeu-bunbae-bigyo",
    "title": "ë°ì´í„° ì›ë³¸ì„ ì „ì²´ì ìœ¼ë¡œ ë¦¬ë“œì†”ë¡œëª¬ ì¸ì½”ë”© í›„ ìƒ¤ë“œ ë¶„ë°° vs. 2. ìŠ¤íŠ¸ë¼ì´í•‘ í›„ ê°œë³„ ë¸”ë¡ ë‹¨ìœ„ë¡œ ë¦¬ë“œì†”ë¡œëª¬ ì¸ì½”ë”© í›„ ìƒ¤ë“œ ë¶„ë°° ë¹„êµ",
    "excerpt": "--- ğŸ”¹ 1. ë°ì´í„° ì›ë³¸ì„ ë¦¬ë“œì†”ë¡œëª¬ ì¸ì½”ë”© í›„ ë…¸ë“œë§ˆë‹¤ ìƒ¤ë“œë¥¼ ë‚˜ëˆ„ëŠ” ë°©ì‹ ğŸ› ï¸ ê°œìš” â€¢ ì›ë³¸ ë°ì´í„°ë¥¼ í•œ ë²ˆì— í° ë‹¨ìœ„ë¡œ ë¦¬ë“œì†”ë¡œëª¬(Erasure Coding, EC) ì¸ì½”ë”©ì„ ìˆ˜í–‰í•œ ë’¤, ìƒì„±ëœ ë°ì´í„° ë¸”ë¡(ì›ë³¸)ê³¼ íŒ¨ë¦¬í‹°...",
    "content": "---\n\n**ğŸ”¹ 1. ë°ì´í„° ì›ë³¸ì„ ë¦¬ë“œì†”ë¡œëª¬ ì¸ì½”ë”© í›„ ë…¸ë“œë§ˆë‹¤ ìƒ¤ë“œë¥¼ ë‚˜ëˆ„ëŠ” ë°©ì‹**\n\n  \n\n**ğŸ› ï¸ ê°œìš”**\n\nâ€¢ ì›ë³¸ ë°ì´í„°ë¥¼ í•œ ë²ˆì— í° ë‹¨ìœ„ë¡œ ë¦¬ë“œì†”ë¡œëª¬(Erasure Coding, EC) ì¸ì½”ë”©ì„ ìˆ˜í–‰í•œ ë’¤, ìƒì„±ëœ **ë°ì´í„° ë¸”ë¡(ì›ë³¸)ê³¼ íŒ¨ë¦¬í‹° ë¸”ë¡(ë³µêµ¬ìš©)ì„ ì—¬ëŸ¬ ë…¸ë“œì— ë¶„ë°°**í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\nâ€¢ ì˜ˆë¥¼ ë“¤ì–´, **(6,3) Reed-Solomon ì½”ë“œ**ë¥¼ ì‚¬ìš©í•˜ë©´, ì›ë³¸ ë°ì´í„°ë¥¼ 6ê°œë¡œ ë‚˜ëˆ„ê³ , 3ê°œì˜ íŒ¨ë¦¬í‹° ë¸”ë¡ì„ ì¶”ê°€ ìƒì„±í•˜ì—¬ **ì´ 9ê°œ ë¸”ë¡ì„ 9ê°œ ë…¸ë“œì— ë¶„ë°°**í•©ë‹ˆë‹¤.\n\n  \n\n**âœ… ì¥ì **\n\n1. **ì“°ê¸° ì„±ëŠ¥ì´ ìƒëŒ€ì ìœ¼ë¡œ ì¢‹ìŒ**\n\nâ€¢ ì›ë³¸ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ì¸ì½”ë”© í›„ ë¶„ë°°í•˜ê¸° ë•Œë¬¸ì—, **ì¶”ê°€ì ì¸ ìŠ¤íŠ¸ë¼ì´í•‘ ì—°ì‚°ì´ í•„ìš” ì—†ìŒ**.\n\nâ€¢ ë„¤íŠ¸ì›Œí¬ ì „ì†¡ëŸ‰ì´ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì¼ì •í•¨.\n\n2. **ë³µêµ¬ íš¨ìœ¨ì„±ì´ ë†’ìŒ (íŠ¹íˆ ì „ì²´ ë…¸ë“œ ì¥ì•  ì‹œ)**\n\nâ€¢ ë°ì´í„° ë¸”ë¡ê³¼ íŒ¨ë¦¬í‹° ë¸”ë¡ì´ ì¼ì •í•œ ë°©ì‹ìœ¼ë¡œ ì €ì¥ë˜ë¯€ë¡œ, **íŠ¹ì • ë…¸ë“œ ì†ì‹¤ ì‹œ íŒ¨ë¦¬í‹° ë¸”ë¡ì„ ì´ìš©í•´ ë¹ ë¥´ê²Œ ì¬êµ¬ì„± ê°€ëŠ¥**.\n\n3. **CPU ì˜¤ë²„í—¤ë“œê°€ ë¹„êµì  ë‚®ìŒ**\n\nâ€¢ ë¦¬ë“œì†”ë¡œëª¬ ì¸ì½”ë”©ì„ í•œ ë²ˆë§Œ ìˆ˜í–‰í•˜ë©´ ë˜ë¯€ë¡œ, CPU ì—°ì‚°ëŸ‰ì´ ì¤„ì–´ë“¦.\n\n  \n\n**âŒ ë‹¨ì **\n\n1. **ë°ì´í„°ê°€ ë…¸ë“œì— ê· ë“±í•˜ê²Œ ì €ì¥ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ**\n\nâ€¢ í•˜ë‚˜ì˜ ì›ë³¸ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë…¸ë“œì— ë‚˜ëˆ„ì–´ ì €ì¥í•˜ê¸° ë•Œë¬¸ì—, **íŠ¹ì • ë…¸ë“œê°€ ìì£¼ ì‚¬ìš©ë  ê°€ëŠ¥ì„±**ì´ ìˆìŒ.\n\nâ€¢ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì´ íŠ¹ì • ë…¸ë“œì— ì§‘ì¤‘ë  ê°€ëŠ¥ì„±ì´ ìˆìŒ.\n\n2. **ì¡°ê°ë‚œ ë¸”ë¡ë§Œ ì½ê³  ì‹¶ì–´ë„ ì „ì²´ ë°ì´í„°ì˜ ì¼ë¶€ë¥¼ ë³µì›í•´ì•¼ í•  ìˆ˜ë„ ìˆìŒ**\n\nâ€¢ ì‘ì€ ë‹¨ìœ„ ë°ì´í„° ì ‘ê·¼ ì‹œì—ë„, ì›ë³¸ ë°ì´í„°ê°€ ì¸ì½”ë”©ëœ ìƒíƒœì´ë¯€ë¡œ **ì›ë³¸ ë¸”ë¡ì„ ì§ì ‘ ì½ëŠ” ê²ƒì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ**.\n\n---\n\n**ğŸ”¹ 2. ë°ì´í„°ë¥¼ ìŠ¤íŠ¸ë¼ì´í•‘í•œ í›„ ê°œë³„ ë¸”ë¡ ë‹¨ìœ„ë¡œ ë¦¬ë“œì†”ë¡œëª¬ ì¸ì½”ë”© í›„ ìƒ¤ë“œ ë¶„ë°°**\n\n  \n\n**ğŸ› ï¸ ê°œìš”**\n\nâ€¢ ì›ë³¸ ë°ì´í„°ë¥¼ ì¼ì • í¬ê¸°ë¡œ **ìŠ¤íŠ¸ë¼ì´í•‘(Striping)** í•œ ë’¤, ê° ë¸”ë¡ ë‹¨ìœ„ë¡œ ë¦¬ë“œì†”ë¡œëª¬ ì¸ì½”ë”©ì„ ì ìš©í•˜ì—¬ ìƒ¤ë“œë¥¼ ìƒì„±í•˜ê³  ë¶„ë°°í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\nâ€¢ ì˜ˆë¥¼ ë“¤ì–´, 1GB íŒŒì¼ì„ 64MB ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ ì €ì¥í•  ê²½ìš°, ê°ê°ì˜ 64MB ë¸”ë¡ì„ ê°œë³„ì ìœ¼ë¡œ ë¦¬ë“œì†”ë¡œëª¬ ì¸ì½”ë”©í•˜ì—¬ ë¶„ì‚° ì €ì¥.\n\n  \n\n**âœ… ì¥ì **\n\n1. **ì‘ì€ ë‹¨ìœ„ ë°ì´í„° ì ‘ê·¼ì´ íš¨ìœ¨ì **\n\nâ€¢ íŠ¹ì • ë¸”ë¡ë§Œ í•„ìš”í•  ê²½ìš°, í•´ë‹¹ ë¸”ë¡ë§Œ ì½ê³  íŒ¨ë¦¬í‹° ë¸”ë¡ì„ í™œìš©í•˜ì—¬ ë³µêµ¬ ê°€ëŠ¥.\n\nâ€¢ **Hadoop HDFSì˜ Erasure Coding ë°©ì‹**ì´ë‚˜ **MinIOì˜ Parity Striping** ë°©ì‹ì—ì„œ ì‚¬ìš©ë¨.\n\n2. **ë…¸ë“œ ê°„ ë¶€í•˜ê°€ ê· ë“±í•˜ê²Œ ë¶„ì‚°ë¨**\n\nâ€¢ ë°ì´í„°ê°€ ì‘ì€ ë‹¨ìœ„ë¡œ ìª¼ê°œì ¸ ë¶„ì‚°ë˜ë¯€ë¡œ, **íŠ¹ì • ë…¸ë“œì— íŠ¸ë˜í”½ì´ ì§‘ì¤‘ë˜ëŠ” ë¬¸ì œë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŒ**.\n\n3. **ë³‘ë ¬ I/O ì„±ëŠ¥ í–¥ìƒ**\n\nâ€¢ ì—¬ëŸ¬ ê°œì˜ ì‘ì€ ë¸”ë¡ì´ ë™ì‹œì— ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ì½íˆë¯€ë¡œ, **ëŒ€ê·œëª¨ ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ì—ì„œ ë†’ì€ ë³‘ë ¬ì„±ì„ ê°€ì§ˆ ìˆ˜ ìˆìŒ**.\n\n  \n\n**âŒ ë‹¨ì **\n\n1. **ì“°ê¸° ì„±ëŠ¥ì´ ë‚®ì„ ìˆ˜ ìˆìŒ**\n\nâ€¢ ë°ì´í„° ë‹¨ìœ„ë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ ì¸ì½”ë”©ì„ ìˆ˜í–‰í•´ì•¼ í•˜ë¯€ë¡œ, CPU ì—°ì‚°ëŸ‰ ì¦ê°€ ë° ì¶”ê°€ì ì¸ ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ë°œìƒ.\n\nâ€¢ ë„¤íŠ¸ì›Œí¬ì—ì„œ ë” ë§ì€ ì‘ì€ íŒ¨í‚·ì´ ì´ë™í•´ì•¼ í•˜ë¯€ë¡œ, ì§€ì—°(latency)ì´ ì¦ê°€í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ.\n\n2. **ë³µêµ¬ ì‹œ ì˜¤ë²„í—¤ë“œ ì¦ê°€**\n\nâ€¢ ë¸”ë¡ ë‹¨ìœ„ë¡œ ë¶„ì‚°ë˜ì—ˆê¸° ë•Œë¬¸ì—, íŠ¹ì • ë…¸ë“œì—ì„œ ë³µêµ¬í•´ì•¼ í•  ë¸”ë¡ì´ ë§ìœ¼ë©´ ë³µêµ¬ ì‘ì—…ì´ ë³‘ëª©ì´ ë  ìˆ˜ ìˆìŒ.\n\n---\n\n**ğŸ”¹ ìµœì¢… ë¹„êµ**\n\n|**ë¹„êµ í•­ëª©**|**1. ì›ë³¸ ë°ì´í„° ë‹¨ìœ„ë¡œ ë¦¬ë“œì†”ë¡œëª¬ ì¸ì½”ë”© í›„ ìƒ¤ë“œ ë¶„ë°°**|**2. ìŠ¤íŠ¸ë¼ì´í•‘ í›„ ê°œë³„ ë¸”ë¡ ë‹¨ìœ„ë¡œ ë¦¬ë“œì†”ë¡œëª¬ ì¸ì½”ë”©**|\n|---|---|---|\n|**ì“°ê¸° ì„±ëŠ¥**|ìƒëŒ€ì ìœ¼ë¡œ ë¹ ë¦„ (í•œ ë²ˆë§Œ ì¸ì½”ë”©)|ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¼ (ë¸”ë¡ë§ˆë‹¤ ê°œë³„ ì¸ì½”ë”© í•„ìš”)|\n|**ì½ê¸° ì„±ëŠ¥**|ì „ì²´ ë°ì´í„°ì˜ ì¼ë¶€ë¥¼ ë³µêµ¬í•´ì•¼ í•  ìˆ˜ë„ ìˆìŒ|íŠ¹ì • ë¸”ë¡ë§Œ ì½ëŠ” ê²ƒì´ ê°€ëŠ¥|\n|**ë³µêµ¬ íš¨ìœ¨ì„±**|ì „ì²´ ì›ë³¸ì„ ìœ ì§€í•˜ê¸° ì‰¬ì›€|ê°œë³„ ë¸”ë¡ ë³µêµ¬ ì‹œ ì˜¤ë²„í—¤ë“œ ì¦ê°€ ê°€ëŠ¥|\n|**ë…¸ë“œ ë¶€í•˜**|ì¼ë¶€ ë…¸ë“œì— ì§‘ì¤‘ë  ê°€ëŠ¥ì„±ì´ ìˆìŒ|ë…¸ë“œ ê°„ ë¶€í•˜ê°€ ê· ë“±í•˜ê²Œ ë¶„ë°°ë¨|\n|**ë³‘ë ¬ ì²˜ë¦¬**|ë³‘ë ¬ì„±ì´ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ìŒ|ë†’ì€ ë³‘ë ¬ì„± ê°€ëŠ¥|\n\n  \n\n---\n\n**ğŸ”¹ ê²°ë¡ : ì–´ë–¤ ë°©ì‹ì´ ë” ì í•©í• ê¹Œ?**\n\nâ€¢ **ëŒ€ìš©ëŸ‰ ë°ì´í„° ì €ì¥ & ì½ê¸°/ì“°ê¸° ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ê²½ìš°** â†’ **1ë²ˆ ë°©ì‹ì´ ìœ ë¦¬**\n\nâ€¢ Ceph RADOS Erasure Codingê³¼ ìœ ì‚¬í•œ ë°©ì‹.\n\nâ€¢ í´ëŸ¬ìŠ¤í„° ì „ì²´ì˜ ì•ˆì •ì„±ì´ í•„ìš”í•˜ê³ , íŠ¹ì • íŒŒì¼ì„ ì „ì²´ì ìœ¼ë¡œ ë‹¤ë£¨ëŠ” ê²½ìš° ì í•©.\n\nâ€¢ **ë°ì´í„° ì¡°ê° ë‹¨ìœ„ë¡œ ì ‘ê·¼ì´ ë§ê³ , ë³‘ë ¬ì„±ì´ ì¤‘ìš”í•œ ê²½ìš°** â†’ **2ë²ˆ ë°©ì‹ì´ ìœ ë¦¬**\n\nâ€¢ Hadoop HDFSì˜ EC, MinIOì˜ ìŠ¤íŠ¸ë¼ì´í•‘ ë°©ì‹ê³¼ ìœ ì‚¬.\n\nâ€¢ ê°œë³„ì ì¸ ì‘ì€ íŒŒì¼ì´ë‚˜ ë¸”ë¡ ë‹¨ìœ„ì˜ ë³‘ë ¬ ì²˜ë¦¬ê°€ ì¤‘ìš”í•œ ê²½ìš° ì í•©.\n\n  \n\n**ì¦‰, â€œ1ë²ˆì€ ì „ì²´ ë°ì´í„° ì¤‘ì‹¬ì˜ ì•ˆì •ì„±ì„ ê°•ì¡°í•˜ê³ , 2ë²ˆì€ ê°œë³„ ë¸”ë¡ ì ‘ê·¼ì„±ê³¼ ë³‘ë ¬ì„±ì„ ê°•ì¡°í•˜ëŠ” ë°©ì‹â€**ì´ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸš€\n\n  \n\ní˜¹ì‹œ ë” êµ¬ì²´ì ìœ¼ë¡œ ë¹„êµí•  ë¶€ë¶„ì´ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ìš”! ğŸ˜Š",
    "docType": "original",
    "category": "Distributed Systems",
    "tags": [],
    "readingTime": 3,
    "wordCount": 543,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "succinct-proofs-of-random-access-spora-ë²ˆì—­",
    "slug": "succinct-proofs-of-random-access-spora-beonyeog",
    "path": "distributed-systems/data-availability",
    "fullPath": "distributed-systems/data-availability/succinct-proofs-of-random-access-spora-beonyeog",
    "title": "Succinct Proofs of Random Access (SPoRA) ë²ˆì—­",
    "excerpt": "--- ê°œìš” (Abstract) ì´ ë¬¸ì„œëŠ” Arweave ë„¤íŠ¸ì›Œí¬ì˜ ìƒˆë¡œìš´ í•©ì˜ ë©”ì»¤ë‹ˆì¦˜ì„ ì„¤ëª…í•œë‹¤. ì´ ë©”ì»¤ë‹ˆì¦˜ì€ ìµœì‹  ë¸”ë¡ìœ„ë¸Œ(blockweave) ìƒíƒœì—ì„œ ìœ ì¶”ëœ ê³¼ê±° ë°ì´í„° ì²­í¬ë¥¼ ì°¾ëŠ” ê²½ìŸ ë°©ì‹ì— ê¸°ë°˜ì„ ë‘”ë‹¤. --- ë™ê¸°...",
    "content": "---\n\n**1. ê°œìš” (Abstract)**\n\nì´ ë¬¸ì„œëŠ” Arweave ë„¤íŠ¸ì›Œí¬ì˜ ìƒˆë¡œìš´ í•©ì˜ ë©”ì»¤ë‹ˆì¦˜ì„ ì„¤ëª…í•œë‹¤. ì´ ë©”ì»¤ë‹ˆì¦˜ì€ **ìµœì‹  ë¸”ë¡ìœ„ë¸Œ(blockweave) ìƒíƒœì—ì„œ ìœ ì¶”ëœ ê³¼ê±° ë°ì´í„° ì²­í¬ë¥¼ ì°¾ëŠ” ê²½ìŸ ë°©ì‹**ì— ê¸°ë°˜ì„ ë‘”ë‹¤.\n\n---\n\n**2. ë™ê¸° (Motivation)**\n\ní˜„ì¬ Arweave ë„¤íŠ¸ì›Œí¬ì—ì„œ ì‚¬ìš©ë˜ëŠ” í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì€ **ê¸°ì¡´ ì‘ì—… ì¦ëª…(Proof of Work, PoW)** ë°©ì‹ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ, ì¶”ê°€ì ìœ¼ë¡œ ìµœì‹  ë¸”ë¡ìœ„ë¸Œ ìƒíƒœì—ì„œ ê²°ì •ëœ **ê³¼ê±° ë°ì´í„° ì²­í¬(ìµœëŒ€ 256KiB)** ë¥¼ í¬í•¨í•´ì•¼ í•œë‹¤. ì´ ë°©ì‹ì€ **ë„¤íŠ¸ì›Œí¬ê°€ ê³¼ê±° ë°ì´í„°ë¥¼ ìœ ì§€í•˜ë„ë¡ ì¥ë ¤**í•˜ëŠ” íš¨ê³¼ëŠ” ìˆì§€ë§Œ, ì±„êµ´ìê°€ ë°ì´í„°ë¥¼ ì–¼ë§ˆë‚˜ ë¹¨ë¦¬ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆì–´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ **ì œí•œì´ ê±°ì˜ ì—†ëŠ” ë¬¸ì œ**ê°€ ìˆë‹¤.\n\nâ€¢ **ë¬¸ì œì  1:**\n\tâ€¢ ì±„êµ´ìê°€ ì›ê²© ìŠ¤í† ë¦¬ì§€ í’€(remote storage pool)ì„ í™œìš©í•˜ì—¬ ë¹ ë¥´ê²Œ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ëŠ” ë°©ì‹ì´ ê°€ëŠ¥í•˜ë‹¤.\n\tâ€¢ ì›ê²© ì €ì¥ì†Œì™€ ì»´í“¨íŒ… í’€ì„ ì¡°í•©í•˜ë©´ **1Gbps ì¸í„°ë„· ë§í¬ë¥¼ í†µí•´ ì´ˆë‹¹ ìˆ˜ë°±ë§Œ ê°œì˜ PoW ì…ë ¥ê°’ì„ ê³„ì‚°í•˜ì—¬ ì œê³µ**í•  ìˆ˜ë„ ìˆë‹¤.\n\tâ€¢ ì‹¤ì œë¡œ Arweave ë„¤íŠ¸ì›Œí¬ì—ì„œëŠ” **ê³µê°œ ë…¸ë“œ(public node) ìˆ˜ê°€ ê°ì†Œí•˜ëŠ” ë™ì‹œì—, ë„¤íŠ¸ì›Œí¬ í•´ì‹œíŒŒì›Œ(hashpower)ëŠ” ì¦ê°€**í•˜ê³  ìˆë‹¤.\n\tâ€¢ ì´ëŠ” ì¼ë¶€ ì±„êµ´ìë“¤ì´ **ê³µë™ ì €ì¥ ë° ê³„ì‚° í’€(storage & computation pool)** ì„ í˜•ì„±í•˜ê³  ìˆìŒì„ ì‹œì‚¬í•œë‹¤.\n\nâ€¢ **ë¬¸ì œì  2:**\n\tâ€¢ PoW ê¸°ë°˜ ë„¤íŠ¸ì›Œí¬ëŠ” **ì—ë„ˆì§€ ì†Œë¹„ëŸ‰ì´ ë§¤ìš° í¬ë‹¤.**\n\tâ€¢ íƒ„ì†Œ ë°°ì¶œëŸ‰ì´ ë§ì•„ í™˜ê²½ì— ë¶€ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.\n\tâ€¢ ì¹œí™˜ê²½ì ì¸ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ë„ì…í•˜ëŠ” ê²ƒì€ **Arweave í”Œë«í¼ì˜ ì¥ê¸°ì ì¸ ì§€ì† ê°€ëŠ¥ì„±ì„ ìœ„í•´ í•„ìˆ˜ì **ì´ë‹¤.\n\n---\n\n**SPoRAì˜ ëª©í‘œ**\n\nìƒˆë¡œìš´ í•©ì˜ ì•Œê³ ë¦¬ì¦˜(SPoRA)ì€ ë‹¤ìŒ ë‘ ê°€ì§€ ì£¼ìš” ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê³ ì í•œë‹¤.\n\n1. **ë°ì´í„°ë¥¼ í•„ìš”í•  ë•Œë§Œ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ì‹(ì˜¨ë””ë§¨ë“œ ë°ì´í„° ê²€ìƒ‰)ì„ ì–µì œí•˜ê³ , ì±„êµ´ìë“¤ì´ ë°ì´í„°ë¥¼ ì±„êµ´ ê¸°ê³„ì— ë” ê°€ê¹ê²Œ ì €ì¥í•˜ë„ë¡ ìœ ë„í•œë‹¤.**\n\tâ€¢ ì¦‰, ë°ì´í„°ë¥¼ ë¡œì»¬ì— ì €ì¥í•˜ì§€ ì•Šê³  ë„¤íŠ¸ì›Œí¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ëŠ” ì±„êµ´ìëŠ” ë¶ˆë¦¬í•´ì§€ë„ë¡ ì„¤ê³„í•œë‹¤.\n\n2. **ë„¤íŠ¸ì›Œí¬ì˜ ì—ë„ˆì§€ ì†Œë¹„ë¥¼ ì¤„ì¸ë‹¤.**\n\tâ€¢ ê¸°ì¡´ PoWì˜ ë†’ì€ ì—°ì‚° ë¹„ìš©ê³¼ ì „ë ¥ ì†Œëª¨ë¥¼ ë‚®ì¶° ë³´ë‹¤ íš¨ìœ¨ì ì¸ í•©ì˜ ê³¼ì •ì„ ë§Œë“ ë‹¤.\n\n---\n\n**3. ì°¸ì¡° êµ¬í˜„ (Reference Implementation)**\n\ní•´ë‹¹ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì˜ ì°¸ì¡° êµ¬í˜„(Reference Implementation)ì€ ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\nğŸ”— [**ArweaveTeam GitHub ë§í¬**](https://github.com/ArweaveTeam/arweave/pull/269)\n\n---\n\n**4. SPoRA ì•Œê³ ë¦¬ì¦˜ ëª…ì„¸ (Specification)**\n\n**4.1 ì‚¬ì „ ìš”êµ¬ ì‚¬í•­ (Prerequisites)**\n\n**1. ì¸ë±ì‹±ëœ ë°ì´í„°ì…‹ (Indexed Dataset)**\n\nSPoRAì˜ í•µì‹¬ì€ **ê³¼ê±° ë°ì´í„° ì²­í¬ë¥¼ ì§€ì†ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ëŠ” ê²ƒ**ì´ë‹¤. ëª¨ë“  ë°ì´í„° ì²­í¬ëŠ” **ì „ì—­ ì˜¤í”„ì…‹(Global Offset)** ìœ¼ë¡œ ì‹ë³„ë˜ë©°, ë„¤íŠ¸ì›Œí¬ ì „ì²´ì—ì„œ ëª¨ë“  ë°”ì´íŠ¸ê°€ **ë™ì¼í•œ ì¸ì„¼í‹°ë¸Œë¥¼ ë°›ë„ë¡ ì„¤ê³„**ë˜ì–´ì•¼ í•œë‹¤. ë”°ë¼ì„œ, **ë¸”ë¡ìœ„ë¸Œ ì „ì²´ë¥¼ ì¸ë±ì‹±í•˜ì—¬, íŠ¹ì • ì²­í¬ë¥¼ ë¹ ë¥´ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•œë‹¤.** **Arweave Erlang í´ë¼ì´ì–¸íŠ¸**ëŠ” **ë²„ì „ 2.1ë¶€í„°** ì´ëŸ¬í•œ ì¸ë±ìŠ¤ë¥¼ ìœ ì§€í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤.\n\n---\n\n**2. ëŠë¦° í•´ì‹œ(Slow Hash)**\n\nSPoRAëŠ” **ì±„êµ´ìê°€ ì§€ì†ì ìœ¼ë¡œ ì €ì¥ì†Œì— ì ‘ê·¼í•˜ë„ë¡ ê°•ì œ**í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•´ì•¼ í•œë‹¤. ì¦‰, **ì±„êµ´ìê°€ íŠ¹ì • ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ì„ íƒí•  ìˆ˜ ì—†ë„ë¡ ë§Œë“¤ì–´ì•¼ í•˜ë©°**, ì´ëŠ” ì•„ë˜ ë‘ ê°€ì§€ ì´ìœ  ë•Œë¬¸ì…ë‹ˆë‹¤.\n\nâ€¢ **ìœ„í˜‘ 1:**\n\tâ€¢ ì±„êµ´ìê°€ ë°ì´í„° ì €ì¥ ë¹„ìš©ì„ ì•„ë¼ê³ , ëŒ€ì‹  **ë¹ ë¥¸ ì—°ì‚°ìœ¼ë¡œ PoWë¥¼ ìˆ˜í–‰í•˜ë ¤ëŠ” ê°€ëŠ¥ì„±**ì´ ìˆë‹¤.\n\tâ€¢ ë°ì´í„° ì €ì¥ ì—†ì´ ë¹ ë¥¸ ê³„ì‚°ë§Œìœ¼ë¡œ ë™ì¼í•œ ë³´ìƒì„ ë°›ëŠ”ë‹¤ë©´, ì €ì¥ ì¸ì„¼í‹°ë¸Œê°€ ì‚¬ë¼ì§„ë‹¤.\nâ€¢ **ìœ„í˜‘ 2:**\n\tâ€¢ í˜„ì¬ì˜ ì»´í“¨íŒ… ê¸°ìˆ ì€ ë§¤ìš° ë°œì „í•˜ì—¬, ë°ì´í„° ê²€ìƒ‰ì„ í•˜ì§€ ì•Šë”ë¼ë„ ë†’ì€ íš¨ìœ¨ë¡œ ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\n\tâ€¢ ì´ëŠ” ê¸°ì¡´ PoW ë°©ì‹ë³´ë‹¤ë„ ë” ë¹ ë¥´ê²Œ ì±„êµ´ì´ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•œë‹¤.\n\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ArweaveëŠ” **ë²„ì „ 1.7ë¶€í„°** [**RandomX**](https://44jxru4mdgbtd66dlzjlc3huktqmmzufomg5p24jl66zyut562yq.arweave.net/5xN404wZgzH7w15SsWz0VODGZoVzDdfriV-9nFJ99rE)**ë¥¼ ì‚¬ìš©**í•œë‹¤. RandomXëŠ” **ì¼ë°˜ CPUì— ìµœì í™”ëœ PoW ì•Œê³ ë¦¬ì¦˜**ìœ¼ë¡œ, **ì „ë¬¸ í•˜ë“œì›¨ì–´ì˜ ì±„êµ´ ìš°ìœ„ë¥¼ ì¤„ì´ëŠ” ì—­í• **ì„ í•œë‹¤.\n\n---\n\n**4.2 ì•Œê³ ë¦¬ì¦˜ ì„¤ëª… (Algorithm Description)**\n\n  **ì±„êµ´ì(Miner)ì˜ ê³¼ì •**\n1. ëœë¤ ë…¼ìŠ¤(nonce)ë¥¼ ìƒì„±í•˜ê³ , í˜„ì¬ ë¸”ë¡ ìƒíƒœ, í›„ë³´ ë¸”ë¡, nonceë¥¼ í¬í•¨í•˜ëŠ” ë¨¸í´ íŠ¸ë¦¬ í•´ì‹œë¥¼ ìƒì„±í•œë‹¤.\n2. ì´ í•´ì‹œ ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ **íŠ¹ì • Recall Byte(ê²€ìƒ‰í•´ì•¼ í•  ë°”ì´íŠ¸ ìœ„ì¹˜)** ë¥¼ ê²°ì •í•œë‹¤.\n3. ë¡œì»¬ ì €ì¥ì†Œì—ì„œ í•´ë‹¹ ë°”ì´íŠ¸ê°€ í¬í•¨ëœ **ë°ì´í„° ì²­í¬ë¥¼ ê²€ìƒ‰**í•œë‹¤.\n\tâ€¢ ë°ì´í„°ë¥¼ ì°¾ì§€ ëª»í–ˆë‹¤ë©´ 1ë²ˆ ë‹¨ê³„ë¶€í„° ë‹¤ì‹œ ì‹œì‘í•œë‹¤.\n4. ì°¾ì€ ë°ì´í„° ì²­í¬ì™€ ì´ì „ ë¸”ë¡ í•´ì‹œë¥¼ ì¡°í•©í•˜ì—¬ **ë¹ ë¥¸ í•´ì‹œ(Fast Hash)ë¥¼ ê³„ì‚°**í•œë‹¤.\n5. ê³„ì‚°ëœ í•´ì‹œ ê°’ì´ **í˜„ì¬ ë‚œì´ë„ë³´ë‹¤ í¬ë‹¤ë©´**, í•´ë‹¹ ë¸”ë¡ì„ ë„¤íŠ¸ì›Œí¬ì— ì „íŒŒí•œë‹¤.\n\tâ€¢ ë¸”ë¡ì—ëŠ” **nonceì™€ í•´ë‹¹ ë°ì´í„° ì²­í¬**ê°€ í¬í•¨ëœë‹¤.\n\nì´ ê³¼ì •ì—ì„œ ì‚¬ìš©ëœ **í•´ë‹¹ ë°ì´í„° ì²­í¬ì™€ ë¨¸í´ ì¦ëª…(Merkle Proofs)** ë¥¼ **Succinct Proof of Random Access (SPoRA)** ë¼ê³  í•œë‹¤.\n\nì´ëŠ” ìƒˆë¡œìš´ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì˜ ì´ë¦„ì´ê¸°ë„ í•˜ë‹¤.\n\n---\n\n**ê²€ì¦ì(Verifier)ì˜ ê³¼ì •**\n\nâ€¢ ê²€ì¦ìëŠ” **ì±„êµ´ìê°€ ìˆ˜í–‰í•œ ê³¼ì •**ì„ í•œ ë²ˆ ì‹¤í–‰í•˜ì—¬ ë¸”ë¡ì˜ ìœ íš¨ì„±ì„ ê²€ì¦í•œë‹¤.\nâ€¢ ë¸”ë¡ ë‚´ì˜ **nonceì™€ ë°ì´í„° ì²­í¬ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸**í•˜ë©´ ëœë‹¤.\n\n---\n\n**4.3 ê²€ìƒ‰ ê³µê°„ ì œí•œ (Search Space Constraints)**\n\nSPoRAëŠ” **ê²€ìƒ‰ ê³µê°„(Search Space)ì„ ì ì ˆíˆ ì„¤ì •í•˜ì—¬ ë°ì´í„° ì €ì¥ì„ ì¥ë ¤**í•´ì•¼ í•œë‹¤.\n\n1. ê²€ìƒ‰ ê³µê°„ì´ **ì¶©ë¶„íˆ ì»¤ì•¼ í•˜ëŠ” ì´ìœ **:\n\tâ€¢ ì±„êµ´ìê°€ ì˜¨ë””ë§¨ë“œ ë°©ì‹ìœ¼ë¡œ **ì „ì²´ ê²€ìƒ‰ ê³µê°„ì„ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œ**.\n\tâ€¢ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ì´ ì¦ê°€í•¨ì— ë”°ë¼, ë°ì´í„° ìš”ì²­ë§Œìœ¼ë¡œ PoWë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ì ì  ì‰¬ì›Œì§€ë¯€ë¡œ ì´ë¥¼ ë°©ì§€í•´ì•¼ í•œë‹¤.\n\n2. ê²€ìƒ‰ ê³µê°„ì´ **ë„ˆë¬´ í¬ë©´ ì•ˆ ë˜ëŠ” ì´ìœ **:\n\tâ€¢ ë°ì´í„° ì €ì¥ëŸ‰ì´ ì ì€ ì±„êµ´ìë„ ê²½ìŸí•  ìˆ˜ ìˆë„ë¡ í•˜ë ¤ë©´ ê²€ìƒ‰ ê³µê°„ì´ ë„ˆë¬´ í¬ë©´ ì•ˆ ëœë‹¤.\n\tâ€¢ ë”°ë¼ì„œ SPoRAëŠ” **ê²€ìƒ‰ ê³µê°„ì„ ë¸”ë¡ìœ„ë¸Œì˜ 10%ë¡œ ì„¤ì •**í•œë‹¤.\n\tâ€¢ ì´ ê²½ìš°, ì¼ë¶€ ì±„êµ´ìê°€ íŠ¹ì • ë¶€ë¶„ì„ ì§‘ì¤‘ì ìœ¼ë¡œ ì €ì¥í•˜ë©´ **ì•½ 1.2ë°°ì˜ ì±„êµ´ íš¨ìœ¨ì„ ì–»ê²Œ ë¨**.\n\n---\n\n**5. ê´€ë ¨ ì—°êµ¬ (Related Work)**\n\nSPoRAëŠ” **Permacoin: Repurposing Bitcoin Work for Data Preservation** ë…¼ë¬¸ì—ì„œ ì˜ê°ì„ ë°›ì•˜ë‹¤. ArweaveëŠ” ì´ë¥¼ **ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¤‘ì•™í™”ëœ ë°ì´í„° ëŒ€ì‹ , ë¶„ì‚° ë„¤íŠ¸ì›Œí¬ ì „ì²´ì—ì„œ ë°ì´í„°ë¥¼ ìœ ì§€í•˜ëŠ” ë°©ì‹**ìœ¼ë¡œ ê°œì„ í–ˆë‹¤. SPoRAëŠ” **ì—°ì‚°ìœ¼ë¡œ ë°ì´í„° ë¶€ì¡±ì„ ë³´ì™„í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„**ë˜ì—ˆìœ¼ë©°,\në„¤íŠ¸ì›Œí¬ê°€ ë°ì´í„°ë¥¼ ê³ ë¥´ê²Œ ë³µì œí•˜ë„ë¡ ì¸ì„¼í‹°ë¸Œë¥¼ ì œê³µí•œë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 4,
    "wordCount": 707,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "2024-data-replication-design-spectrum-ìš”ì•½",
    "slug": "2024-data-replication-design-spectrum-yoyag",
    "path": "distributed-systems/data-availability",
    "fullPath": "distributed-systems/data-availability/2024-data-replication-design-spectrum-yoyag",
    "title": "â€œ2024 Data Replication Design Spectrumâ€ ìš”ì•½",
    "excerpt": "â€œ2024 Data Replication Design Spectrumâ€ ìš”ì•½ ì´ ê¸€ì—ì„œëŠ” ë°ì´í„° ë³µì œ(Data Replication) ì•Œê³ ë¦¬ì¦˜ì˜ ë‹¤ì–‘í•œ ì„¤ê³„ ë°©ì‹ì„ ì†Œê°œí•˜ë©°, íŠ¹íˆ ë ˆí”Œë¦¬ì¹´(replica) ì¥ì• ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì— ì´ˆì ì„ ë§ì¶”ê³  ìˆ...",
    "content": "**â€œ2024 Data Replication Design Spectrumâ€ ìš”ì•½**\n\nì´ ê¸€ì—ì„œëŠ” **ë°ì´í„° ë³µì œ(Data Replication) ì•Œê³ ë¦¬ì¦˜ì˜ ë‹¤ì–‘í•œ ì„¤ê³„ ë°©ì‹**ì„ ì†Œê°œí•˜ë©°, íŠ¹íˆ **ë ˆí”Œë¦¬ì¹´(replica) ì¥ì• ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹**ì— ì´ˆì ì„ ë§ì¶”ê³  ìˆìŒ. ë³µì œ ì•Œê³ ë¦¬ì¦˜ë“¤ì€ **ì¥ì•  ê´€ë¦¬ ë°©ì‹**ì— ë”°ë¼ ë¶„ë¥˜ë˜ë©°, **ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì„±, ê°€ìš©ì„±, ì§€ì—°ì‹œê°„(ë ˆì´í„´ì‹œ)** ë“±ì˜ ì¸¡ë©´ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ê°€ì§€ê²Œ ë¨.\n\n**ğŸ”¹ 1. ì¥ì•  ì²˜ë¦¬ ë°©ì‹: Failure Masking vs. Failure Detection**\n\n**âœ… Failure Masking (ì¥ì•  ë§ˆìŠ¤í‚¹)**\n\nâ€¢ ì¼ë¶€ ë ˆí”Œë¦¬ì¹´ê°€ ì¥ì• ê°€ ë‚˜ë”ë¼ë„ **ì¦‰ê°ì ì¸ ê°œì… ì—†ì´ ìš´ì˜ ê°€ëŠ¥**í•œ ë°©ì‹.\nâ€¢ **ì¿¼ëŸ¼ ê¸°ë°˜(Quorum-based) ë¦¬ë” ì—†ëŠ” ë³µì œ**ê°€ ëŒ€í‘œì ì¸ ì˜ˆì‹œ.\nâ€¢ **íŠ¹ì§•:**\n\tâ€¢ ë‹¤ìˆ˜ê²°(majority) ê¸°ë°˜ì˜ ë™ì‘ â†’ ê³¼ë°˜ìˆ˜ ì´ìƒì´ ì‚´ì•„ìˆë‹¤ë©´ ì„œë¹„ìŠ¤ ì§€ì† ê°€ëŠ¥.\n\tâ€¢ ì¥ì•  íƒì§€ë¥¼ ìœ„í•œ ë³„ë„ ì‘ì—… ì—†ì´ ê³„ì† ìš´ì˜ ê°€ëŠ¥í•˜ì§€ë§Œ, ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥ì„± ì¡´ì¬.\n\n  \n\n**âœ… Failure Detection (ì¥ì•  ê°ì§€)**\n\nâ€¢ ì¥ì•  ë°œìƒ ì‹œ, **ëª…ì‹œì ìœ¼ë¡œ ê°ì§€í•˜ê³  ì¬êµ¬ì„±(reconfiguration)ì´ í•„ìš”í•œ ë°©ì‹**.\nâ€¢ ë ˆí”Œë¦¬ì¹´ì˜ ìƒíƒœë¥¼ ì¶”ì í•˜ê³ , ì¥ì• ê°€ í™•ì¸ë˜ë©´ ìƒˆë¡œìš´ ë³µì œ êµ¬ì¡°ë¥¼ ì„¤ì •í•´ì•¼ í•¨.\nâ€¢ **íŠ¹ì§•:**\n\tâ€¢ ì¥ì•  ê°ì§€ë¥¼ ìœ„í•œ ì¶”ê°€ì ì¸ ì˜¤ë²„í—¤ë“œ ì¡´ì¬.\n\tâ€¢ ì¥ì• ê°€ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ëŒ€ì‘ì´ í•„ìš”í•˜ë¯€ë¡œ, ë³µêµ¬ ê³¼ì •ì´ í•„ìš”í•¨.\n\n**ğŸ”¹ 2. í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹: ë¦¬ë” ê¸°ë°˜ ë³µì œ (Leader-Based Replication)**\n\nâ€¢ ë¦¬ë”(Leader)ë¥¼ ë‘ê³ , ë¦¬ë”ê°€ ëª¨ë“  ë³µì œë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ì‹.\nâ€¢ ëŒ€í‘œì ì¸ ì•Œê³ ë¦¬ì¦˜: **Raft, Paxos**\nâ€¢ **Failure Maskingê³¼ Failure Detectionì˜ ì¤‘ê°„ í˜•íƒœ**\nâ†’ ë¦¬ë”ê°€ ì¥ì• ê°€ ë‚˜ë©´ ìƒˆë¡œìš´ ë¦¬ë”ë¥¼ ì„ ì¶œí•´ì•¼ í•˜ì§€ë§Œ, ìš´ì˜ ì¤‘ì—ëŠ” ë³µì œë¥¼ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ.\n\nâ€¢ **íŠ¹ì§•:**\n\tâ€¢ ì¥ì•  ì‹œ ë¦¬ë”ë¥¼ ì„ ì¶œí•˜ëŠ” ê³¼ì •ì—ì„œ ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ.\n\tâ€¢ íŠ¸ëœì­ì…˜ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸°ì— ì í•©.\n\n**ğŸ”¹ 3. ë³µì œ ì•Œê³ ë¦¬ì¦˜ ë¹„êµ (íŠ¸ë ˆì´ë“œì˜¤í”„)**\n\n| **ë°©ì‹**                         | **ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì„±** | **ê°€ìš©ì„±(Availability)** | **ì§€ì—°ì‹œê°„(Latency)** |\n| ------------------------------ | ----------- | --------------------- | ----------------- |\n| **Failure Masking (ì¿¼ëŸ¼ ê¸°ë°˜)**    | ë³´í†µ          | ë†’ìŒ                    | ë‚®ìŒ                |\n| **Failure Detection (ì¬êµ¬ì„± í•„ìš”)** | ë‚®ìŒ          | ì¤‘ê°„                    | ë†’ìŒ                |\n| **ë¦¬ë” ê¸°ë°˜ ë³µì œ (Raft ë“±)**          | ë†’ìŒ          | ì¤‘ê°„                    | ì¤‘ê°„                |\n\nê° ë°©ì‹ì€ **íŠ¹ì •í•œ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ì í•©ì„±ì´ ë‹¬ë¼ì§€ë©°, ì™„ë²½í•œ ë°©ì‹ì€ ì—†ìŒ**.\n\n**ğŸ”¹ 4. ì£¼ìš” ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì˜ ì ìš© ë°©ì‹**\n\n  ë‹¤ì–‘í•œ ë°ì´í„°ë² ì´ìŠ¤ë“¤ì´ ê°ê°ì˜ ëª©ì ì— ë§ëŠ” ë³µì œ ë°©ì‹ì„ ì„ íƒí•˜ê³  ìˆì–´.\n\nâ€¢ **ë¦¬ë” ê¸°ë°˜ ë³µì œ:** MongoDB, Redis Cluster ë“±\nâ€¢ **ì¿¼ëŸ¼ ê¸°ë°˜ ë³µì œ:** Cassandra, Riak KV ë“±\nâ€¢ **ì¬êµ¬ì„± ê¸°ë°˜ ë³µì œ:** Elasticsearch, InfluxDB ë“±\n\n**ğŸ”¹ 5. ê²°ë¡ : ì™„ë²½í•œ ë°©ì‹ì€ ì—†ìŒ**\n\nâ€¢ **ëª¨ë“  ë³µì œ ì•Œê³ ë¦¬ì¦˜ì€ íŠ¸ë ˆì´ë“œì˜¤í”„ê°€ ì¡´ì¬**í•˜ë©°, ì‹œìŠ¤í…œì´ ìš”êµ¬í•˜ëŠ” **ì¼ê´€ì„±(Consistency), ê°€ìš©ì„±(Availability), ì„±ëŠ¥(Performance)** ì„ ê³ ë ¤í•´ ì„ íƒí•´ì•¼ í•¨.\nâ€¢ ì˜ˆë¥¼ ë“¤ì–´,\n\tâ€¢ **ë†’ì€ ê°€ìš©ì„±**ì´ í•„ìš”í•˜ë©´ Failure Masking ë°©ì‹ì´ ìœ ë¦¬.\n\tâ€¢ **ë¦¬ë” ê¸°ë°˜ìœ¼ë¡œ ê°•í•œ ì¼ê´€ì„±**ì„ ì›í•˜ë©´ Raft ê°™ì€ ë¦¬ë” ê¸°ë°˜ ë³µì œê°€ ì í•©.\n\tâ€¢ **ì¬êµ¬ì„±ì´ ìš©ì´í•œ ì‹œìŠ¤í…œ**ì´ í•„ìš”í•˜ë©´ Failure Detection ê¸°ë°˜ì˜ ì ‘ê·¼ì´ íš¨ê³¼ì .\n\n  \n\nğŸ”— ì›ë¬¸: [Transactional Blog](https://transactional.blog/blog/2024-data-replication-design-spectrum?utm_source=chatgpt.com)",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 2,
    "wordCount": 378,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "crush-controlled-replication-under-scalable-hashing",
    "slug": "crush-controlled-replication-under-scalable-hashing",
    "path": "distributed-systems/ceph",
    "fullPath": "distributed-systems/ceph/crush-controlled-replication-under-scalable-hashing",
    "title": "CRUSH (Controlled Replication Under Scalable Hashing)",
    "excerpt": "CRUSH (Controlled Replication Under Scalable Hashing) ê¸°ë³¸ ê°œë… CRUSHëŠ” Cephì˜ í•µì‹¬ ë°ì´í„° ë°°ì¹˜ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ, ë°ì´í„° ê°ì²´ë¥¼ í´ëŸ¬ìŠ¤í„°ì˜ ë¬¼ë¦¬ì  ì €ì¥ ì¥ì¹˜ì— ë¶„ì‚° ë°°ì¹˜í•˜ëŠ” ë°©ë²•ì„ ê²°ì •í•©ë‹ˆë‹¤. ì£¼ìš” íŠ¹...",
    "content": "# CRUSH (Controlled Replication Under Scalable Hashing)\n\n## ê¸°ë³¸ ê°œë…\nCRUSHëŠ” Cephì˜ í•µì‹¬ ë°ì´í„° ë°°ì¹˜ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ, ë°ì´í„° ê°ì²´ë¥¼ í´ëŸ¬ìŠ¤í„°ì˜ ë¬¼ë¦¬ì  ì €ì¥ ì¥ì¹˜ì— ë¶„ì‚° ë°°ì¹˜í•˜ëŠ” ë°©ë²•ì„ ê²°ì •í•©ë‹ˆë‹¤.\n\n## ì£¼ìš” íŠ¹ì§•\n1. **ê²°ì •ì  ë°°ì¹˜**: ë™ì¼í•œ ì…ë ¥ì— ëŒ€í•´ í•­ìƒ ê°™ì€ ê²°ê³¼ ë°˜í™˜ (ì¤‘ì•™ ì¡°ì • ì—†ìŒ)\n2. **í™•ì¥ì„±**: ìˆ˜ì²œ~ìˆ˜ë§Œ ê°œì˜ ì¥ì¹˜ ì§€ì› ê°€ëŠ¥\n3. **ìê°€ ê´€ë¦¬**: í´ëŸ¬ìŠ¤í„° ë³€í™”ì— ìë™ ì ì‘\n4. **ì¥ì•  ë„ë©”ì¸ ì¸ì‹**: í•˜ë“œì›¨ì–´ ì¥ì•  ì‹œë‚˜ë¦¬ì˜¤ ê³ ë ¤í•œ ë°°ì¹˜\n\n## CRUSH ì‘ë™ ë°©ì‹\n\n### 1. ê³„ì¸µ êµ¬ì¡°(CRUSH ë§µ)\n- **ì¥ì¹˜(Device)**: ì‹¤ì œ ë¬¼ë¦¬ì  OSD(Object Storage Daemon)\n- **ë²„í‚·(Bucket)**: ì¥ì¹˜ë‚˜ ë‹¤ë¥¸ ë²„í‚·ì„ í¬í•¨í•˜ëŠ” ë…¼ë¦¬ì  ê·¸ë£¹\n  - **í˜¸ìŠ¤íŠ¸(Host)**: í•œ ì„œë²„ì˜ OSD ê·¸ë£¹\n  - **ë™(Rack)**: ì—¬ëŸ¬ í˜¸ìŠ¤íŠ¸ ê·¸ë£¹\n  - **ë¡œìš°(Row)**: ì—¬ëŸ¬ ë™ ê·¸ë£¹\n  - **ë£¸(Room)**: ì—¬ëŸ¬ ë¡œìš° ê·¸ë£¹\n  - **ë°ì´í„°ì„¼í„°(DC)**: ì—¬ëŸ¬ ë£¸ ê·¸ë£¹\n  - **ë£¨íŠ¸(Root)**: ìµœìƒìœ„ ë²„í‚·\n\n### 2. ë°°ì¹˜ ê·œì¹™(CRUSH Rule)\n- **ëª©ì **: ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°°ì¹˜í• ì§€ ì •ì˜\n- **êµ¬ì„± ìš”ì†Œ**:\n  - **ê·œì¹™ ì„¸íŠ¸(Rule Set)**: ê·œì¹™ ëª¨ìŒ\n  - **ê·œì¹™ ë‹¨ê³„(Rule Step)**: ê° ê·œì¹™ì˜ ì‘ì—… ë‹¨ìœ„\n  - **ì‹¤íŒ¨ ë„ë©”ì¸(Failure Domain)**: í•¨ê»˜ ì‹¤íŒ¨í•  ìˆ˜ ìˆëŠ” êµ¬ì„± ìš”ì†Œ ë‹¨ìœ„(ì˜ˆ: í˜¸ìŠ¤íŠ¸, ë™)\n  - **íƒ€ì… ì§€ì •ì(Type Specifier)**: ë°°ì¹˜ ì‹œ ì‚¬ìš©í•  ê³„ì¸µ ì§€ì •\n\n### 3. ì•Œê³ ë¦¬ì¦˜ í”„ë¡œì„¸ìŠ¤\n1. **í•´ì‹±**: ê°ì²´ IDë¥¼ í•´ì‹œí•˜ì—¬ ì˜ì‚¬ ë‚œìˆ˜ ì‹œë“œ ìƒì„±\n2. **ê·œì¹™ ì ìš©**: CRUSH ê·œì¹™ì— ë”°ë¼ ë°°ì¹˜ ìœ„ì¹˜ ê²°ì •\n3. **ê³„ì¸µ íƒìƒ‰**: ì§€ì •ëœ ì‹¤íŒ¨ ë„ë©”ì¸ì—ì„œ ì ì ˆí•œ ì¥ì¹˜ ì„ íƒ\n4. **ë°°ì¹˜ í™•ì •**: ì„ íƒëœ ì¥ì¹˜ì— ë°ì´í„° ë°°ì¹˜\n\n## ì´ë ˆì´ì € ì½”ë”©ê³¼ CRUSH í†µí•©\n\n### 1. ì²­í¬ ë°°ì¹˜\n- ê° ë°ì´í„° ì²­í¬(K)ì™€ ì½”ë”© ì²­í¬(M)ëŠ” CRUSH ì•Œê³ ë¦¬ì¦˜ì— ì˜í•´ ì„œë¡œ ë‹¤ë¥¸ ì¥ì¹˜ì— ë°°ì¹˜\n- ì‹¤íŒ¨ ë„ë©”ì¸ì„ ê³ ë ¤í•˜ì—¬ ê°™ì€ ì‹¤íŒ¨ ì§€ì ì— ì—¬ëŸ¬ ì²­í¬ ë°°ì¹˜ ë°©ì§€\n\n### 2. ì´ë ˆì´ì € ì½”ë“œë³„ CRUSH ê·œì¹™\n- `ErasureCode::create_rule()`: ê° ì´ë ˆì´ì € ì½”ë“œ êµ¬í˜„ì€ ìì‹ ë§Œì˜ CRUSH ê·œì¹™ ìƒì„±\n- **ê·œì¹™ ë§¤ê°œë³€ìˆ˜**:\n  - `rule_root`: ìµœìƒìœ„ ë²„í‚· ì§€ì • (ê¸°ë³¸ê°’: \"default\")\n  - `rule_failure_domain`: ì‹¤íŒ¨ ë„ë©”ì¸ ì§€ì • (ê¸°ë³¸ê°’: \"host\")\n  - `rule_device_class`: ì¥ì¹˜ í´ë˜ìŠ¤ ì œí•œ (ì˜ˆ: SSDë§Œ ì‚¬ìš©)\n\n### 3. êµ¬í˜„ ì„¸ë¶€ì‚¬í•­\n```cpp\nint ErasureCode::create_rule(const std::string &name,\n                            CrushWrapper &crush,\n                            std::ostream *ss) const {\n  // ìµœì†Œ í•„ìš” ì¥ì¹˜ ìˆ˜ ê³„ì‚°\n  int min_rep = get_chunk_count();\n  // ì§€ì •ëœ ì‹¤íŒ¨ ë„ë©”ì¸ì— í•´ë‹¹í•˜ëŠ” íƒ€ì… ID ì¡°íšŒ\n  int type = crush.get_type_id(rule_failure_domain);\n  // ë£¨íŠ¸ ë²„í‚· ID ì¡°íšŒ\n  int rootid = crush.get_item_id(rule_root);\n  // ì‹¤ì œ CRUSH ê·œì¹™ ìƒì„±\n  int rno = crush.add_simple_rule(name, rule_root, rule_failure_domain,\n                                  \"firstn\", pg_pool_t::TYPE_ERASURE,\n                                  min_rep, ss);\n  return rno;\n}\n```\n\n## ì‹¤íŒ¨ ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤\n\n### 1. ì²­í¬ ì†ì‹¤ ìƒí™©\n- íŠ¹ì • OSD ì‹¤íŒ¨ë¡œ ì¼ë¶€ ì²­í¬ ì†ì‹¤\n- CRUSH ë§µ ì°¸ì¡°í•˜ì—¬ ì†ì‹¤ëœ ì²­í¬ì˜ ìœ„ì¹˜ íŒŒì•…\n\n### 2. ë³µêµ¬ í”„ë¡œì„¸ìŠ¤\n- `minimum_to_decode_with_cost()`: ìµœì†Œ ë¹„ìš©ìœ¼ë¡œ ë³µêµ¬ ê°€ëŠ¥í•œ ì²­í¬ ì„¸íŠ¸ ê³„ì‚°\n- ë‚¨ì•„ìˆëŠ” ì²­í¬ ìœ„ì¹˜ íŒŒì•… (CRUSH ë§µ ì´ìš©)\n- í•´ë‹¹ ì²­í¬ë“¤ë¡œë¶€í„° ì†ì‹¤ëœ ì²­í¬ ë³µêµ¬\n- ìƒˆë¡œìš´ ì¥ì¹˜ì— ë³µêµ¬ëœ ì²­í¬ ì¬ë°°ì¹˜ (CRUSH ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©)\n\n## CRUSHì˜ ì¥ì \n1. **í™•ì¥ì„±**: ì¤‘ì•™ ë©”íƒ€ë°ì´í„° í…Œì´ë¸” ì—†ì´ ë°°ì¹˜ ê³„ì‚°\n2. **ë³µì›ë ¥**: í´ëŸ¬ìŠ¤í„° ë³€í™”ì— ë™ì  ì ì‘\n3. **íŠœë‹ ê°€ëŠ¥ì„±**: ë‹¤ì–‘í•œ ì›Œí¬ë¡œë“œì— ìµœì í™” ê°€ëŠ¥\n4. **í•˜ë“œì›¨ì–´ ì¸ì‹**: ì‹¤ì œ ë¬¼ë¦¬ì  í† í´ë¡œì§€ ë°˜ì˜ ê°€ëŠ¥",
    "docType": "original",
    "category": "Distributed Systems",
    "tags": [],
    "readingTime": 3,
    "wordCount": 441,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ceph-erasure-coding-ë©”íƒ€ë°ì´í„°-ê´€ë¦¬",
    "slug": "ceph-erasure-coding-metadeiteo-gwanri",
    "path": "distributed-systems/ceph",
    "fullPath": "distributed-systems/ceph/ceph-erasure-coding-metadeiteo-gwanri",
    "title": "Ceph Erasure Coding ë©”íƒ€ë°ì´í„° ê´€ë¦¬",
    "excerpt": "Ceph Erasure Coding ë©”íƒ€ë°ì´í„° ê´€ë¦¬ ë©”íƒ€ë°ì´í„° ì¢…ë¥˜ ì½”ë”© í”„ë¡œíŒŒì¼ ì •ë³´: K, M ê°’ (ë°ì´í„° ì²­í¬ ìˆ˜, ì½”ë”© ì²­í¬ ìˆ˜) ì‚¬ìš©ëœ ì´ë ˆì´ì € ì½”ë”© ì•Œê³ ë¦¬ì¦˜ ìœ í˜• íŠ¹ìˆ˜ íŒŒë¼ë¯¸í„° (ì˜ˆ: jerasure...",
    "content": "# Ceph Erasure Coding ë©”íƒ€ë°ì´í„° ê´€ë¦¬\n\n## 1. ë©”íƒ€ë°ì´í„° ì¢…ë¥˜\n1. **ì½”ë”© í”„ë¡œíŒŒì¼ ì •ë³´**:\n   - K, M ê°’ (ë°ì´í„° ì²­í¬ ìˆ˜, ì½”ë”© ì²­í¬ ìˆ˜)\n   - ì‚¬ìš©ëœ ì´ë ˆì´ì € ì½”ë”© ì•Œê³ ë¦¬ì¦˜ ìœ í˜•\n   - íŠ¹ìˆ˜ íŒŒë¼ë¯¸í„° (ì˜ˆ: jerasure ê¸°ë²•, LRC ë¡œì»¬ ê·¸ë£¹ í¬ê¸°)\n\n2. **ì²­í¬ ë§¤í•‘ ì •ë³´**:\n   - ê° ì²­í¬ì˜ ë…¼ë¦¬ì  ì¸ë±ìŠ¤ì™€ ë¬¼ë¦¬ì  OSD ë§¤í•‘\n   - `chunk_mapping` ë²¡í„°ì— ì €ì¥\n\n3. **ê°ì²´ ë ˆì´ì•„ì›ƒ ì •ë³´**:\n   - ì²­í¬ í¬ê¸°\n   - ìŠ¤íŠ¸ë¼ì´í”„ í¬ê¸°\n   - ê°ì²´ í¬ê¸° ë° íŒ¨ë”© ì •ë³´\n\n4. **CRUSH ê·œì¹™ ë©”íƒ€ë°ì´í„°**:\n   - ì‹¤íŒ¨ ë„ë©”ì¸ ì„¤ì •\n   - ê·œì¹™ ID ë° ì´ë¦„\n   - ë””ë°”ì´ìŠ¤ í´ë˜ìŠ¤ ì œí•œ ì •ë³´\n\n## 2. ë©”íƒ€ë°ì´í„° ì €ì¥ ë°©ì‹\n\n### í’€(Pool) ìˆ˜ì¤€ ë©”íƒ€ë°ì´í„°\n1. **í’€ ì†ì„±**:\n   - `ceph osd pool set {pool-name} erasure_code_profile {profile-name}`\n   - í´ëŸ¬ìŠ¤í„° ëª¨ë‹ˆí„° ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥\n   - CRUSH ê·œì¹™ê³¼ ì—°ê²°\n\n2. **í”„ë¡œíŒŒì¼ ì €ì¥**:\n   ```cpp\n   const ErasureCodeProfile &get_profile() const {\n     return _profile;\n   }\n   ```\n   - í´ëŸ¬ìŠ¤í„° ëª¨ë‹ˆí„°ì˜ í‚¤-ê°’ ì €ì¥ì†Œì— ë³´ê´€\n   - ê° í’€ë§ˆë‹¤ í•˜ë‚˜ì˜ í”„ë¡œíŒŒì¼ ì‚¬ìš©\n\n### ê°ì²´ ìˆ˜ì¤€ ë©”íƒ€ë°ì´í„°\n1. **OMAP(Object Map) í™œìš©**:\n   - ê°ì²´ í—¤ë”ì— ë©”íƒ€ë°ì´í„° ì €ì¥\n   - xattr(í™•ì¥ ì†ì„±)ìœ¼ë¡œ ì²­í¬ ì •ë³´ ì €ì¥\n\n2. **ê°ì²´ ì†ì„±**:\n   - ê°ì²´ í¬ê¸°, ìŠ¤íŠ¸ë¼ì´í”„ ì •ë³´\n   - íƒ€ì„ìŠ¤íƒ¬í”„, ì‚¬ìš©ì ì •ì˜ ë©”íƒ€ë°ì´í„°\n\n### PG(Placement Group) ìˆ˜ì¤€ ë©”íƒ€ë°ì´í„°\n1. **PG ë¡œê·¸**:\n   - ëª¨ë“  ì“°ê¸° ì‘ì—… ê¸°ë¡\n   - ë³µêµ¬ì— í•„ìš”í•œ ì‘ì—… ìˆœì„œ ë³´ì¡´\n\n2. **OSDMap**:\n   - í˜„ì¬ í´ëŸ¬ìŠ¤í„° ìƒíƒœ ë°˜ì˜\n   - ê° PGì˜ CRUSH ë§¤í•‘ ì •ë³´ í¬í•¨\n\n## 3. ì²­í¬ ë§¤í•‘ ê´€ë¦¬\n\n1. **ë…¼ë¦¬ì  ë§¤í•‘**:\n   ```cpp\n   const std::vector<int> &get_chunk_mapping() const;\n   ```\n   - ì²­í¬ ì¸ë±ìŠ¤(0~K+M-1)ì™€ ì‹¤ì œ OSD ë§¤í•‘\n   - ì¸ì½”ë”©/ë””ì½”ë”© ì‹œ ì°¸ì¡°\n\n2. **ë§¤í•‘ ì´ˆê¸°í™”**:\n   ```cpp\n   int to_mapping(const ErasureCodeProfile &profile, std::ostream *ss);\n   ```\n   - í”„ë¡œíŒŒì¼ì—ì„œ ë§¤í•‘ ì •ë³´ ì¶”ì¶œ\n   - í•„ìš”ì‹œ ê¸°ë³¸ ìˆœì°¨ ë§¤í•‘ ìƒì„±\n\n3. **ë§¤í•‘ í™œìš©**:\n   ```cpp\n   int chunk_index(unsigned int i) const;\n   ```\n   - ì²­í¬ IDë¥¼ ì‹¤ì œ ì €ì¥ ìœ„ì¹˜ë¡œ ë³€í™˜\n   - ë°ì´í„° ì¡°íšŒ ì‹œ í•„ìš”í•œ ìœ„ì¹˜ ê³„ì‚°\n\n## 4. í”„ë¡œíŒŒì¼ ê´€ë¦¬\n\n1. **í”„ë¡œíŒŒì¼ êµ¬ì„±**:\n   ```cpp\n   typedef std::map<std::string,std::string> ErasureCodeProfile;\n   ```\n   - í‚¤-ê°’ ìŒ í˜•íƒœë¡œ ì„¤ì • ì €ì¥\n   - ì˜ˆ: `{\"k\":\"4\", \"m\":\"2\", \"technique\":\"reed_sol_van\"}`\n\n2. **í”„ë¡œíŒŒì¼ íŒŒì‹±**:\n   ```cpp\n   int parse(const ErasureCodeProfile &profile, std::ostream *ss);\n   ```\n   - ë¬¸ìì—´ í˜•íƒœì˜ ì„¤ì •ì„ ë‚´ë¶€ ê°’ìœ¼ë¡œ ë³€í™˜\n   - íƒ€ì… ë³€í™˜ í—¬í¼ ë©”ì„œë“œ ì œê³µ:\n     ```cpp\n     static int to_int(const std::string &name, ErasureCodeProfile &profile, ...);\n     static int to_bool(const std::string &name, ErasureCodeProfile &profile, ...);\n     ```\n\n3. **í”„ë¡œíŒŒì¼ ê²€ì¦**:\n   ```cpp\n   int sanity_check_k_m(int k, int m, std::ostream *ss);\n   ```\n   - K, M ê°’ì˜ ìœ íš¨ì„± ê²€ì‚¬\n   - ìµœì†Œ/ìµœëŒ€ ê°’ ì œí•œ ì ìš©\n\n## 5. ë©”íƒ€ë°ì´í„° ë³µêµ¬ ì „ëµ\n\n1. **í´ëŸ¬ìŠ¤í„° ë§µ ë™ê¸°í™”**:\n   - ëª¨ë‹ˆí„° ë…¸ë“œì—ì„œ ì£¼ê¸°ì ìœ¼ë¡œ OSDMap ë™ê¸°í™”\n   - ë³€ê²½ ì‚¬í•­ì„ ëª¨ë“  ë…¸ë“œì— ì „íŒŒ\n\n2. **ë©”íƒ€ë°ì´í„° ì¤‘ë³µ ì €ì¥**:\n   - ì¤‘ìš” ë©”íƒ€ë°ì´í„°ëŠ” ì—¬ëŸ¬ ëª¨ë‹ˆí„° ë…¸ë“œì— ë³µì œ\n   - Paxos ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì¼ê´€ì„± ë³´ì¥\n\n3. **PG ë¡œê·¸ í™œìš©**:\n   - ì‘ì—… ìˆœì„œëŒ€ë¡œ ê¸°ë¡ëœ ë¡œê·¸ë¡œ ë©”íƒ€ë°ì´í„° ë³µêµ¬\n   - PG ìŠ¤í¬ëŸ¬ë¹™ìœ¼ë¡œ ë©”íƒ€ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦\n\n4. **ì˜¤ë¥˜ ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤**:\n   - OSD ì‹¤íŒ¨: ë‹¤ë¥¸ OSDì—ì„œ ë©”íƒ€ë°ì´í„° ë³µêµ¬\n   - ëª¨ë‹ˆí„° ì‹¤íŒ¨: ë‹¤ë¥¸ ëª¨ë‹ˆí„°ì—ì„œ ë©”íƒ€ë°ì´í„° ë³µì œ\n   - ì „ì²´ ë©”íƒ€ë°ì´í„° ì†ì‹¤: ë°±ì—… ë˜ëŠ” CRUSH ì¬ê³„ì‚°\n\n## 6. ì„±ëŠ¥ ìµœì í™”\n\n1. **ë©”íƒ€ë°ì´í„° ìºì‹±**:\n   - ìì£¼ ì‚¬ìš©ë˜ëŠ” í”„ë¡œíŒŒì¼ê³¼ ë§¤í•‘ ì •ë³´ ë©”ëª¨ë¦¬ ìºì‹±\n   - OSD ë° í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìºì‹œ í™œìš©\n\n2. **íš¨ìœ¨ì ì¸ ì¡°íšŒ**:\n   - ì¸ë±ìŠ¤ ê¸°ë°˜ ë¹ ë¥¸ ì²­í¬ ìœ„ì¹˜ ì¡°íšŒ\n   - ë³‘ë ¬ ë©”íƒ€ë°ì´í„° ì¡°íšŒ ì§€ì›\n\n3. **ì••ì¶• ì €ì¥**:\n   - ë©”íƒ€ë°ì´í„° ì••ì¶•ìœ¼ë¡œ ì €ì¥ ê³µê°„ ë° ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ ì ˆì•½\n   - ì‘ì€ ê°ì²´ ë©”íƒ€ë°ì´í„° í†µí•© ì €ì¥\n\n4. **ì§€ì—° ì—…ë°ì´íŠ¸**:\n   - ë¹„ì¤‘ìš” ë©”íƒ€ë°ì´í„° ë³€ê²½ì€ ì§€ì—° ê¸°ë¡ìœ¼ë¡œ ì„±ëŠ¥ í–¥ìƒ\n   - ì¼ê´„ ì²˜ë¦¬(batching)ë¡œ ë””ìŠ¤í¬ I/O ìµœì†Œí™”",
    "docType": "original",
    "category": "Distributed Systems",
    "tags": [],
    "readingTime": 3,
    "wordCount": 521,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ceph-erasure-coding-ë°ì´í„°-ì¡°íšŒ-íë¦„",
    "slug": "ceph-erasure-coding-deiteo-johoe-heureum",
    "path": "distributed-systems/ceph",
    "fullPath": "distributed-systems/ceph/ceph-erasure-coding-deiteo-johoe-heureum",
    "title": "Ceph Erasure Coding ë°ì´í„° ì¡°íšŒ íë¦„",
    "excerpt": "Ceph Erasure Coding ë°ì´í„° ì¡°íšŒ íë¦„ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ë‹¨ê³„ ê°ì²´ ì ‘ê·¼ ìš”ì²­: í´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ì • ê°ì²´ IDë¡œ ë°ì´í„° ìš”ì²­ CRUSH ê³„ì‚°: í´ë¼ì´ì–¸íŠ¸ëŠ” CRUSH ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•´ ê°ì²´ì˜ ì²­í¬ë“¤ì´ ì €ì¥ëœ OSD...",
    "content": "# Ceph Erasure Coding ë°ì´í„° ì¡°íšŒ íë¦„\n\n## 1. í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ë‹¨ê³„\n1. **ê°ì²´ ì ‘ê·¼ ìš”ì²­**: í´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ì • ê°ì²´ IDë¡œ ë°ì´í„° ìš”ì²­\n2. **CRUSH ê³„ì‚°**: í´ë¼ì´ì–¸íŠ¸ëŠ” CRUSH ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•´ ê°ì²´ì˜ ì²­í¬ë“¤ì´ ì €ì¥ëœ OSD ìœ„ì¹˜ ê³„ì‚°\n3. **PG(Placement Group) ê²°ì •**: ê°ì²´ê°€ ì†í•œ ë°°ì¹˜ ê·¸ë£¹ ì‹ë³„\n\n## 2. ë°ì´í„° ì²­í¬ ìˆ˜ì§‘ ë‹¨ê³„\n1. **ê°€ìš© ì²­í¬ í™•ì¸**: \n   - ëª¨ë“  ë°ì´í„° ì²­í¬(Kê°œ)ê°€ ê°€ìš©í•œ ê²½ìš°: ì§ì ‘ ë°ì´í„° ì²­í¬ë§Œ ì½ìŒ\n   - ì¼ë¶€ ë°ì´í„° ì²­í¬ ëˆ„ë½: ë³µêµ¬ë¥¼ ìœ„í•œ ìµœì†Œ ì²­í¬ ì„¸íŠ¸ ê²°ì •\n\n2. **ìµœì  ì²­í¬ ì„ íƒ**:\n   ```cpp\n   minimum_to_decode_with_cost(want_to_read, available, &minimum);\n   ```\n   - `want_to_read`: í•„ìš”í•œ ì²­í¬ ID ì§‘í•©\n   - `available`: ê°€ìš©í•œ ì²­í¬ì™€ ì ‘ê·¼ ë¹„ìš© ë§µ\n   - `minimum`: ìµœì†Œ ë¹„ìš©ìœ¼ë¡œ ë³µêµ¬ ê°€ëŠ¥í•œ ì²­í¬ ì§‘í•©\n\n3. **ì²­í¬ ë³‘ë ¬ ìš”ì²­**: í•„ìš”í•œ ëª¨ë“  ì²­í¬ë¥¼ ë³‘ë ¬ë¡œ ìš”ì²­ (ë°ì´í„° ì²­í¬ + í•„ìš”í•œ ì½”ë”© ì²­í¬)\n\n## 3. ë°ì´í„° ë³µì› ë‹¨ê³„\n1. **ëª¨ë“  ë°ì´í„° ì²­í¬ ê°€ìš© ì‹œ**: \n   - ë‹¨ìˆœíˆ í•„ìš”í•œ ë°ì´í„° ì²­í¬ë¥¼ ì—°ê²°í•˜ì—¬ ì›ë³¸ ë°ì´í„° êµ¬ì„±\n   - ì˜ˆ: K=4ì¸ ê²½ìš°, 4ê°œ ë°ì´í„° ì²­í¬ ì—°ê²°\n\n2. **ì¼ë¶€ ë°ì´í„° ì²­í¬ ëˆ„ë½ ì‹œ**:\n   - `decode()` ë©”ì„œë“œ í˜¸ì¶œë¡œ ë³µì› ì‹œì‘\n   ```cpp\n   decode(want_to_read, chunks, &decoded, chunk_size);\n   ```\n\n3. **ë³µí˜¸í™” ê³¼ì •**:\n   - ì´ë ˆì´ì € ì½”ë”© ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©í•˜ì—¬ ëˆ„ë½ëœ ì²­í¬ ë³µì›\n   - ê° êµ¬í˜„ë³„ ë³µí˜¸í™” ë°©ì‹ ì°¨ì´:\n     - **Jerasure**: Reed-Solomon ê¸°ë°˜ í–‰ë ¬ ì—°ì‚°ìœ¼ë¡œ ë³µì›\n     - **LRC**: ë¡œì»¬/ê¸€ë¡œë²Œ íŒ¨ë¦¬í‹° í™œìš© ë³µì›\n     - **ISA**: Intel ISA-L ìµœì í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©\n     - **CLAY**: ê³„ì¸µì  ë³µì› ë°©ì‹\n\n4. **í•˜ìœ„ ì²­í¬(Sub-chunk) ì²˜ë¦¬**:\n   - ì¼ë¶€ êµ¬í˜„ì€ ì²­í¬ë¥¼ ë” ì‘ì€ í•˜ìœ„ ì²­í¬ë¡œ ë¶„í• \n   - í•„ìš”í•œ í•˜ìœ„ ì²­í¬ë§Œ ë³µì›í•˜ì—¬ íš¨ìœ¨ì„± ì¦ê°€\n\n## 4. ì‘ë‹µ ì²˜ë¦¬ ë‹¨ê³„\n1. **ë°ì´í„° ì¬êµ¬ì„±**:\n   - ë³µì›ëœ ì²­í¬ë“¤ì—ì„œ ìš”ì²­ëœ ë°ì´í„° ë¶€ë¶„ ì¶”ì¶œ\n   - ì²­í¬ ì˜¤í”„ì…‹ ê³„ì‚°: `byte_offset = B % chunk_size`\n   - ì²­í¬ ì¸ë±ìŠ¤ ê³„ì‚°: `chunk_index = B / chunk_size`\n\n2. **ë²„í¼ ìƒì„± ë° ë°˜í™˜**:\n   - ë³µì›ëœ ë°ì´í„°ë¥¼ ë‹¨ì¼ ë²„í¼ë¡œ ì—°ê²°\n   - íŒ¨ë”© ì œê±° (ë§ˆì§€ë§‰ ì²­í¬ì— ì¶”ê°€ëœ íŒ¨ë”©)\n   ```cpp\n   decode_concat(want_to_read, chunks, &decoded);\n   ```\n\n3. **í´ë¼ì´ì–¸íŠ¸ ì‘ë‹µ**:\n   - ì¬êµ¬ì„±ëœ ì›ë³¸ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜\n\n## 5. ì²­í¬ ìºì‹± ë° ìµœì í™”\n1. **ì½ê¸° ìºì‹±**: ìì£¼ ì ‘ê·¼í•˜ëŠ” ì²­í¬ëŠ” ë©”ëª¨ë¦¬ì— ìºì‹±\n2. **ë¶€ë¶„ ì½ê¸°**: í•„ìš”í•œ ë¶€ë¶„ë§Œ ë³µì› (ì „ì²´ ê°ì²´ê°€ í•„ìš” ì—†ëŠ” ê²½ìš°)\n3. **ì§€ì—° ë³µêµ¬**: ì½ê¸° ìš”ì²­ì´ ì—†ëŠ” ì†ì‹¤ ì²­í¬ëŠ” ì¦‰ì‹œ ë³µêµ¬í•˜ì§€ ì•Šê³  ì§€ì—°\n\n## ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­\n1. **ë³µêµ¬ ë¹„ìš©**: M(ì½”ë”© ì²­í¬ ìˆ˜)ì´ í´ìˆ˜ë¡ ì €ì¥ íš¨ìœ¨ì„± ì¦ê°€, ë³µêµ¬ ë¹„ìš© ì¦ê°€\n2. **ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½**: ë³µêµ¬ ì‹œ í•„ìš”í•œ ë°ì´í„° ì „ì†¡ëŸ‰ (íŠ¹íˆ CLAY ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìµœì í™”)\n3. **ë””ì½”ë”© ê³„ì‚° ë¹„ìš©**: ì•Œê³ ë¦¬ì¦˜ë³„ CPU ì‚¬ìš©ëŸ‰ê³¼ ì§€ì—° ì‹œê°„ ì°¨ì´",
    "docType": "original",
    "category": "Distributed Systems",
    "tags": [],
    "readingTime": 2,
    "wordCount": 370,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ceph-erasure-coding-ë°ì´í„°-ì €ì¥-íë¦„",
    "slug": "ceph-erasure-coding-deiteo-jeojang-heureum",
    "path": "distributed-systems/ceph",
    "fullPath": "distributed-systems/ceph/ceph-erasure-coding-deiteo-jeojang-heureum",
    "title": "Ceph Erasure Coding ë°ì´í„° ì €ì¥ íë¦„",
    "excerpt": "Ceph Erasure Coding ë°ì´í„° ì €ì¥ íë¦„ í´ë¼ì´ì–¸íŠ¸ ì“°ê¸° ìš”ì²­ ë‹¨ê³„ ê°ì²´ ì“°ê¸° ìš”ì²­: í´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ì • í’€ì— ë°ì´í„° ì“°ê¸° ìš”ì²­ PG(Placement Group) ê²°ì •: ê°ì²´ IDë¥¼ í•´ì‹œí•˜ì—¬ ì†í•  PG ê³„ì‚° 3....",
    "content": "# Ceph Erasure Coding ë°ì´í„° ì €ì¥ íë¦„\n\n## 1. í´ë¼ì´ì–¸íŠ¸ ì“°ê¸° ìš”ì²­ ë‹¨ê³„\n1. **ê°ì²´ ì“°ê¸° ìš”ì²­**: í´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ì • í’€ì— ë°ì´í„° ì“°ê¸° ìš”ì²­\n2. **PG(Placement Group) ê²°ì •**: ê°ì²´ IDë¥¼ í•´ì‹œí•˜ì—¬ ì†í•  PG ê³„ì‚°\n3. **ì£¼ OSD ì„ íƒ**: í•´ë‹¹ PGì˜ ì£¼(Primary) OSDë¡œ ì“°ê¸° ìš”ì²­ ì „ë‹¬\n\n## 2. ë°ì´í„° ì¸ì½”ë”© ë‹¨ê³„\n1. **ì²­í¬ í¬ê¸° ê³„ì‚°**:\n   - ê°ì²´ í¬ê¸°ë¥¼ ë°ì´í„° ì²­í¬ ìˆ˜(K)ë¡œ ë‚˜ëˆ„ì–´ ê° ì²­í¬ í¬ê¸° ê²°ì •\n   - í•„ìš”ì‹œ ë§ˆì§€ë§‰ ì²­í¬ íŒ¨ë”© ì¶”ê°€\n\n2. **ì¸ì½”ë”© ìš”ì²­**:\n   ```cpp\n   encode(want_to_encode, in, &encoded);\n   ```\n   - `want_to_encode`: ì¸ì½”ë”©í•  ì²­í¬ ID ì§‘í•© (ì¼ë°˜ì ìœ¼ë¡œ ëª¨ë“  K+M ì²­í¬)\n   - `in`: ì›ë³¸ ë°ì´í„° ë²„í¼\n   - `encoded`: ì¸ì½”ë”©ëœ ì²­í¬ë“¤ì„ ë‹´ì„ ë§µ\n\n3. **ë°ì´í„° ë¶„í• **:\n   - ì›ë³¸ ë°ì´í„°ë¥¼ Kê°œì˜ ë°ì´í„° ì²­í¬ë¡œ ë¶„í• \n   - ì˜ˆ: 12KB ë°ì´í„°, K=4ì¸ ê²½ìš° ê° 3KB ì²­í¬ë¡œ ë¶„í• \n\n4. **ì½”ë”© ì²­í¬ ìƒì„±**:\n   - ì„ íƒëœ ì´ë ˆì´ì € ì½”ë”© ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰\n   - ë°ì´í„° ì²­í¬ë¡œë¶€í„° Mê°œì˜ ì½”ë”© ì²­í¬ ê³„ì‚°\n   - êµ¬í˜„ë³„ ê³„ì‚° ë°©ì‹:\n     - **Jerasure**: Reed-Solomon í–‰ë ¬ ì—°ì‚°\n     - **LRC**: ë¡œì»¬/ê¸€ë¡œë²Œ íŒ¨ë¦¬í‹° ê³„ì‚°\n     - **ISA**: ì¸í…” ìµœì í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©\n     - **CLAY**: ê³„ì¸µì  ì¸ì½”ë”© ë°©ì‹\n\n## 3. ì²­í¬ ë°°ì¹˜ ê³¼ì •\n1. **CRUSH ê³„ì‚°**:\n   - ê° ì²­í¬ì˜ ì €ì¥ ìœ„ì¹˜ ê²°ì •ì„ ìœ„í•´ CRUSH ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰\n   - ì‹¤íŒ¨ ë„ë©”ì¸ ê³ ë ¤ (ì˜ˆ: ë‹¤ë¥¸ í˜¸ìŠ¤íŠ¸ì— ì²­í¬ ë°°ì¹˜)\n\n2. **ë°°ì¹˜ ê·œì¹™ ì ìš©**:\n   ```cpp\n   int rule_id = crush.get_rule_id(rule_name);\n   crush.do_rule(rule_id, x, out, placement_count, weights);\n   ```\n   - ìƒì„±ëœ K+Mê°œ ì²­í¬ë¥¼ ì„œë¡œ ë‹¤ë¥¸ OSDì— ë°°ì¹˜\n   - ì²­í¬ ë§¤í•‘ ì •ë³´ ì €ì¥ (ê° ì²­í¬ê°€ ì–´ë–¤ OSDì— ìˆëŠ”ì§€)\n\n3. **ì²­í¬ ì¸ë±ìŠ¤ ê´€ë¦¬**:\n   - `chunk_mapping` ë²¡í„°ì— ì²­í¬ ì¸ë±ìŠ¤ì™€ ì‹¤ì œ OSD ë§¤í•‘ ì €ì¥\n   - ì´í›„ ë°ì´í„° ì¡°íšŒ ì‹œ ì´ ë§¤í•‘ ì •ë³´ ì‚¬ìš©\n\n## 4. ì²­í¬ ì €ì¥ ê³¼ì •\n1. **ë³‘ë ¬ ì“°ê¸° ì‘ì—…**:\n   - ê° ì²­í¬ë¥¼ í•´ë‹¹ OSDì— ë³‘ë ¬ë¡œ ì“°ê¸° ìš”ì²­\n   - ë°ì´í„° ì²­í¬(Kê°œ)ì™€ ì½”ë”© ì²­í¬(Mê°œ) ëª¨ë‘ ì €ì¥\n\n2. **ì›ìì  ì“°ê¸° ë³´ì¥**:\n   - ëª¨ë“  ì²­í¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì“°ì—¬ì§ˆ ë•Œê¹Œì§€ ëŒ€ê¸°\n   - ì¼ë¶€ ì‹¤íŒ¨ ì‹œ ë¡¤ë°± ë©”ì»¤ë‹ˆì¦˜ í™œì„±í™”\n\n3. **ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸**:\n   - ê°ì²´ ì†ì„±, í¬ê¸°, ì²­í¬ ìœ„ì¹˜ ë“± ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸\n   - OMAP(Object Map)ì— ì¶”ê°€ ì†ì„± ì €ì¥ ê°€ëŠ¥\n\n## 5. ì™„ë£Œ ë° í™•ì¸ ë‹¨ê³„\n1. **ì¿¼ëŸ¼ í™•ì¸**:\n   - í•„ìš”í•œ ìµœì†Œ ìˆ˜ì˜ OSDê°€ ì“°ê¸° ì™„ë£Œ í™•ì¸\n   - ì¼ë°˜ì ìœ¼ë¡œ (K+M)/2 + 1 ê°œì˜ í™•ì¸ í•„ìš”\n\n2. **í´ë¼ì´ì–¸íŠ¸ ì‘ë‹µ**:\n   - ì“°ê¸° ì™„ë£Œ í™•ì¸ ë©”ì‹œì§€ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜\n\n3. **ë°±ê·¸ë¼ìš´ë“œ ë³µì œ**:\n   - ì¼ë¶€ OSD ì“°ê¸° ì‹¤íŒ¨ ì‹œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë³µì œ ì‹œë„\n   - ìê°€ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜ ì‹œì‘\n\n## 6. ìµœì í™” ê¸°ë²•\n1. **ì²­í¬ ë²„í¼ë§**: ì‘ì€ ì“°ê¸° ì‘ì—…ì„ ë²„í¼ë§í•˜ì—¬ ì¼ê´„ ì²˜ë¦¬\n2. **ìŠ¤íŠ¸ë¼ì´í•‘**: ëŒ€ìš©ëŸ‰ ê°ì²´ë¥¼ ì—¬ëŸ¬ ìŠ¤íŠ¸ë¼ì´í”„ë¡œ ë‚˜ëˆ„ì–´ ì €ì¥\n3. **ë¹„ë™ê¸° ì“°ê¸°**: ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•œ ë¹„ë™ê¸° ì“°ê¸° ì‘ì—…\n4. **ë¡œì»¬ íŒ¨ë¦¬í‹°**: LRC ì½”ë“œì—ì„œ ë¡œì»¬ íŒ¨ë¦¬í‹°ë¡œ ì“°ê¸° ì„±ëŠ¥ ìµœì í™”\n\n## 7. ì €ì¥ íš¨ìœ¨ì„±\n- **ì €ì¥ íš¨ìœ¨**: `(K/(K+M)) * 100%`\n- ì˜ˆ: K=8, M=4 êµ¬ì„±ì—ì„œ ì €ì¥ íš¨ìœ¨ì€ 66.7%\n- ì¼ë°˜ ë³µì œ(replication) ëŒ€ë¹„ ì €ì¥ ê³µê°„ ì ˆì•½ (3x ë³µì œëŠ” 33.3% íš¨ìœ¨)",
    "docType": "original",
    "category": "Distributed Systems",
    "tags": [],
    "readingTime": 3,
    "wordCount": 427,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "redis-ê¸°ë°˜-ë¶„ì‚°-ë½-ê°€ì´ë“œ",
    "slug": "redis-giban-bunsan-rag-gaideu",
    "path": "database/redis",
    "fullPath": "database/redis/redis-giban-bunsan-rag-gaideu",
    "title": "Redis ê¸°ë°˜ ë¶„ì‚° ë½ ê°€ì´ë“œ",
    "excerpt": "ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ Redisë¥¼ í™œìš©í•œ ë¶„ì‚° ë½ êµ¬í˜„ ë°©ë²•ê³¼ Redlock ì•Œê³ ë¦¬ì¦˜ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# Redis ê¸°ë°˜ ë¶„ì‚° ë½ ê°€ì´ë“œ\n\n## ê°œìš”\n\në¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ì—¬ëŸ¬ ë…¸ë“œë‚˜ í”„ë¡œì„¸ìŠ¤ê°€ ê³µìœ  ìì›ì— ë™ì‹œì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ì œì–´í•˜ê¸° ìœ„í•´ **ë¶„ì‚° ë½(Distributed Lock)**ì´ í•„ìš”í•©ë‹ˆë‹¤. RedisëŠ” ë¹ ë¥´ê³  ê°„ë‹¨í•œ ë°©ì‹ìœ¼ë¡œ ë¶„ì‚° ë½ì„ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ì¸ë©”ëª¨ë¦¬ ì €ì¥ì†Œë¡œ ìì£¼ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n## ê¸°ë³¸ ê°œë…\n\n- **ë¶„ì‚° ë½**ì€ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ ê°„ ìì› ì ‘ê·¼ì„ ì¡°ìœ¨í•˜ëŠ” ë„êµ¬\n- RedisëŠ” ë‹¨ì¼ í‚¤ì˜ ì›ìì  ì¡°ì‘ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ë¶„ì‚° ë½ì— ì í•©\n- ë½ì€ ì¼ì • ì‹œê°„ ë™ì•ˆë§Œ ìœ íš¨í•´ì•¼ í•˜ë©°, ì ì ˆí•œ TTL ì„¤ì •ì´ ì¤‘ìš”\n\n---\n\n## ê¸°ë³¸ êµ¬í˜„ ë°©ì‹ (SET NX PX)\n\n### ë½ íšë“\n\n```bash\nSET lock_key unique_value NX PX 3000\n```\n\n| ì˜µì…˜ | ì„¤ëª… |\n|-----|------|\n| `NX` | í‚¤ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œë§Œ ì„¤ì • |\n| `PX 3000` | TTLì„ 3ì´ˆ(3000ms)ë¡œ ì„¤ì • |\n| `unique_value` | ë½ ì£¼ì²´ë¥¼ ì‹ë³„í•˜ê¸° ìœ„í•œ UUID |\n\n### ë½ í•´ì œ (Lua ìŠ¤í¬ë¦½íŠ¸)\n\n```lua\n-- ìì‹ ì´ íšë“í•œ ë½ë§Œ í•´ì œ\nif redis.call(\"GET\", KEYS[1]) == ARGV[1] then\n  return redis.call(\"DEL\", KEYS[1])\nelse\n  return 0\nend\n```\n\n> GETê³¼ DELì„ **ì›ìì **ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ë½ì„ ì‹¤ìˆ˜ë¡œ í•´ì œí•˜ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤.\n\n### ì£¼ì˜ì‚¬í•­\n\n- ë°˜ë“œì‹œ TTL(ë§Œë£Œ ì‹œê°„)ì„ ì„¤ì •í•  ê²ƒ\n- ë½ì„ íšë“í•œ ì£¼ì²´ë§Œ í•´ì œí•  ê²ƒ\n- Redis ì¥ì•  ì‹œ ë½ ìƒíƒœ ìœ ì‹¤ ê°€ëŠ¥\n\n---\n\n## Redlock ì•Œê³ ë¦¬ì¦˜ (ê³ ê°€ìš©ì„±)\n\n**Redlock**ì€ Redis ì°½ì‹œì Salvatore Sanfilippoê°€ ì œì•ˆí•œ ê³ ê°€ìš©ì„± ë¶„ì‚° ë½ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.\n\n### ë™ì‘ ì›ë¦¬\n\n1. í˜„ì¬ ì‹œê°„ì„ ê¸°ë¡\n2. Nê°œì˜ Redis ì¸ìŠ¤í„´ìŠ¤ì— ë™ì‹œì— ë½ ìš”ì²­ (`SET NX PX`)\n3. ê³¼ë°˜ìˆ˜(N/2 + 1) ì´ìƒ ì„±ê³µ ì‹œ ë½ íšë“\n4. ì „ì²´ ì†Œìš” ì‹œê°„ < TTLì¼ ê²½ìš°ì—ë§Œ ìœ íš¨\n5. ì‹¤íŒ¨ ì‹œ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ì— ë½ í•´ì œ\n\n### ì¥ë‹¨ì \n\n| ì¥ì  | ë‹¨ì  |\n|-----|------|\n| ë‹¨ì¼ ë…¸ë“œ ì¥ì• ì— ê°•í•¨ | êµ¬í˜„ì´ ë³µì¡í•¨ |\n| ë½ ì¼ê´€ì„± ìœ ì§€ | ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì— ë¯¼ê° |\n| | ì™„ì „í•œ ì•ˆì „ì„± ë³´ì¥ ë¶ˆê°€ (ë…¼ìŸ ìˆìŒ) |\n\n---\n\n## ì‚¬ìš© ê¶Œì¥/ë¹„ê¶Œì¥\n\n### âœ… ì¶”ì²œ ì‚¬ìš©ì²˜\n\n- í¬ë¡ ì¡ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€\n- ê³µìœ  ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ ì œì–´\n- ë¶„ì‚° í™˜ê²½ ì‚¬ì „ ë™ê¸°í™”\n\n### âŒ ë¹„ê¶Œì¥ ì‚¬ìš©ì²˜\n\n- ê°•ë ¥í•œ íŠ¸ëœì­ì…˜ì´ í•„ìš”í•œ ê¸ˆìœµ ê±°ë˜\n- ë„¤íŠ¸ì›Œí¬/ì‹œê³„ ì˜¤ë¥˜ì— ë¯¼ê°í•œ ì‹œìŠ¤í…œ\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [Redis ê³µì‹ ë¬¸ì„œ: Distributed Locks](https://redis.io/docs/manual/patterns/distributed-locks/)\n- [Redlock Algorithm](https://redis.io/docs/interact/locking/)\n- [Martin Kleppmannì˜ Redlock ë¹„íŒ](https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html)",
    "docType": "original",
    "category": "Database",
    "tags": [
      "Redis",
      "Distributed Systems",
      "Concurrency"
    ],
    "readingTime": 2,
    "wordCount": 329,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "aws-elasticache-for-redis-oss-ìƒ¤ë”©ê³¼-ë§ˆìŠ¤í„°-failover-ì •ë¦¬",
    "slug": "aws-elasticache-for-redis-oss-syadinggwa-maseuteo-failover-jeongri",
    "path": "database/redis",
    "fullPath": "database/redis/aws-elasticache-for-redis-oss-syadinggwa-maseuteo-failover-jeongri",
    "title": "AWS ElastiCache for Redis (OSS) - ìƒ¤ë”©ê³¼ ë§ˆìŠ¤í„° Failover ì •ë¦¬",
    "excerpt": "AWS ElastiCache for Redis (OSS) - ìƒ¤ë”©ê³¼ ë§ˆìŠ¤í„° Failover ì •ë¦¬ ğŸ“Œ í•µì‹¬ ê°œë… ìš”ì•½ Redis Cluster ëª¨ë“œì—ì„œëŠ” ë°ì´í„°ë¥¼ ìƒ¤ë”©í•˜ì—¬ ì—¬ëŸ¬ ë§ˆìŠ¤í„°...",
    "content": "# AWS ElastiCache for Redis (OSS) - ìƒ¤ë”©ê³¼ ë§ˆìŠ¤í„° Failover ì •ë¦¬\n\n![[Pasted image 20250328100819.png]]\n\n## ğŸ“Œ í•µì‹¬ ê°œë… ìš”ì•½\n\n- Redis Cluster ëª¨ë“œì—ì„œëŠ” ë°ì´í„°ë¥¼ ìƒ¤ë”©í•˜ì—¬ ì—¬ëŸ¬ ë§ˆìŠ¤í„° ë…¸ë“œì— ë¶„ì‚° ì €ì¥í•  ìˆ˜ ìˆë‹¤.\n- ê·¸ëŸ¬ë‚˜ **í•˜ë‚˜ì˜ í‚¤ëŠ” ë°˜ë“œì‹œ í•˜ë‚˜ì˜ ë§ˆìŠ¤í„° ë…¸ë“œë§Œì´ ê´€ë¦¬**í•œë‹¤.\n- ì´ êµ¬ì¡°ì—ì„œ **ë§ˆìŠ¤í„° ë…¸ë“œì˜ ì¥ì• (Failover)** ë°œìƒ ì‹œ, ë¦¬í”Œë¦¬ì¹´ë¥¼ ìë™ ìŠ¹ê²©ì‹œì¼œ ì„œë¹„ìŠ¤ë¥¼ ì§€ì†í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\n\n---\n\n## ğŸ§± ìƒ¤ë”© êµ¬ì¡°\n\n### ğŸ”¹ í•´ì‹œ ìŠ¬ë¡¯ ê¸°ë°˜ ìƒ¤ë”©\n\n- Redis ClusterëŠ” í‚¤ë¥¼ **0 ~ 16383 í•´ì‹œ ìŠ¬ë¡¯** ì¤‘ í•˜ë‚˜ì— ë§¤í•‘í•œë‹¤.\n- ê° í•´ì‹œ ìŠ¬ë¡¯ì€ **í•˜ë‚˜ì˜ ìƒ¤ë“œ(= ë§ˆìŠ¤í„° ë…¸ë“œ)** ê°€ ë‹´ë‹¹í•œë‹¤.\n- ìƒ¤ë“œ ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ë©´ ìŠ¬ë¡¯ì´ ë¶„ì‚°ë˜ë©°, ê° ìƒ¤ë“œëŠ” ìì‹ ì´ ë§¡ì€ ìŠ¬ë¡¯ ë²”ìœ„ì˜ í‚¤ë§Œ ê´€ë¦¬í•œë‹¤.\n\n### ğŸ”¹ í‚¤ ê´€ë¦¬\n\n- í•˜ë‚˜ì˜ í‚¤ëŠ” í•˜ë‚˜ì˜ í•´ì‹œ ìŠ¬ë¡¯ì— ë§¤í•‘ë˜ë¯€ë¡œ,\n- **ë™ì¼í•œ í‚¤ì— ëŒ€í•´ ë™ì‹œì— ì—¬ëŸ¬ ë§ˆìŠ¤í„°ê°€ ì ‘ê·¼í•˜ëŠ” ì¼ì€ ì—†ìŒ**.\n\n---\n\n## ğŸ” ë§ˆìŠ¤í„° ë…¸ë“œ Failover ì²˜ë¦¬\n\n### ğŸ”¹ ë¦¬í”Œë¦¬ì¹´ êµ¬ì„±\n\n- ElastiCacheëŠ” **ê° ë§ˆìŠ¤í„° ë…¸ë“œì— ëŒ€í•´ í•˜ë‚˜ ì´ìƒì˜ ë¦¬í”Œë¦¬ì¹´ ë…¸ë“œ(replica)ë¥¼ êµ¬ì„±**í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•œë‹¤.\n- ë¦¬í”Œë¦¬ì¹´ëŠ” ë§ˆìŠ¤í„°ì˜ ë°ì´í„°ë¥¼ ë¹„ë™ê¸° ë³µì œí•œë‹¤.\n\n### ğŸ”¹ Failover ì‹œë‚˜ë¦¬ì˜¤\n\n1. ë§ˆìŠ¤í„° ë…¸ë“œì— ì¥ì•  ë°œìƒ\n2. ElastiCache ê°ì‹œ ì‹œìŠ¤í…œì´ ìë™ ê°ì§€\n3. í•´ë‹¹ ìƒ¤ë“œì˜ ë¦¬í”Œë¦¬ì¹´ ë…¸ë“œ ì¤‘ í•˜ë‚˜ë¥¼ **ìë™ìœ¼ë¡œ ë§ˆìŠ¤í„°ë¡œ ìŠ¹ê²©(promote)**\n4. í´ëŸ¬ìŠ¤í„° ë©”íƒ€ë°ì´í„°ê°€ ê°±ì‹ ë¨\n5. í´ë¼ì´ì–¸íŠ¸ëŠ” ì¬ì ‘ì† ì‹œ **MOVED ë¦¬ë‹¤ì´ë ‰ì…˜ ì‘ë‹µ**ì„ í†µí•´ ìƒˆ ë§ˆìŠ¤í„°ì— ì—°ê²°ë¨\n\n### ğŸ”¹ êµ¬ì„± ì˜ˆì‹œ\n\nìƒ¤ë“œ 1: ë§ˆìŠ¤í„° A <â€“> ë¦¬í”Œë¦¬ì¹´ Aâ€™\n\nìƒ¤ë“œ 2: ë§ˆìŠ¤í„° B <â€“> ë¦¬í”Œë¦¬ì¹´ Bâ€™\n\nìƒ¤ë“œ 3: ë§ˆìŠ¤í„° C <â€“> ë¦¬í”Œë¦¬ì¹´ Câ€™\n\n- ë§ˆìŠ¤í„° Bê°€ ì£½ìœ¼ë©´ â†’ ë¦¬í”Œë¦¬ì¹´ B'ê°€ ìƒˆ ë§ˆìŠ¤í„°ë¡œ ìŠ¹ê²©\n\n---\n\n## âš ï¸ ì£¼ì˜ì‚¬í•­\n\n- Redisì˜ ë³µì œëŠ” **ë¹„ë™ê¸°(asynchronous)** ì´ë¯€ë¡œ, ì¥ì•  ë°œìƒ ì‹œ **ì¼ë¶€ ë°ì´í„° ì†ì‹¤ ê°€ëŠ¥ì„±**ì´ ì¡´ì¬í•œë‹¤.\n- ê°•ë ¥í•œ ë°ì´í„° ì •í•©ì„±ì´ ìš”êµ¬ë˜ëŠ” ê²½ìš°, ì‚¬ìš© ì‹œì  ë° êµ¬ì¡°ë¥¼ ì‹ ì¤‘í•˜ê²Œ ì„¤ê³„í•´ì•¼ í•œë‹¤.\n- **ë¦¬í”Œë¦¬ì¹´ê°€ ì—†ìœ¼ë©´ Failoverê°€ ë¶ˆê°€ëŠ¥**í•˜ë¯€ë¡œ, ìµœì†Œí•œ ìƒ¤ë“œë‹¹ 1ê°œì˜ ë¦¬í”Œë¦¬ì¹´ êµ¬ì„±ì´ ê¶Œì¥ëœë‹¤.\n\n---\n\n## âœ… ëª¨ë²” êµ¬ì„±\n\n- **Multi-AZ ë°°í¬**ë¡œ ì¥ì•  ë„ë©”ì¸ ë¶„ë¦¬\n- ê° ìƒ¤ë“œì— **1ê°œ ì´ìƒì˜ ë¦¬í”Œë¦¬ì¹´ êµ¬ì„±**\n- í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” `Cluster-aware` ëª¨ë“œ ì‚¬ìš© (ì˜ˆ: `lettuce`, `Jedis`, `ioredis` ë“±)\n\n---\n\n## ğŸ“š ì°¸ê³  ìë£Œ\n\n- [AWS ê³µì‹ ë¬¸ì„œ - ElastiCacheì—ì„œ í´ëŸ¬ìŠ¤í„° ê´€ë¦¬](https://docs.aws.amazon.com/ko_kr/AmazonElastiCache/latest/dg/Clusters.html)\n-",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 2,
    "wordCount": 316,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "which-is-best-isolation-level-for-a-common-situation",
    "slug": "which-is-best-isolation-level-for-a-common-situation",
    "path": "database/mysql",
    "fullPath": "database/mysql/which-is-best-isolation-level-for-a-common-situation",
    "title": "Which is best isolation level for a common situation",
    "excerpt": "Which is best isolation level for a common situation MySQLì€ ë°ì´í„°ë² ì´ìŠ¤ ì—”ì§„ì´ ë™ì‹œ íŠ¸ëœì­ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì •ì˜í•˜ëŠ” ì—¬ëŸ¬ ë¶„ë¦¬ ìˆ˜ì¤€ì„ ì§€ì›í•©ë‹ˆë‹¤. ì¼ë°˜ì ì¸ ìƒí™©ì— ê°€ì¥ ì í•©í•œ ì˜µì…˜ì€ ì‘ìš©í”„ë¡œê·¸ë¨ì˜ íŠ¹ì • ìš”êµ¬ì‚¬í•­ì—...",
    "content": "# Which is best isolation level for a common situation\n\nMySQLì€ ë°ì´í„°ë² ì´ìŠ¤ ì—”ì§„ì´ ë™ì‹œ íŠ¸ëœì­ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì •ì˜í•˜ëŠ” ì—¬ëŸ¬ ë¶„ë¦¬ ìˆ˜ì¤€ì„ ì§€ì›í•©ë‹ˆë‹¤. ì¼ë°˜ì ì¸ ìƒí™©ì— ê°€ì¥ ì í•©í•œ ì˜µì…˜ì€ ì‘ìš©í”„ë¡œê·¸ë¨ì˜ íŠ¹ì • ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.\n\nì¼ë°˜ì ìœ¼ë¡œ REPEATABLE READ ë¶„ë¦¬ ìˆ˜ì¤€ì€ ì¼ê´€ì„±ê³¼ ì„±ëŠ¥ ì‚¬ì´ì—ì„œ ê· í˜•ì„ ë§ì¶”ê¸° ë•Œë¬¸ì— ëŒ€ë¶€ë¶„ì˜ ì‘ìš© í”„ë¡œê·¸ë¨ì— ì í•©í•œ ê¸°ë³¸ ì˜µì…˜ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì‘ìš©í”„ë¡œê·¸ë¨ì— ë” ë†’ì€ ìˆ˜ì¤€ì˜ ì¼ê´€ì„±ì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ì§ë ¬í™”ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¼ê´€ì„±ë³´ë‹¤ ì„±ëŠ¥ì„ ìš°ì„ ì‹œí•´ì•¼ í•˜ëŠ” ê²½ìš° READ COMMITED ë˜ëŠ” READ UNCOMMITEDë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•  ìˆ˜ ìˆì§€ë§Œ ì ì¬ì ì¸ ìœ„í—˜ê³¼ ì ˆì¶©ì ì„ ì•Œê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n\n## ISOLATION LEVELS\n\n- READ UNCOMMITTED: ì´ ê²©ë¦¬ ìˆ˜ì¤€ì€ ë”í‹° ì½ê¸°ë¥¼ í—ˆìš©í•˜ë©°, ì´ëŠ” íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì— ì˜í•´ ì»¤ë°‹ë˜ì§€ ì•Šì€ ë³€ê²½ ì‚¬í•­ì„ ì½ì„ ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ë°ì´í„°ê°€ ì¼ê´€ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ëŒ€ë¶€ë¶„ì˜ ì‘ìš© í”„ë¡œê·¸ë¨ì—ëŠ” ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n- READ COMMITTED: ì´ ê²©ë¦¬ ìˆ˜ì¤€ì„ í†µí•´ íŠ¸ëœì­ì…˜ì€ ì»¤ë°‹ëœ ë°ì´í„°ë§Œ ì½ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë”í‹° ì½ê¸°ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ì½ê¸° ê°„ì— ë³€ê²½ ì‚¬í•­ì„ ì»¤ë°‹í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê³„ì†í•´ì„œ ë°˜ë³µí•  ìˆ˜ ì—†ëŠ” ì½ê¸° ë° íŒ¬í…€ ì½ê¸°ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- REPEATABLE READ: ì´ ê²©ë¦¬ ìˆ˜ì¤€ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ë³€ê²½ë˜ë”ë¼ë„ íŠ¸ëœì­ì…˜ì´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¼ê´€ëœ ìŠ¤ëƒ…ìƒ·ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë³µí•  ìˆ˜ ì—†ëŠ” ì½ê¸° ë° íŒ¬í…€ ì½ê¸°ë¥¼ ë°©ì§€í•˜ì§€ë§Œ ìƒˆ ë°ì´í„°ë¥¼ íŠ¸ëœì­ì…˜ì— ì‚½ì…í•  ìˆ˜ ìˆëŠ” ì‘ì€ ì°½ì„ í—ˆìš©í•©ë‹ˆë‹¤.\n\n- SERIALIZABLE: ì´ ë¶„ë¦¬ ìˆ˜ì¤€ì€ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œë  ë•Œê¹Œì§€ íŠ¸ëœì­ì…˜ì´ ì•¡ì„¸ìŠ¤í•˜ëŠ” ëª¨ë“  í–‰ì„ ì ê¶ˆ ìµœê³  ìˆ˜ì¤€ì˜ ë¶„ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ëª¨ë“  í˜•íƒœì˜ ë™ì‹œì„± ê´€ë ¨ ì´ìƒ ì§•í›„ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆì§€ë§Œ ë™ì‹œì„± ë° ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n## REPEATABLE READì˜ í•œê³„ì \n\nMySQLì˜ REPEATABLE READ ê²©ë¦¬ ìˆ˜ì¤€ì€ ê°•ë ¥í•œ ìˆ˜ì¤€ì˜ ì¼ê´€ì„±ì„ ì œê³µí•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ê³¼ ê¸°ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆëŠ” ëª‡ ê°€ì§€ ì œí•œ ì‚¬í•­ë„ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì€ ë°˜ë³µ ê°€ëŠ¥í•œ ì½ê¸° ë¶„ë¦¬ ìˆ˜ì¤€ì˜ ëª‡ ê°€ì§€ ì œí•œ ì‚¬í•­ì…ë‹ˆë‹¤:\n\n1. ë™ì‹œì„±ì´ ê°ì†Œ: ë°˜ë³µ ê°€ëŠ¥ ì½ê¸° ë¶„ë¦¬ ìˆ˜ì¤€ì€ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œë  ë•Œê¹Œì§€ íŠ¸ëœì­ì…˜ì´ ì•¡ì„¸ìŠ¤í•˜ëŠ” ëª¨ë“  í–‰ì„ ì ê¸‰ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì€ ì ê¸´ í–‰ì´ í•´ì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•˜ë¯€ë¡œ ë™ì‹œì„±ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n2. ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ì¦ê°€: ë” ë§ì€ ì ê¸ˆì„ íšë“í•˜ê³  í•´ì œí•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— REPEATABLE READ ê²©ë¦¬ ìˆ˜ì¤€ì˜ ì ê¸ˆ ë™ì‘ì€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš© ì¦ê°€ë¡œ ì´ì–´ì§ˆ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n3. ì¼ê´€ë˜ì§€ ì•Šì€ ì½ê¸°: REPEATABLE READ ë¶„ë¦¬ ìˆ˜ì¤€ì€ íŠ¸ëœì­ì…˜ì´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¼ê´€ëœ ìŠ¤ëƒ…ìƒ·ì„ ë³¼ ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ì§€ë§Œ, ê²©ë¦¬ ë ˆë²¨ì—ì„œëŠ” ì—¬ì „íˆ Phantom Readë¼ê³  ì•Œë ¤ì§„ ì‘ì€ ë¶ˆì¼ì¹˜ ì°½ì´ í—ˆìš©ë©ë‹ˆë‹¤. ì´ ë¬¸ì œëŠ” ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ë™ì¼í•œ íŠ¸ëœì­ì…˜ ë‚´ì˜ ì²« ë²ˆì§¸ ì¿¼ë¦¬ ì‹¤í–‰ê³¼ ë‘ ë²ˆì§¸ ì¿¼ë¦¬ ì‹¤í–‰ ì‚¬ì´ì— ì²« ë²ˆì§¸ íŠ¸ëœì­ì…˜ì— ì˜í•´ ì‹¤í–‰ëœ ì¿¼ë¦¬ì˜ ê¸°ì¤€ê³¼ ì¼ì¹˜í•˜ëŠ” ìƒˆ ë°ì´í„°ë¥¼ ì‚½ì…í•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n   ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ ë‘ ê°€ì§€ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” íŠ¸ëœì­ì…˜ì„ ìƒê°í•´ ë³´ì‹­ì‹œì˜¤:\n\n   ```sql\n   SELECT * FROM orders WHERE status = 'processing';\n   -- Some time passes, during which another transaction inserts a new order with status 'processing'\n   SELECT * FROM orders WHERE status = 'processing';\n   ```\n\n   íŠ¸ëœì­ì…˜ì´ REPEATABLE READì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš°, ìƒˆ ì£¼ë¬¸ì´ ê·¸ ì‚¬ì´ì— ì‚½ì…ëœ ê²½ìš°ì—ë„ ë‘ ë²ˆ ëª¨ë‘ ë™ì¼í•œ ì£¼ë¬¸ ì§‘í•©ì„ ì½ìŠµë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì˜ ì‹¤ì œ ìƒíƒœë¥¼ ë°˜ì˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— íŠ¸ëœì­ì…˜ì—ì„œ ì½ì€ ë°ì´í„°ì— ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n   ì´ ë¬¸ì œë¥¼ ì™„í™”í•˜ë ¤ë©´ ì‘ìš©í”„ë¡œê·¸ë¨ì˜ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì ê¸ˆ ë˜ëŠ” ë‚™ê´€ì  ë™ì‹œì„± ì œì–´ì™€ ê°™ì€ ì¶”ê°€ ë©”ì»¤ë‹ˆì¦˜ì„ êµ¬í˜„í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ íŠ¹ì • ì‹¤í–‰ ìˆœì„œì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ì¿¼ë¦¬ ë° ì‘ìš© í”„ë¡œê·¸ë¨ ë¡œì§ì„ ì‹ ì¤‘í•˜ê²Œ ì„¤ê³„í•˜ê±°ë‚˜, ê°•ë ¥í•œ ì¼ê´€ì„±ì´ í•„ìš”í•œ ê²½ìš° SERIALIZABLEì™€ ê°™ì€ ë‹¤ë¥¸ ë¶„ë¦¬ ìˆ˜ì¤€ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n4. êµì°© ìƒíƒœ(Deadlocks): ë°˜ë³µ ê°€ëŠ¥í•œ ì½ê¸° ê²©ë¦¬ ìˆ˜ì¤€ì€ ë‘˜ ì´ìƒì˜ íŠ¸ëœì­ì…˜ì´ ì ê¸´ ë¦¬ì†ŒìŠ¤ë¥¼ í•´ì œí•˜ê¸° ìœ„í•´ ì„œë¡œ ëŒ€ê¸°í•˜ëŠ” êµì°© ìƒíƒœë¡œ ì´ì–´ì§ˆ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n   ì´ëŸ¬í•œ ì œí•œì„ ì™„í™”í•˜ë ¤ë©´, êµì°© ìƒíƒœì˜ ê°€ëŠ¥ì„±ì„ ìµœì†Œí™”í•˜ê³  í•„ìš”í•œ ì ê¸ˆ ì–‘ì„ ì¤„ì´ê¸° ìœ„í•´ ì‘ìš©í”„ë¡œê·¸ë¨ ë° ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ì‹ ì¤‘í•˜ê²Œ ì„¤ê³„í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì‘ìš©í”„ë¡œê·¸ë¨ì˜ íŠ¹ì • ìš”êµ¬ì‚¬í•­ ë° ì„±ëŠ¥ íŠ¹ì„±ì— ë”°ë¼ READ COMMITTED ë˜ëŠ” SERIALIZABLEì™€ ê°™ì€ ë‹¤ë¥¸ ë¶„ë¦¬ ìˆ˜ì¤€ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.",
    "docType": "original",
    "category": "Database",
    "tags": [],
    "readingTime": 3,
    "wordCount": 562,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "mysql-íŠ¸ëœì­ì…˜-ì¿¼ë¦¬-ì˜ˆì‹œ",
    "slug": "mysql-teuraenjaegsyeon-kweori-yesi",
    "path": "database/mysql",
    "fullPath": "database/mysql/mysql-teuraenjaegsyeon-kweori-yesi",
    "title": "MySQL íŠ¸ëœì­ì…˜ ì¿¼ë¦¬ ì˜ˆì‹œ ",
    "excerpt": "MySQL íŠ¸ëœì­ì…˜ ì¿¼ë¦¬ ì˜ˆì‹œ ```mysql START TRANSACTION; SAVEPOINT A; INSERT INTO user(username, password, salt) VALUES ('testuser', 'testpassword',...",
    "content": "# MySQL íŠ¸ëœì­ì…˜ ì¿¼ë¦¬ ì˜ˆì‹œ \n\n```mysql\nSTART TRANSACTION;  \n  \nSAVEPOINT A;  \nINSERT INTO user(username, password, salt)  \nVALUES ('testuser', 'testpassword', 'testsalt');  \n  \nSAVEPOINT B;  \nINSERT INTO user(username, password, salt)  \nVALUES ('testuser1', 'testpassword1', 'testsalt1');  \n  \n# B ì¿¼ë¦¬ ì´ì „, ì¦‰ A - B ì‚¬ì´ì˜ WRITEë§Œ ìœ íš¨  \nROLLBACK TO SAVEPOINT B;  \n  \n# ì „ì²´ ì·¨ì†Œ  \n# ROLLBACK;  \n  \n# ì „ì²´ ì ìš©  \n# COMMIT;\n```",
    "docType": "original",
    "category": "Database",
    "tags": [],
    "readingTime": 1,
    "wordCount": 58,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "upsert-vs-unique-key-constraint",
    "slug": "upsert-vs-unique-key-constraint",
    "path": "database/concepts",
    "fullPath": "database/concepts/upsert-vs-unique-key-constraint",
    "title": "ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ Upsert íŒ¨í„´ í™œìš©ë²•",
    "excerpt": "ëŒ€ëŸ‰ ë°ì´í„° ì¸ë±ì‹± ì‘ì—…ì—ì„œ INSERTì™€ Upsert íŒ¨í„´ì„ ë¹„êµí•˜ê³ , íš¨ìœ¨ì ì¸ ë°°ì¹˜ ì²˜ë¦¬ ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ Upsert íŒ¨í„´ í™œìš©ë²•\n\n## Upsertë€?\n\nUpsertëŠ” \"Update + Insert\"ì˜ í•©ì„±ì–´ë¡œ, ë ˆì½”ë“œê°€ ì¡´ì¬í•˜ë©´ ì—…ë°ì´íŠ¸í•˜ê³  ì—†ìœ¼ë©´ ì‚½ì…í•˜ëŠ” ì›ìì  ì—°ì‚°ì…ë‹ˆë‹¤.\n\n### DBë³„ Upsert ë¬¸ë²•\n\n**PostgreSQL**\n\n```sql\nINSERT INTO users (id, name, email)\nVALUES (1, 'Kim', 'kim@example.com')\nON CONFLICT (id) DO UPDATE SET\n  name = EXCLUDED.name,\n  email = EXCLUDED.email;\n```\n\n**MySQL**\n\n```sql\nINSERT INTO users (id, name, email)\nVALUES (1, 'Kim', 'kim@example.com')\nON DUPLICATE KEY UPDATE\n  name = VALUES(name),\n  email = VALUES(email);\n```\n\n## ì™œ Upsertê°€ ë” íš¨ìœ¨ì ì¸ê°€?\n\n### ê¸°ì¡´ ë°©ì‹ì˜ ë¬¸ì œì \n\n```sql\n-- ë¹„íš¨ìœ¨ì ì¸ ë°©ì‹: SELECT í›„ INSERT/UPDATE\nSELECT * FROM users WHERE id = 1;\n-- ê²°ê³¼ì— ë”°ë¼\nINSERT INTO users ... -- ë˜ëŠ”\nUPDATE users SET ... WHERE id = 1;\n```\n\nì´ ë°©ì‹ì€:\n\n1. **2ë²ˆì˜ ì¿¼ë¦¬ ì‹¤í–‰** (SELECT + INSERT/UPDATE)\n2. **Race Condition ìœ„í—˜** (SELECTì™€ INSERT ì‚¬ì´ì— ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ì‚½ì…í•  ìˆ˜ ìˆìŒ)\n3. **íŠ¸ëœì­ì…˜ ì˜¤ë²„í—¤ë“œ** ì¦ê°€\n\n### Upsertì˜ ì¥ì \n\n1. **ë‹¨ì¼ ì›ìì  ì—°ì‚°**: DB ì—”ì§„ì´ ìµœì í™”ëœ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬\n2. **Race Condition ë°©ì§€**: ë™ì‹œì„± ë¬¸ì œ í•´ê²°\n3. **ë„¤íŠ¸ì›Œí¬ ë¼ìš´ë“œíŠ¸ë¦½ ê°ì†Œ**: í•œ ë²ˆì˜ ì¿¼ë¦¬ë¡œ ì²˜ë¦¬\n\n## ë°°ì¹˜ Upsert íŒ¨í„´\n\nëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ ë°°ì¹˜ Upsertê°€ ê°€ì¥ íš¨ìœ¨ì ì…ë‹ˆë‹¤:\n\n**PostgreSQL ë°°ì¹˜ Upsert**\n\n```sql\nINSERT INTO transactions (tx_id, amount, status)\nVALUES \n  ('tx_001', 100, 'pending'),\n  ('tx_002', 200, 'confirmed'),\n  ('tx_003', 150, 'pending')\nON CONFLICT (tx_id) DO UPDATE SET\n  amount = EXCLUDED.amount,\n  status = EXCLUDED.status,\n  updated_at = NOW();\n```\n\n## ì£¼ì˜ì‚¬í•­\n\n- **ì¸ë±ìŠ¤ í•„ìˆ˜**: UpsertëŠ” ê³ ìœ  ì œì•½ ì¡°ê±´(UNIQUE) ë˜ëŠ” PKê°€ ìˆì–´ì•¼ ë™ì‘\n- **ëŒ€ìš©ëŸ‰ ì»¬ëŸ¼**: TEXT/BLOB ë“± í° ì»¬ëŸ¼ì´ ë§ìœ¼ë©´ UPDATE ë¹„ìš©ì´ ë†’ì•„ì§ˆ ìˆ˜ ìˆìŒ\n- **íŠ¸ë¦¬ê±° ì£¼ì˜**: INSERT/UPDATE íŠ¸ë¦¬ê±°ê°€ ëª¨ë‘ ì‹¤í–‰ë  ìˆ˜ ìˆìŒ\n\n## ê²°ë¡ \n\nëŒ€ëŸ‰ ë°ì´í„° ì¸ë±ì‹± ì‘ì—…ì—ì„œëŠ” **ë°°ì¹˜ Upsert íŒ¨í„´**ì„ ì‚¬ìš©í•˜ë©´:\n\n- ì¿¼ë¦¬ ìˆ˜ ê°ì†Œ\n- íŠ¸ëœì­ì…˜ ì˜¤ë²„í—¤ë“œ ê°ì†Œ\n- ë™ì‹œì„± ë¬¸ì œ í•´ê²°\n\në¡œ ì¸í•´ ì „ì²´ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ ë¶€í•˜ë¥¼ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    "docType": "original",
    "category": "Database",
    "tags": [
      "PostgreSQL",
      "MySQL",
      "Database",
      "Performance"
    ],
    "readingTime": 2,
    "wordCount": 283,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "acid",
    "slug": "acid",
    "path": "database/concepts",
    "fullPath": "database/concepts/acid",
    "title": "ACID",
    "excerpt": "ACID ì •ì˜ Atomic íŠ¸ëœì­ì…˜ì˜ ì—°ì‚°ì€ ëª¨ë‘ ì •ìƒì ìœ¼ë¡œ ì‹¤íŒ¨í•˜ê±°ë‚˜ ëª¨ë‘ ì‹¤íŒ¨í•´ì•¼ í•œë‹¤. Consistent íŠ¸ëœì­ì…˜ì´ ì„±ê³µí•œ í›„ì— ë°ì´í„°ë² ì´ìŠ¤ì˜ ì œì•½ì¡°ê±´ì„ í¬í•¨í•œ ì¼ê´€ì„±ì´ ì§€ì¼œì ¸ì•¼ í•œë‹¤. Isolation í˜„ì¬ ì§„í–‰ì¤‘ì¸...",
    "content": "# ACID\n\n## ì •ì˜\n\n- Atomic\n\n  íŠ¸ëœì­ì…˜ì˜ ì—°ì‚°ì€ ëª¨ë‘ ì •ìƒì ìœ¼ë¡œ ì‹¤íŒ¨í•˜ê±°ë‚˜ ëª¨ë‘ ì‹¤íŒ¨í•´ì•¼ í•œë‹¤.\n\n- Consistent\n\n  íŠ¸ëœì­ì…˜ì´ ì„±ê³µí•œ í›„ì— ë°ì´í„°ë² ì´ìŠ¤ì˜ ì œì•½ì¡°ê±´ì„ í¬í•¨í•œ ì¼ê´€ì„±ì´ ì§€ì¼œì ¸ì•¼ í•œë‹¤.\n\n- Isolation\n\n  í˜„ì¬ ì§„í–‰ì¤‘ì¸ íŠ¸ëœì­ì…˜ì´ ìˆë‹¤ë©´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ì´ íŠ¸ëœì­ì…˜ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤. ê° íŠ¸ëœì­ì…˜ì€ ë…ë¦½ì ìœ¼ë¡œ ìˆ˜í–‰ë˜ì–´ì•¼ í•œë‹¤.\n\n- Durability\n\n  íŠ¸ëœì­ì…˜ì´ ì„±ê³µë˜ì—ˆë‹¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì´ ê²°ê³¼ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ë°˜ì˜í•´ì•¼ í•œë‹¤. í•˜ë‚˜ë¼ë„ ì†ì‹¤ì´ ìˆìœ¼ë©´ ì•ˆëœë‹¤.\n\n## ë” ë‚˜ì•„ê°€ì„œ\n\nRedisì™€ í•¨ê»˜ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ ë° ë¶„ì‚° ì ê¸ˆì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë°±ì—”ë“œì—ì„œ ë™ì‹œì„± ì²˜ë¦¬ì˜ ì›ìì„±ê³¼ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ëŠ” ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤. ì‘ìš©í”„ë¡œê·¸ë¨ì˜ íŠ¹ì • ìš”êµ¬ì— ë”°ë¼ ì´ëŸ¬í•œ ê¸°ìˆ ì„ ì ìš©í•  ìˆ˜ ìˆëŠ” ì¶”ê°€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.\n\në¹…í…Œí¬ì—ì„œ ì›ìì„±ê³¼ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ëŠ” í•œ ê°€ì§€ ì¶”ê°€ì ì¸ ë°©ë²•ì€ ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ë˜ëŠ” ì„œë¹„ìŠ¤ì— ë¶„ì‚° íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê° ì„œë¹„ìŠ¤ì— ìì²´ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìˆëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ê°€ ìˆëŠ” ê²½ìš° ë¶„ì‚° íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • íŠ¸ëœì­ì…˜ê³¼ ê´€ë ¨ëœ ëª¨ë“  ì„œë¹„ìŠ¤ê°€ í•¨ê»˜ ì»¤ë°‹ë˜ê±°ë‚˜ ë¡¤ë°±ë˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në¶„ì‚° íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ê¸° ìœ„í•´ 2PC(Two-Phase Commit) í”„ë¡œí† ì½œ, X/Open XA í”„ë¡œí† ì½œ, Saga íŒ¨í„´ ë“± ë‹¤ì–‘í•œ ë„êµ¬ì™€ ê¸°ìˆ ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ê¸°ìˆ ì„ í†µí•´ íŠ¸ëœì­ì…˜ì´ ì™„ì „íˆ ì»¤ë°‹ë˜ê±°ë‚˜ ê´€ë ¨ëœ ëª¨ë“  ì„œë¹„ìŠ¤ì— ê±¸ì³ ì™„ì „íˆ ë¡¤ë°±ë˜ì–´ ì‹œìŠ¤í…œì´ ì¼ê´€ë˜ê²Œ ìœ ì§€ë©ë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜ ë¶„ì‚° íŠ¸ëœì­ì…˜ì€ êµ¬í˜„í•˜ê¸°ê°€ ë³µì¡í•˜ê³  ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì ˆì¶©ì•ˆì„ ì‹ ì¤‘í•˜ê²Œ ê³ ë ¤í•˜ê³  ì‚¬ìš© ì‚¬ë¡€ì— í•„ìš”í•œì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.\n\në¶„ì‚° íŠ¸ëœì­ì…˜ ì™¸ì—ë„ Big Techì—ì„œ ì›ìì„±ê³¼ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ ë‹¤ë¥¸ ëª¨ë²” ì‚¬ë¡€ë¡œëŠ” ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ êµ¬í˜„, ìµœì ì˜ ì ê¸ˆ ê¸°ìˆ  ì‚¬ìš©, ì •ê¸°ì ì¸ ë°ì´í„° ë°±ì—… ë° ì¬í•´ ë³µêµ¬ ê³„íš ìˆ˜í–‰ ë“±ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ëª¨ë²” ì‚¬ë¡€ëŠ” ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ë‚˜ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²½ìš°ì—ë„ ë°ì´í„°ë¥¼ ì¼ê´€ì„± ìˆê²Œ ìœ ì§€í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\nUsing database transactions and distributed locks with Redis is a good way to ensure atomicity and consistency in concurrency processing at the backend. There are additional ways to apply these techniques depending on the specific needs of your application.\n\nOne additional way to ensure atomicity and consistency in Big Tech is to use distributed transactions across multiple databases or services. For example, if you have a microservices architecture where each service has its own database, you can use distributed transactions to ensure that all the services involved in a particular transaction either commit or rollback together.\n\nThere are various tools and technologies available to support distributed transactions, such as Two-Phase Commit (2PC) protocol, X/Open XA protocol, and the Saga pattern. These technologies ensure that transactions are either fully committed or fully rolled back across all services involved, ensuring that the system remains consistent.\n\nHowever, it's important to note that distributed transactions can be complex to implement and can introduce performance overhead. Therefore, it's important to carefully consider the trade-offs and determine if they are necessary for your use case.\n\nIn addition to distributed transactions, other best practices to ensure atomicity and consistency in Big Tech include implementing data validation checks, using optimistic locking techniques, and performing regular data backups and disaster recovery planning. These best practices help to ensure that data remains consistent and available even in the face of unexpected failures or errors.\n\n## Ref\n\n- [ACID](https://ko.wikipedia.org/wiki/ACID)",
    "docType": "original",
    "category": "Database",
    "tags": [],
    "readingTime": 3,
    "wordCount": 474,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "solana-sol",
    "slug": "solana-sol",
    "path": "blockchain/solana",
    "fullPath": "blockchain/solana/solana-sol",
    "title": "Solana (SOL)",
    "excerpt": "Solana (SOL) ğŸ’¡ Cheatsheet of SOL for web3 developers. ìš”ì•½ ì¤‘ì•™í™”ë¥¼ ë²—ì–´ë‚˜ì§€ ëª»í•¨. ì¬ë‹¨ì—ì„œ ë„¤íŠ¸ì›Œí¬ë¥¼ ê»ë‹¤ ì¼°ë‹¤ í•  ìˆ˜ ìˆìŒ ë…¸ë“œê°€ ì—„ì²­ ì˜ ì£½ìŒ (ì˜¬í•´ë§Œ ëª‡ ë²ˆ ì¤‘ì§€...",
    "content": "# Solana (SOL)\n\n<aside>\nğŸ’¡ Cheatsheet of SOL for web3 developers.\n\n</aside>\n\n# ìš”ì•½\n\n1. ì¤‘ì•™í™”ë¥¼ ë²—ì–´ë‚˜ì§€ ëª»í•¨. ì¬ë‹¨ì—ì„œ ë„¤íŠ¸ì›Œí¬ë¥¼ ê»ë‹¤ ì¼°ë‹¤ í•  ìˆ˜ ìˆìŒ\n2. ë…¸ë“œê°€ ì—„ì²­ ì˜ ì£½ìŒ (ì˜¬í•´ë§Œ ëª‡ ë²ˆ ì¤‘ì§€ë˜ì—ˆëŠ”ì§€..)\n3. ì†”ë¼ë‚˜ì™€ ì†”ë¼ë‚˜ í”„ë¡œê·¸ë¨(ì»¨íŠ¸ë™íŠ¸) ê°œë°œì–¸ì–´ê°€ í†µì¼ë˜ì–´ ìˆë‹¤ëŠ”ê²Œ ë§¤ìš° ë§¤ë ¥í¬ì¸íŠ¸\n4. ì¬ë‹¨ì—ì„œ ì œê³µí•˜ëŠ” íˆ´ë“¤ì´ ë„ˆë¬´ í™˜ìƒì ì„. ì•„ì´ë””ì–´ë§Œ ìˆë‹¤ë©´ ëŒ€ì¶© ì‹œì‘í•  ìˆ˜ ìˆì„ ì •ë„\n5. ì´ê²ƒë„ mempoolì´ ì—†ìŒ\n\n# How to create and manage address or account?\n\n### Using Private Key\n\n```jsx\nconst account = Keypair.generate()\nconsole.log(JSON.stringify(account.publicKey.toBase58()))\n// output: \"gVazpxjimX3EP4mto53pEi4YSE36KP2nDwyEvLcKjmR\"\n```\n\n### Using Mnemonic\n\n```jsx\nconst mnemonic =\n\t'pill tomorrow foster begin walnut borrow virtual kick shift mutual shoe scatter'\nconst seed = bip39.mnemonicToSeedSync(mnemonic, '') // (mnemonic, password)\n\n// BIP39\nconst keypair = Keypair.fromSeed(seed.slice(0, 32))\n\n// BIP44\nfor (let i = 0; i < 10; i++) {\n\tconst path = `m/44'/501'/${i}'/0'`\n\tconst keypair = Keypair.fromSeed(derivePath(path, seed.toString('hex')).key)\n\tconsole.log(`${path} => ${keypair.publicKey.toBase58()}`)\n}\n\n// Check if a given public key has an associated private key\nconst key = new PublicKey('5oNDL3swdJJF1g9DzJiZ4ynHXgszjAEpUkxVYejchzrY')\nconsole.log(PublicKey.isOnCurve(key.toBytes()))\n```\n\n# How to sign and verify messages with wallets\n\n```jsx\nconst message = \"The quick brown fox jumps over the lazy dog\";\nconst messageBytes = decodeUTF8(message);\n\nconst signature = nacl.sign.detached(messageBytes, keypair.secretKey);\nconst result = nacl.sign.detached.verify(\n  messageBytes,\n  signature,\n  keypair.publicKey.toBytes()\n);\n\nconsole.log(result);\n\n-------------------------------------------------------------------------------\n\n{\n  let recoverTx = Transaction.populate(Message.from(realDataNeedToSign));\n  recoverTx.addSignature(feePayer.publicKey, Buffer.from(feePayerSignature));\n  recoverTx.addSignature(alice.publicKey, Buffer.from(aliceSignature));\n\n  console.log(\n    `txhash: ${await connection.sendRawTransaction(recoverTx.serialize())}`\n  );\n}\n\n-------------------------------------------------------------------------------\n\n{\n  let recoverTx = Transaction.populate(Message.from(realDataNeedToSign), [\n    bs58.encode(feePayerSignature),\n    bs58.encode(aliceSignature),\n  ]);\n  console.log(\n    `txhash: ${await connection.sendRawTransaction(recoverTx.serialize())}`\n  );\n}\n```\n\n# How to query balance of address on blockchain?\n\n# How to query transaction?\n\n# How to add a memo to a tx?\n\n```jsx\nconst transferTransaction = new Transaction().add(\n\tSystemProgram.transfer({\n\t\tfromPubkey: fromKeypair.publicKey,\n\t\ttoPubkey: toKeypair.publicKey,\n\t\tlamports: lamportsToSend,\n\t}),\n)\n\nawait transferTransaction.add(\n\tnew TransactionInstruction({\n\t\tkeys: [\n\t\t\t{ pubkey: fromKeypair.publicKey, isSigner: true, isWritable: true },\n\t\t],\n\t\tdata: Buffer.from('Data to send in transaction', 'utf-8'),\n\t\tprogramId: new PublicKey('MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr'),\n\t}),\n)\n\nawait sendAndConfirmTransaction(connection, transferTransaction, [fromKeypair])\n```\n\n# How to estimate fee?\n\n```jsx\ngetEstimatedFee\nconst recentBlockhash = await connection.getLatestBlockhash()\nconst transaction = new Transaction({\n\trecentBlockhash: recentBlockhash.blockhash,\n}).add(\n\tSystemProgram.transfer({\n\t\tfromPubkey: payer.publicKey,\n\t\ttoPubkey: payee.publicKey,\n\t\tlamports: 10,\n\t}),\n)\n\nconst fees = await transaction.getEstimatedFee(connection)\nconsole.log(`Estimated SOL transfer cost: ${fees} lamports`)\n// Estimated SOL transfer cost: 5000 lamports\n\n// getFeeForMessage\nconst message = new Message(messageParams)\n\nconst fees = await connection.getFeeForMessage(message)\nconsole.log(`Estimated SOL transfer cost: ${fees.value} lamports`)\n// Estimated SOL transfer cost: 5000 lamports\n```\n\n# How to Transfer tokens one to another?\n\n```jsx\n// Send SOL\nconst transferTransaction = new Transaction().add(\n\tSystemProgram.transfer({\n\t\tfromPubkey: fromKeypair.publicKey,\n\t\ttoPubkey: toKeypair.publicKey,\n\t\tlamports: lamportsToSend,\n\t}),\n)\n\nawait sendAndConfirmTransaction(connection, transferTransaction, [fromKeypair])\n\n// Send SPL Token\n// Add token transfer instructions to transaction\nconst transaction = new web3.Transaction().add(\n\tsplToken.Token.createTransferInstruction(\n\t\tsplToken.TOKEN_PROGRAM_ID,\n\t\tfromTokenAccount.address,\n\t\ttoTokenAccount.address,\n\t\tfromWallet.publicKey,\n\t\t[],\n\t\t1,\n\t),\n)\n\n// Sign transaction, broadcast, and confirm\nawait web3.sendAndConfirmTransaction(connection, transaction, [fromWallet])\n```\n\n---\n\n## Build Frontend and deploy contract to Solana devnet\n\nI using rust, anchor to develop smart contract. All I have to do is initializing some struct, and add methods in main program module. Itâ€™s quite easy to understand, and I think itâ€™s simillar with creating and using gRPC.\n\n![](/images/solanademo.png)\nScreenshot of Demo project (thx to https://buildspace.so)",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 3,
    "wordCount": 501,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "tezos-xtz",
    "slug": "tezos-xtz",
    "path": "blockchain/others",
    "fullPath": "blockchain/others/tezos-xtz",
    "title": "Tezos (XTZ)",
    "excerpt": "Tezos (XTZ) ğŸ’¡ Cheatsheet of XTZ for web3 developers. ìš”ì•½ ë…¸ë“œì— ì¢€ë§Œ ìš”ì²­ë³´ë‚´ë„ í—ë–¡ëŒ€ë‹¤ê°€ ì£½ìŒ ìµœì†Œ ì”ê³  ë§ì¶°ì¤˜ì•¼ í•¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ í¸í•˜ê²Œ ì˜ë˜ì–´ ìˆê¸´ í•œë° ë…¸ë“œ ê°œ...",
    "content": "# Tezos (XTZ)\n\n<aside>\nğŸ’¡ Cheatsheet of XTZ for web3 developers.\n\n</aside>\n\n# ìš”ì•½\n\n1. ë…¸ë“œì— ì¢€ë§Œ ìš”ì²­ë³´ë‚´ë„ í—ë–¡ëŒ€ë‹¤ê°€ ì£½ìŒ\n2. ìµœì†Œ ì”ê³  ë§ì¶°ì¤˜ì•¼ í•¨\n3. ë¼ì´ë¸ŒëŸ¬ë¦¬ í¸í•˜ê²Œ ì˜ë˜ì–´ ìˆê¸´ í•œë° ë…¸ë“œ ê°œë°œì„ Ocamlìœ¼ë¡œ í•´ë†”ì„œ ê¹Šì€ ë””ë²„ê¹…ì‹œì— ì œì•½ì´ ìˆìŒ\n4. ì»¤ë®¤ë‹ˆí‹°ê°€ ì‘ì•„ì„œ ì†”ì§íˆ ìë£Œ ë‚˜ì˜¤ëŠ”ê²Œ ë­ ì—†ìŒ",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 48,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "stellar-lumens-xlm",
    "slug": "stellar-lumens-xlm",
    "path": "blockchain/others",
    "fullPath": "blockchain/others/stellar-lumens-xlm",
    "title": "Stellar Lumens (XLM)",
    "excerpt": "Stellar Lumens (XLM) ğŸ’¡ Cheatsheet of XLM for web3 developers. ìš”ì•½ ë¦¬í”Œ v2 protobufê°™ì€ í”„ë¡œí† ì½œì¸ xdrì„ ì‚¬ìš©í•˜ëŠ” íŠ¹ì´ì‚¬í•­ì´ ìˆìŒ íŠ¸ëœì­ì…˜...",
    "content": "# Stellar Lumens (XLM)\n\n<aside> ğŸ’¡ Cheatsheet of XLM for web3 developers.\n\n</aside>\n\n# ìš”ì•½\n\n1.  ë¦¬í”Œ v2\n2.  protobufê°™ì€ í”„ë¡œí† ì½œì¸ xdrì„ ì‚¬ìš©í•˜ëŠ” íŠ¹ì´ì‚¬í•­ì´ ìˆìŒ\n3.  íŠ¸ëœì­ì…˜ ì „íŒŒì‹œì— ê°€ìŠ¤ ë¶€ì¡±í•˜ë©´ íƒ€ì„ì•„ì›ƒ ë‚¨\n4.  íŠ¸ëœì­ì…˜ ì „íŒŒì‹œì— mempool ì—†ì–´ì„œ ì¬ì‹œë„ í•˜ê¸° ê·€ì°®ìŒ\n5.  SDK í†µí•´ì„œ txHash í¸í•˜ê²Œ ê³„ì‚°í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì°¾ì•„ë³´ë©´ ì¢‹ìŒ\n6.  ì£¼ì†Œ ë¡œì»¬ì—ì„œ ë§Œë“ ë‹¤ê³  ë„¤íŠ¸ì›ì—ì„œ ì¡°íšŒ ì•ˆë¨. í•œë²ˆì€ tx ìƒì„±ì„ í†µí•´ì„œ ë…¸ì¶œí•´ì¤˜ì•¼í•¨",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 65,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ripple-xrp",
    "slug": "ripple-xrp",
    "path": "blockchain/others",
    "fullPath": "blockchain/others/ripple-xrp",
    "title": "Ripple (XRP)",
    "excerpt": "Ripple (XRP) ğŸ’¡ Cheatsheet of XRP for web3 developers. ìš”ì•½ êµ­ì œ ì†¡ê¸ˆë§ì„ íƒ€ê²Ÿìœ¼ë¡œ í•œ ë¸”ë¡ì²´ì¸ ì†ë„ë¥¼ ìœ„í•´ì„œ íƒˆì¤‘ì•™ì„ í¬ê¸°í•œ ì‚¬ë¡€ ê°œë°œì ë„êµ¬ë‚˜ ì»¤ë®¤ë‹ˆí‹°ê°€ í›Œ...",
    "content": "# Ripple (XRP)\n\n<aside> ğŸ’¡ Cheatsheet of XRP for web3 developers.\n\n</aside>\n\n# ìš”ì•½\n\n1.  êµ­ì œ ì†¡ê¸ˆë§ì„ íƒ€ê²Ÿìœ¼ë¡œ í•œ ë¸”ë¡ì²´ì¸\n2.  ì†ë„ë¥¼ ìœ„í•´ì„œ íƒˆì¤‘ì•™ì„ í¬ê¸°í•œ ì‚¬ë¡€\n3.  ê°œë°œì ë„êµ¬ë‚˜ ì»¤ë®¤ë‹ˆí‹°ê°€ í›Œë¥­í•¨\n4.  ë¦¬í”Œê³¼ Issuedtoken ê°¯ìˆ˜ì— ë§ì¶°ì„œ ìµœì†Œ ì”ê³  ë“¤ê³  ìˆì–´ì•¼í•¨",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 41,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "istanbul-byzantine-fault",
    "slug": "istanbul-byzantine-fault",
    "path": "blockchain/others",
    "fullPath": "blockchain/others/istanbul-byzantine-fault",
    "title": "***Istanbul Byzantine Fault***",
    "excerpt": "Istanbul Byzantine Fault This article refers to link below! [Link](https://steemit.com/kr/@kanghamin/istanbul-byzantine-fault-toleranc...",
    "content": "# ***Istanbul Byzantine Fault***\n\n> This article refers to link below!\n> \n> [Link](https://steemit.com/kr/@kanghamin/istanbul-byzantine-fault-tolerance)\n\n## Consensus process\n\n1.  Pre-Prepare\n2.  Prepare\n3.  Commit\n\n-   Assuming that the bad node is F, System can run if the total number of nodes is 3F+1 or more.\n-   Validator is that derive consensus, and they choose a proposer before generating blocks(before every round).\n\n### Protocol: Propose\n\nFirst, the proposer choose and propose a new block, then announce it with message.\n\n![https://velog.velcdn.com/images%2Fasap0208%2Fpost%2F0a8048d2-f260-4e4c-be50-a88e40aca8a9%2Fimage.png](https://velog.velcdn.com/images%2Fasap0208%2Fpost%2F0a8048d2-f260-4e4c-be50-a88e40aca8a9%2Fimage.png)\n\n### Protocol: Pre-Prepare\n\nSecond, protocol is 'pre-prepare' state with sending 'prepare' message when validators receive a message from proposer. This process makes every validators notice that they're in same state.\n\n![https://velog.velcdn.com/images%2Fasap0208%2Fpost%2Fc3524567-17ce-4cc7-ad10-72bb78e13f9a%2Fimage.png](https://velog.velcdn.com/images%2Fasap0208%2Fpost%2Fc3524567-17ce-4cc7-ad10-72bb78e13f9a%2Fimage.png)\n\n### Protocol: Prepare\n\nThird, when validators get more than 2F+1 of messages, protocol is 'prepare' state and send 'commit' message.\n\n![https://velog.velcdn.com/images%2Fasap0208%2Fpost%2F7973d4cc-6dd8-43d7-9349-db904db584f3%2Fimage.png](https://velog.velcdn.com/images%2Fasap0208%2Fpost%2F7973d4cc-6dd8-43d7-9349-db904db584f3%2Fimage.png)\n\n### Protocol: Commit\n\nThis protocol makes peers notice that proposed blocks are permitted, and connects those to the chain. When they receive more than 2F+1 of messages, protocol should be 'commit' state, then blocks are connected to chain.\n\n![https://velog.velcdn.com/images%2Fasap0208%2Fpost%2Faf462703-0be6-439d-925f-2c14c0dc9412%2Fimage.png](https://velog.velcdn.com/images%2Fasap0208%2Fpost%2Faf462703-0be6-439d-925f-2c14c0dc9412%2Fimage.png)\n\n### Overall process\n\n![https://velog.velcdn.com/images%2Fasap0208%2Fpost%2F7939f561-1b3d-4801-8bda-e3df4b3482cc%2Fimage.png](https://velog.velcdn.com/images%2Fasap0208%2Fpost%2F7939f561-1b3d-4801-8bda-e3df4b3482cc%2Fimage.png)\n\nImage above shows the whole algorithm, when consensus is failed, go to 'Round change' and then restart over again.\n\n## Wrap up\n\nConsensus process is composed of three state, Success insertion of block means finality. Simply put, there's no way to change it at all.Therefore, it cannot be forked and valid block must be on the main blockchain.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 2,
    "wordCount": 232,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "hd-hierachy-deterministic-wallet",
    "slug": "hd-hierachy-deterministic-wallet",
    "path": "blockchain/others",
    "fullPath": "blockchain/others/hd-hierachy-deterministic-wallet",
    "title": "HD(Hierarchical Deterministic) Wallet",
    "excerpt": "HD ì§€ê°‘ì˜ ê°œë…ê³¼ BIP-32/39/44 í‘œì¤€, í‚¤ íŒŒìƒ ê²½ë¡œ êµ¬ì¡°ë¥¼ ì•Œì•„ë´…ë‹ˆë‹¤.",
    "content": "# HD(Hierarchical Deterministic) Wallet\n\n## ê°œìš”\n\nHD ì§€ê°‘ì€ í•˜ë‚˜ì˜ **ì‹œë“œ(Seed)**ë¡œë¶€í„° ë¬´í•œí•œ ê°œìˆ˜ì˜ ê°œì¸í‚¤/ê³µê°œí‚¤ ìŒì„ ê³„ì¸µì ìœ¼ë¡œ íŒŒìƒí•  ìˆ˜ ìˆëŠ” ì§€ê°‘ êµ¬ì¡°ì…ë‹ˆë‹¤. BIP-32 í‘œì¤€ì— ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, í˜„ëŒ€ ëŒ€ë¶€ë¶„ì˜ ì•”í˜¸í™”í ì§€ê°‘ì´ ì´ ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n## ì™œ HD ì§€ê°‘ì´ í•„ìš”í•œê°€?\n\n### ê¸°ì¡´ ì§€ê°‘ì˜ ë¬¸ì œì \n\n- ê° ì£¼ì†Œë§ˆë‹¤ ë³„ë„ì˜ ê°œì¸í‚¤ë¥¼ ìƒì„±í•˜ê³  ë°±ì—…í•´ì•¼ í•¨\n- ìƒˆ ì£¼ì†Œë¥¼ ë§Œë“¤ ë•Œë§ˆë‹¤ ë°±ì—… ê°±ì‹  í•„ìš”\n- ê°œì¸í‚¤ ê´€ë¦¬ê°€ ë³µì¡í•˜ê³  ë¶„ì‹¤ ìœ„í—˜ ì¦ê°€\n\n### HD ì§€ê°‘ì˜ ì¥ì \n\n- **ë‹¨ì¼ ì‹œë“œ ë°±ì—…**: 12~24ê°œ ë‹ˆëª¨ë‹‰ ë‹¨ì–´ë§Œ ë°±ì—…í•˜ë©´ ëª¨ë“  í‚¤ ë³µêµ¬ ê°€ëŠ¥\n- **ê²°ì •ë¡ ì  íŒŒìƒ**: ë™ì¼í•œ ì‹œë“œì—ì„œ í•­ìƒ ë™ì¼í•œ í‚¤ ì‹œí€€ìŠ¤ ìƒì„±\n- **ê³„ì¸µì  êµ¬ì¡°**: ìš©ë„ë³„ë¡œ ê³„ì •ì„ ë¶„ë¦¬ ê´€ë¦¬ ê°€ëŠ¥\n\n---\n\n## í•µì‹¬ BIP í‘œì¤€\n\n### BIP-39: ë‹ˆëª¨ë‹‰ ì‹œë“œ êµ¬ë¬¸\n\nì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” ë‹¨ì–´ ëª©ë¡ìœ¼ë¡œ ì‹œë“œë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.\n\n```\nabandon ability able about above absent absorb abstract absurd abuse access accident\n```\n\n- 12, 15, 18, 21, 24ê°œ ë‹¨ì–´ ì§€ì›\n- 2048ê°œ ë‹¨ì–´ ëª©ë¡ì—ì„œ ì„ íƒ\n- ë§ˆì§€ë§‰ ë‹¨ì–´ì— ì²´í¬ì„¬ í¬í•¨\n\n### BIP-32: í‚¤ íŒŒìƒ êµ¬ì¡°\n\nì‹œë“œë¡œë¶€í„° ë§ˆìŠ¤í„° í‚¤ë¥¼ ìƒì„±í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìì‹ í‚¤ë¥¼ íŒŒìƒí•©ë‹ˆë‹¤.\n\n```\nSeed â†’ Master Key â†’ Child Key â†’ Grandchild Key â†’ ...\n```\n\n**í‚¤ íŒŒìƒ ë°©ì‹:**\n\n- **ì¼ë°˜ íŒŒìƒ (Normal)**: í™•ì¥ ê³µê°œí‚¤ë¡œ ìì‹ ê³µê°œí‚¤ íŒŒìƒ ê°€ëŠ¥\n- **ê°•í™” íŒŒìƒ (Hardened)**: ê°œì¸í‚¤ê°€ ìˆì–´ì•¼ë§Œ ìì‹ í‚¤ íŒŒìƒ ê°€ëŠ¥ (ë³´ì•ˆ ê°•í™”)\n\n### BIP-44: ê²½ë¡œ ê·œì•½\n\në‹¤ì¤‘ ì½”ì¸, ë‹¤ì¤‘ ê³„ì •ì„ ì§€ì›í•˜ê¸° ìœ„í•œ í‘œì¤€í™”ëœ ê²½ë¡œ êµ¬ì¡°ì…ë‹ˆë‹¤.\n\n```\nm / purpose' / coin_type' / account' / change / address_index\n```\n\n| ë ˆë²¨ | ì„¤ëª… | ì˜ˆì‹œ |\n|-----|------|------|\n| `purpose'` | BIP ë²ˆí˜¸ (44 = BIP-44) | 44' |\n| `coin_type'` | ì½”ì¸ ì¢…ë¥˜ | 0' (BTC), 60' (ETH) |\n| `account'` | ê³„ì • ë²ˆí˜¸ | 0', 1', 2' |\n| `change` | ì™¸ë¶€(0) / ë‚´ë¶€(1) | 0 |\n| `address_index` | ì£¼ì†Œ ì¸ë±ìŠ¤ | 0, 1, 2... |\n\n**ê²½ë¡œ ì˜ˆì‹œ:**\n\n```\nm/44'/0'/0'/0/0   â†’ ì²« ë²ˆì§¸ ë¹„íŠ¸ì½”ì¸ ì£¼ì†Œ\nm/44'/60'/0'/0/0  â†’ ì²« ë²ˆì§¸ ì´ë”ë¦¬ì›€ ì£¼ì†Œ\nm/44'/501'/0'/0'  â†’ ì²« ë²ˆì§¸ ì†”ë¼ë‚˜ ì£¼ì†Œ\n```\n\n---\n\n## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­\n\n### ê°•í™” íŒŒìƒì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê³³\n\n- `purpose`, `coin_type`, `account` ë ˆë²¨ì€ ë°˜ë“œì‹œ ê°•í™” íŒŒìƒ(`'`) ì‚¬ìš©\n- ì¼ë°˜ íŒŒìƒ í‚¤ê°€ ë…¸ì¶œë˜ë©´ í˜•ì œ ê°œì¸í‚¤ ì¶”ë¡  ê°€ëŠ¥\n\n### ë‹ˆëª¨ë‹‰ ë³´ê´€\n\n- ì˜¤í”„ë¼ì¸ í™˜ê²½ì—ì„œ ìƒì„±\n- ë¬¼ë¦¬ì  ë§¤ì²´(ì¢…ì´, ê¸ˆì†íŒ)ì— ë°±ì—…\n- ë””ì§€í„¸ ì €ì¥ ì ˆëŒ€ ê¸ˆì§€\n\n---\n\n## ì£¼ìš” ì½”ì¸ë³„ ê²½ë¡œ\n\n| ì½”ì¸ | BIP-44 ê²½ë¡œ | coin_type |\n|-----|------------|-----------|\n| Bitcoin | m/44'/0'/... | 0 |\n| Ethereum | m/44'/60'/... | 60 |\n| Solana | m/44'/501'/... | 501 |\n| Ripple | m/44'/144'/... | 144 |\n| Aptos | m/44'/637'/... | 637 |\n\n---\n\n## ì°¸ê³  ìë£Œ\n\n- [BIP-32: Hierarchical Deterministic Wallets](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki)\n- [BIP-39: Mnemonic code for generating deterministic keys](https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki)\n- [BIP-44: Multi-Account Hierarchy](https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki)\n- [SLIP-44: Registered coin types](https://github.com/satoshilabs/slips/blob/master/slip-0044.md)",
    "docType": "original",
    "category": "Blockchain",
    "tags": [
      "Blockchain",
      "Wallet",
      "BIP-32",
      "BIP-39",
      "BIP-44"
    ],
    "readingTime": 3,
    "wordCount": 428,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "harmony-one",
    "slug": "harmony-one",
    "path": "blockchain/others",
    "fullPath": "blockchain/others/harmony-one",
    "title": "Harmony (ONE)",
    "excerpt": "Harmony (ONE) ğŸ’¡ Cheatsheet of ONE for web3 developers. ìš”ì•½ ì´ë”ë¦¬ì›€ ë³µì œí’ˆ ë‹¤ë§Œ ìƒ¤ë”© ì ìš©ë˜ì–´ ìˆëŠ”ë° í˜„ì¬ëŠ” 4ê°œ ì²´ì¸ ì´ì™¸ íŠ¹ì´ì‚¬í•­ ë”±íˆ ì—†ë‹¤...",
    "content": "# Harmony (ONE)\n\n<aside>\nğŸ’¡ Cheatsheet of ONE for web3 developers.\n\n</aside>\n\n# ìš”ì•½\n\n1. ì´ë”ë¦¬ì›€ ë³µì œí’ˆ\n2. ë‹¤ë§Œ ìƒ¤ë”© ì ìš©ë˜ì–´ ìˆëŠ”ë° í˜„ì¬ëŠ” 4ê°œ ì²´ì¸\n3. ì´ì™¸ íŠ¹ì´ì‚¬í•­ ë”±íˆ ì—†ë‹¤",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 31,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "filecoin-fil",
    "slug": "filecoin-fil",
    "path": "blockchain/others",
    "fullPath": "blockchain/others/filecoin-fil",
    "title": "Filecoin (FIL)",
    "excerpt": "Filecoin (FIL) ğŸ’¡ ì• ì¦ì˜ íŒŒì¼ì½”ì¸ ìš”ì•½ íŠ¸ëœì­ì…˜ ì „íŒŒì‹œì— íƒ€ì„ì•„ì›ƒ ë‚˜ëŠ”ê±° ê³ ì§ˆë³‘ì´ë¼ê³  í•¨ ë¯¸ë¦¬ txHash ë§Œë“œëŠ” ë°©ë²•ìˆìŒ. ì•„ë˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ ì°¾ìœ¼ë©´ ë‚˜ì˜´ [https://docs.zondax.c...",
    "content": "# Filecoin (FIL)\n\n<aside>\nğŸ’¡ ì• ì¦ì˜ íŒŒì¼ì½”ì¸\n\n</aside>\n\n# ìš”ì•½\n\n1. íŠ¸ëœì­ì…˜ ì „íŒŒì‹œì— íƒ€ì„ì•„ì›ƒ ë‚˜ëŠ”ê±° ê³ ì§ˆë³‘ì´ë¼ê³  í•¨\n2. ë¯¸ë¦¬ txHash ë§Œë“œëŠ” ë°©ë²•ìˆìŒ. ì•„ë˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ ì°¾ìœ¼ë©´ ë‚˜ì˜´\n\n[https://docs.zondax.ch/filecoin-signing-tools](https://docs.zondax.ch/filecoin-signing-tools)\n\n1. filecoin vs arweave ê²€ìƒ‰í•˜ë©´ IPFS ê´€ë ¨í•´ì„œ ì¬ë°ŒëŠ” ì£¼ì œ ë§ìŒ",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 39,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "biance-smart-chain-bnb",
    "slug": "biance-smart-chain-bnb",
    "path": "blockchain/others",
    "fullPath": "blockchain/others/biance-smart-chain-bnb",
    "title": "Biance Smart Chain (BNB)",
    "excerpt": "Biance Smart Chain (BNB) ğŸ’¡ Cheatsheet of BSC/BNB for web3 developers. ì„¤ëª… ì´ë”ë¦¬ì›€ ë³µì‚¬ë³¸. BNBì²´ì¸ê³¼ BSCì²´ì¸ì´ ë”°ë¡œ ìˆì–´ì„œ ìœ ì˜ í•„ìš”...",
    "content": "# Biance Smart Chain (BNB)\n\n<aside>\nğŸ’¡ Cheatsheet of BSC/BNB for web3 developers.\n\n</aside>\n\n# ì„¤ëª…\n\n1. ì´ë”ë¦¬ì›€ ë³µì‚¬ë³¸.\n2. BNBì²´ì¸ê³¼ BSCì²´ì¸ì´ ë”°ë¡œ ìˆì–´ì„œ ìœ ì˜ í•„ìš”",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 27,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ë¸”ë¡ì²´ì¸ì˜-ì´í•´",
    "slug": "beulrogceinyi-ihae",
    "path": "blockchain/fundamentals",
    "fullPath": "blockchain/fundamentals/beulrogceinyi-ihae",
    "title": "ë¸”ë¡ì²´ì¸ì˜ ì´í•´",
    "excerpt": "ë¸”ë¡ì²´ì¸ì˜ ì´í•´ _ë³´í—˜ì—°êµ¬ì›ì˜ ì—°êµ¬ë³´ê³ ì„œ '[ê¶Œí˜¸ : 18-24] ë³´í—˜ ì‚°ì—…ì˜ ë¸”ë¡ì²´ì¸ í™œìš©'ì„ ì½ê³  ì‘ì„±í•œ ë‚´ìš©ì…ë‹ˆë‹¤. ê°œì¸ ê³µë¶€ ëª©ì ì´ë¼ ì •ë¦¬ê°€ ë¯¸í¡í•œ ì  ì–‘í•´ ë¶€íƒë“œë¦½ë‹ˆë‹¤._ ë¸”ë¡ì²´ì¸ì˜ ì˜ë¯¸ ë¸”ë¡ì²´ì¸ì´ë€ P2P(Peer to Peer) ë„¤íŠ¸...",
    "content": "# ë¸”ë¡ì²´ì¸ì˜ ì´í•´\n\n> _ë³´í—˜ì—°êµ¬ì›ì˜ ì—°êµ¬ë³´ê³ ì„œ '[ê¶Œí˜¸ : 18-24] ë³´í—˜ ì‚°ì—…ì˜ ë¸”ë¡ì²´ì¸ í™œìš©'ì„ ì½ê³  ì‘ì„±í•œ ë‚´ìš©ì…ë‹ˆë‹¤. ê°œì¸ ê³µë¶€ ëª©ì ì´ë¼ ì •ë¦¬ê°€ ë¯¸í¡í•œ ì  ì–‘í•´ ë¶€íƒë“œë¦½ë‹ˆë‹¤._\n\n## 1. ë¸”ë¡ì²´ì¸ì˜ ì˜ë¯¸\n\në¸”ë¡ì²´ì¸ì´ë€ P2P(Peer to Peer) ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ê´€ë¦¬ë˜ëŠ” ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ì˜ í•œ í˜•íƒœë¡œ, ê±°ë˜ ì •ë³´ë¥¼ ë‹´ì€ ì¥ë¶€ë¥¼ ì¤‘ì•™ì„œë²„ í•œ ê³³ì— ì €ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë¸”ë¡ì²´ì¸ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ëœ ì—¬ëŸ¬ ì»´í“¨í„°ì— ì €ì¥ ë° ë³´ê´€í•˜ëŠ” ê¸°ìˆ ë¡œ ë‹¤ì–‘í•œ ë¶„ì•¼ì— í™œìš©ì´ ê°€ëŠ¥í•œ ê¸°ìˆ ì´ë‹¤.\n\në¸”ë¡ì²´ì¸ì€ ë¶„ì‚°ì›ì¥ ê¸°ìˆ ì´ë¼ê³ ë„ ë¶ˆë¦¬ë©°, ì´ëŠ” ê±°ë˜ ì •ë³´ë¥¼ ê¸°ë¡í•œ ì›ì¥ ë°ì´í„°ë¥¼ ì¤‘ì•™ì„œë²„ê°€ ì•„ë‹Œ ì°¸ê°€ìë“¤ì´ ê³µë™ìœ¼ë¡œ ê¸°ë¡ ë° ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ë¸”ë¡ì²´ì¸ì€ ë¶„ì‚°ì²˜ë¦¬ì™€ ì•”í˜¸í™” ê¸°ìˆ ì„ ë™ì‹œì— ì ìš©í•˜ë©° ë†’ì€ ë³´ì•ˆì„±ì„ í™•ë³´í•˜ëŠ” í•œí¸ ê±°ë˜ê³¼ì •ì˜ ì‹ ì†ì„±ê³¼ íˆ¬ëª…ì„±ì„ íŠ¹ì§•ìœ¼ë¡œ í•œë‹¤.\n\në³´ì•ˆì„±ì˜ ê°•í™”ë¡œ í•´ì»¤ì˜ ê³µê²©ê³¼ ë°ì´í„°ì˜ ì™œê³¡ ê·¸ë¦¬ê³  ê¸°ì¡´ ì¤‘ì•™ì§‘ì¤‘ ì„œë²„ ë°©ì‹ì—ì„œ ê°€ì¥ í° ë¬¸ì œì¸ ë””ë„ìŠ¤ ê³µê²©ì„ ì›ì²œì ìœ¼ë¡œ ë°©ì–´í•  ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ë¸”ë¡ì²´ì¸ í”Œë«í¼ì„ ì´ìš©í•˜ë©´ ì œ 3ìì˜ ê±°ë˜ì— ì˜ì¡´í•˜ë˜ ì—¬ëŸ¬ ê³¼ì •ë“¤ì„ ìƒëµí•  ìˆ˜ ìˆì–´, ê·¸ì— ë”°ë¥¸ ë¹„ìš©ì„ íšê¸°ì ìœ¼ë¡œ ì ˆì•½í•  ìˆ˜ ìˆë‹¤. ì œ 3ìê°€ ê±°ë˜ ì¤‘ì‹¬ì˜ ë³´ì¥ ë° ì¦ëª… ì„œë¹„ìŠ¤ì˜ í•­ëª©ë“¤ì„ ë¸”ë¡ì²´ì¸ ì‹œìŠ¤í…œì— ìˆ˜ë ´í•  ìˆ˜ ìˆë‹¤.\n\në³´ì•ˆì„±ì´ ë†’ê³  ìœ„ë³€ì¡°ê°€ ì–´ë µë‹¤ëŠ” íŠ¹ì„± ë•Œë¬¸ì— ë°ì´í„° ì›ë³¸ì˜ ë¬´ê²°ì„±ì´ ìš”êµ¬ë˜ëŠ” ë‹¤ì–‘í•œ ê³µê³µ-ë¯¼ê°„ ì˜ì—­ì— ì ìš©ë˜ê³  ìˆìœ¼ë©°, ìƒˆë¡œìš´ ì‹ ë¢°ì‚¬íšŒ êµ¬í˜„ì˜ ê¸°ë°˜ ê¸°ìˆ ë¡œ ì£¼ëª©ë°›ê³  ìˆëŠ” ì¤‘ì´ë‹¤. ë˜í•œ, ë¸”ë¡ì²´ì¸ ê¸°ìˆ ì€ ê±°ë˜ ì¥ë¶€ì¸ ë°ì´í„°ë¿ ì•„ë‹ˆë¼ ê±°ë˜ ê³„ì•½ë„ ì¤‘ê°„ ì‹ ë¢° ë‹´ë‹¹ìì—†ì´ ê±°ë˜ë¥¼ í•  ìˆ˜ ìˆëŠ”ë° ì´ê²ƒì´ ë°”ë¡œ ì•ì„œ ì–¸ê¸‰í•œ ìŠ¤ë§ˆíŠ¸ê³„ì•½ì´ë‹¤.\n\n## 2. ë¸”ë¡ì²´ì¸ì˜ ì›ë¦¬\n\në¸”ë¡ì²´ì¸ ê¸°ìˆ ì€ ê±°ë˜ì •ë³´ë¥¼ ê¸°ë¡í•œ ì›ì¥ë°ì´í„°ë¥¼ ì¤‘ì•™ ì„œë²„ê°€ ì•„ë‹Œ ë„¤íŠ¸ì›Œí¬ì— ì°¸ê°€í•˜ëŠ” ëª¨ë“  ê³µë™ì²´ê°€ ê±°ë˜ë¥¼ ê¸°ë¡í•˜ê³  ê´€ë¦¬í•˜ëŠ” P2Pê±°ë˜ë¥¼ ì§€í–¥í•˜ëŠ” íƒˆì¤‘ì•™í™”ë¥¼ í•µì‹¬ ê°œë…ìœ¼ë¡œ í•˜ëŠ” ê¸°ìˆ ì´ë‹¤. ê¸°ì¡´ ê¸ˆìœµ ì‹œìŠ¤í…œì—ì„œëŠ” ê¸ˆìœµíšŒì‚¬ë“¤ì´ ì¤‘ì•™ ì„œë²„ì— ê±°ë˜ê¸°ë¡ì„ ë³´ê´€í•´ì˜¨ ë°˜ë©´, P2P ë°©ì‹ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ë¸”ë¡ì²´ì¸ì—ì„œëŠ” ê±°ë˜ ì •ë³´ë¥¼ ë¸”ë¡ì— ë‹´ì•„ ì°¨ë¡€ëŒ€ë¡œ ì—°ê²°í•˜ê³  ì´ë¥¼ ëª¨ë“  ì°¸ì—¬ìê°€ ê³µìœ í•œë‹¤.\n\n-   ê±°ë˜ê³¼ì •1) Aê°€ Bì—ê²Œ ì†¡ê¸ˆí¬ë§ ë“±ì˜ ê±°ë˜ ìš”ì²­ì„ í•œë‹¤.2) í•»ë‹¹ ê±°ë˜ ì •ë³´ê°€ ë‹´ê¸´ ë¸”ë¡ì´ ìƒì„±ëœë‹¤.3) ë¸”ë¡ì´ ë„¤íŠ¸ì›Œí¬ ìƒì˜ ëª¨ë“  ì°¸ì—¬ìì—ê²Œ ì „ì†¡ë˜ë©´4) ì°¸ì—¬ìë“¤ì€ ê±°ë˜ ì •ë³´ì˜ ìœ íš¨ì„±ì„ ìƒí˜¸ ê²€ì¦í•œë‹¤.5) ì°¸ì—¬ì ê³¼ë°˜ìˆ˜ì˜ ë°ì´í„°ì™€ ì¼ì¹˜í•˜ëŠ” ê±°ë˜ë‚´ì—­ì€ ì •ìƒ ì¥ë¶€ë¡œ í™•ì¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê²€ì¦ì´ ì™„ë£Œëœ ë¸”ë¡ì€ ì´ì „ ë¸”ë¡ì— ì—°ê²°ë˜ê³ , ê·¸ ì‚¬ë³¸ì´ ë§Œë“¤ì–´ì ¸ ê° ì‚¬ìš©ìì˜ ì»´í“¨í„°ì— ë¶„ì‚° ì €ì¥ëœë‹¤.6) Aê°€ Bì—ê²Œ ì†¡ê¸ˆí•˜ì—¬ ê±°ë˜ê°€ ì™„ë£Œëœë‹¤.\n\nì´ë ‡ê²Œ ê±°ë˜í•  ë•Œë§ˆë‹¤ ê±°ë˜ ì •ë³´ê°€ ë‹´ê¸´ ë¸”ë¡ì´ ìƒì„±ë˜ì–´ ê³„ì† ì—°ê²°ë˜ë©´ì„œ ëª¨ë“  ì°¸ì—¬ìì˜ ì»´í“¨í„°ì— ë¶„ì‚° ì €ì¥ë˜ëŠ”ë°, ì´ë¥¼ í•´í‚¹í•˜ì—¬ ì„ì˜ë¡œ ìˆ˜ì •í•˜ê±°ë‚˜ ìœ„ì¡° ë˜ëŠ” ë³€ì¡°í•˜ë ¤ë©´ ì „ì²´ ì°¸ì—¬ìì˜ ê³¼ë°˜ìˆ˜ ì´ìƒì˜ ê±°ë˜ ì •ë³´ë¥¼ ë™ì‹œì— ìˆ˜ì •í•˜ì—¬ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì‚¬ì‹¤ìƒ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ ì ‘ê·¼ì„ ì°¨ë‹¨í•¨ìœ¼ë¡œì¨ ê±°ë˜ ì •ë³´ë¥¼ ë³´í˜¸ ë° ê´€ë¦¬í•˜ëŠ” ê¸°ì¡´ì˜ ê¸ˆìœµì‹œìŠ¤í…œê³¼ëŠ” ì „í˜€ ë‹¬ë¦¬, ë¸”ë¡ì²´ì¸ì—ì„œëŠ” ëª¨ë“  ê±°ë˜ ì •ë³´ë¥¼ ëˆ„êµ¬ë‚˜ ì—´ëŒí•  ìˆ˜ ìˆë„ë¡ ê³µê°œí•œ ìƒíƒœì—ì„œ ì€í–‰ ê°™ì€ ê³µì‹ ë ¥ìˆëŠ” ì œ 3ìì˜ ë³´ì¦ ì—†ì´ ë‹¹ì‚¬ì ê°„ì— ì•ˆì „í•˜ê²Œ ê±°ë˜ê°€ ì´ë£¨ì–´ ì§„ë‹¤.\n\n## 3. ë¸”ë¡ì²´ì¸ì˜ ê¸°ìˆ ì  ê°œë…\n\n### ê°€. í•´ì‹œí•¨ìˆ˜\n\në¸”ë¡ì²´ì¸, ì•”í˜¸í™”í ê¸°ìˆ ì˜ ë‚´ìš©ì— ë§¤ë²ˆ ë“±ì¥í•˜ëŠ” ê²ƒ ì¤‘ í•˜ë‚˜ê°€ í•´ì‹œí•¨ìˆ˜ì´ë‹¤. í•´ì‹œí•¨ìˆ˜ì˜ í•´ì‹œëŠ” \"ì–´ë–¤ ë°ì´í„°ë¥¼ ê³ ì •ëœ ê¸¸ì´ì˜ ë°ì´í„°ë¡œ ë³€í™˜\"í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. í•´ì‹œí•¨ìˆ˜ë¥¼ ê±°ì¹˜ë©´ ì›ë³¸ ë°ì´í„°ë¥¼ ì•Œì•„ë³¼ ìˆ˜ ì—†ë„ë¡ íŠ¹ìˆ˜í•œ ë¬¸ìì—´ë¡œ ë³€í™˜ì´ ë˜ëŠ”ë°, í•´ì‹œí•¨ìˆ˜ëŠ” ì••ì¶•ì´ ì•„ë‹ˆë¼ ë‹¨ë°©í–¥ ë³€í™˜ì´ê¸° ë•Œë¬¸ì— í•´ì‹œê°’ì„ ì´ìš©í•´ì„œ ì›ë³¸ë°ì´í„°ë¥¼ ë³µì›í•  ìˆ˜ ì—†ë‹¤ëŠ” íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆë‹¤.\n\n### 1) í•´ì‹œí•¨ìˆ˜ì˜ ìœ ìš©ì„±\n\ní•´ì‹œí•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì„±ê²©ì´ ìˆê¸° ë•Œë¬¸ì— ë³´ì•ˆì—ì„œ ìœ ìš©í•˜ê²Œ ì“°ì¸ë‹¤. ì›ë³¸ë°ì´í„°ì— ì•„ì£¼ ì‘ì€ ë³€í™”ë§Œ ìˆì–´ë„ ì™„ì „ì´ ë‹¤ë¥¸ í•´ì‹œê°’ì´ ë§Œë“¤ì–´ì§€ê²Œ ëœë‹¤.ì¦‰ í•´ì‹œí•¨ìˆ˜ë¥¼ ì´ìš©í•˜ê²Œ ë˜ë©´, ì›ë³¸ë°ì´í„°ì˜ ì‚¬ì†Œí•œ ë³€í™”ë„ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆê²Œ ëœë‹¤. ë˜í•œ í•´ì‹œí•¨ìˆ˜ëŠ” ëˆˆì‚¬íƒœ íš¨ê³¼ë•Œë¬¸ì— ì „ìì„œëª…, ì¦ëª…ì„œ ë“±ì—ì„œ í•´ì‹œê°’ì„ ë§ì´ í™œìš©í•˜ê³  ìˆë‹¤. ë³¸ë¬¸ì— ì•½ê°„ì˜ ìˆ˜ì •ë§Œ ê°€í•´ì ¸ë„ í•´ì‹œê°’ì´ ì™„ì „íˆ ë‹¬ë¼ì ¸ ìœ„ë³€ì¡° íŒë³„ì´ ìš©ì´í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë¸”ë¡ì²´ì¸ì˜ í•´ì‹œí•¨ìˆ˜ê°€ ì–‘ë°©í–¥ ë³€í™˜ì´ ê°€ëŠ¥í–ˆë”ë¼ë©´ ì•”í˜¸í™”ì— ì“°ì¼ ìˆ˜ê°€ ì—†ì—ˆì„ ê²ƒì´ë‹¤.\n\ní•˜ì§€ë§Œ í•´ì‹œí•¨ìˆ˜ëŠ” ë‹¨ë°©í–¥ ë³€í™˜ì´ë©°, ë³µì›ì´ ë¶ˆê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ë¸”ë¡ì²´ì¸ ê¸°ìˆ  ë° ì „ìì„œëª… ë“± ì•”í˜¸í™”ì— ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. ë¸”ë¡ì²´ì¸ì—ì„œëŠ” ì´ í•´ì‹œê°’ì„ ì´ìš©í•´ í•´ë‹¹ ë¸”ë¡ì— ì„œëª…í•˜ê³  ì´ì „ ë¸”ë¡ì˜ í•´ì‹œê°’ì„ ë‹¤ìŒ ë¸”ë¡ì— ê¸°ë¡í•¨ìœ¼ë¡œì¨ ì²´ì¸ í˜•íƒœì˜ ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¥¼ í˜•ì„±í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ íŠ¹ì • ë¸”ë¡ì„ í•´í‚¹í•˜ë ¤ë©´ ê·¸ ë¸”ë¡ì— ì—°ê²°ëœ ë‹¤ë¥¸ ë¸”ë¡ë“¤ë„ ìˆ˜ì •ì„ í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ë°ì´í„°ì˜ ìœ„ë³€ì¡°ê°€ ì•„ì£¼ ì–´ë ¤ìš´ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆë‹¤.\n\n### 2) í•´ì‹œí•¨ìˆ˜ì˜ íŠ¹ì„±\n\n(1) ì–´ë–¤ ê¸¸ì´ì˜ ë°ì´í„°ë„ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\n\n(2) ê²°ê³¼ëŠ” ì •í•´ì§„ ê¸¸ì´ë¡œ ë‚˜ì˜¨ë‹¤.\n\n(3) ê³„ì‚° ì‹œê°„ì´ í•©ë¦¬ì ìœ¼ë¡œ ì¶”ì • ê°€ëŠ¥í•´ì•¼ í•œë‹¤.\n\n(4) ê²°ê³¼ ê°’ì´ ì¤‘ë³µë  ê°€ëŠ¥ì„±ì´ ê±°ì˜ ì—†ë‹¤.\n\n(5) \\*\\*\\*\\*ì…ë ¥ ê°’ì„ ì•Œ ìˆ˜ ì—†ë‹¤.\n\n(6) ê²°ê³¼ ê°’ì„ ì•Œë ¤ì£¼ê³  ì…ë ¥ ê°’ì„ ì°¾ì„ ìˆ˜ ìˆëŠ” íŠ¹ë³„í•œ ê³µì‹ì´ ì—†ë‹¤.\n\n![https://velog.velcdn.com/images%2Fasap0208%2Fpost%2F0a7c3c00-b692-429b-be26-d1e25b481912%2Fimage.png](https://velog.velcdn.com/images%2Fasap0208%2Fpost%2F0a7c3c00-b692-429b-be26-d1e25b481912%2Fimage.png)\n\n### 3) í•´ì‹œí•¨ìˆ˜ì— ê´€í•œ ì¶”ê°€ ì„¤ëª…\n\në¸”ë¡ì²´ì¸ì„ í™œìš©í•œ ì•”í˜¸í™”íì—ì„œ ì‚¬ìš©ë˜ëŠ” ì•”í˜¸ê¸°ìˆ ì€ í•´ì‹œí•¨ìˆ˜, ì „ìì„œëª…, ê³µê°œí‚¤ ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ì´ë¼ ë§í•  ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œ í•´ì‹œí•¨ìˆ˜ëŠ” ì„ì˜ ë°ì´í„°ë¥¼ íŠ¹ì • ê¸¸ì´ì˜ ë¬¸ì, ìˆ«ìë¡œ ì¡°í•©ëœ í•´ì‹œê°’ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì•”í˜¸ ì•Œê³ ë¦¬ì¦˜ì˜ ì¼ì¢…ì´ë‹¤. í•´ì‹œí•¨ìˆ˜ì—ì„œ ì‚°ì¶œë˜ëŠ” í•´ì‹œê°’ì€ ì§€ë¬¸ì´ë¼ê³ ë„ í•˜ëŠ”ë°, ì•”í˜¸í™”íì—ì„œ í•´ì‹œê°’ ë¹„êµë¥¼ í†µí•˜ì—¬ ì›ë³¸ì˜ ìœ„ë³€ì¡° ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ëŠ” ë¬´ê²°ì„± ê²€ì¦ì— ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\n\në¸”ë¡ì²´ì¸ì—ì„œ í•´ì‹œí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” 3ê°€ì§€ ëª©ì ì„ ì‚´í´ë³´ë©´ ì²«ì§¸, ê³µê°œí‚¤ì˜ í•´ì‹œê°’ì„ ì§€ê°‘ì£¼ì†Œë¡œ í™œìš©í•˜ì—¬ ìµëª…í™”ëœ ê±°ë˜ë¥¼ ìˆ˜í–‰í•˜ê³ , ê°€ìƒí™”íì˜ ì „ìì§€ê°‘ ì£¼ì†ŒëŠ” ê³µê°œí‚¤ ê¸°ë°˜ ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìƒì„±ëœ ê³µê°œí‚¤ì˜ í•´ì‹œê°’ì„ ì‚¬ìš©í•œë‹¤. ê°œì¸ì •ë³´(ì •í™•íˆëŠ” ì†¡ì‹ ìì˜ ê³„ì¢Œì •ë³´) ì—†ì´ ìµëª…í™”ëœ ê±°ë˜ë¥¼ í†µí•´ ì†¡ê¸ˆìì˜ ì‹ ì›ì„ ê°ì¶”ê³ , ì†¡ê¸ˆí•  ìˆ˜ ìˆë‹¤.\n\në‘˜ì§¸, í•´ì‹œí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ 2ê°€ì§€ì˜ ë¬´ê²°ì„± ê²€ì¦ì— ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ì²´ì¸ìœ¼ë¡œ ì—°ê²°ëœ ë¸”ë¡í—¤ë”ì˜ í•´ì‹œê°’ì„ í™œìš©í•˜ì—¬ í•´ì‹œê°’ ì²´ì¸ìœ¼ë¡œ ì—°ê²°ëœ ë¸”ë¡ì˜ ë¬´ê²°ì„± ê²€ì¦ì— ì‚¬ìš©ëœë‹¤. ë˜ ë‹¤ë¥¸ ë¬´ê²°ì„± ê²€ì¦ì€ ê° ë¸”ë¡ì˜ ì „ì²´ê±°ë˜ë¥¼ í•˜ë‚˜ì˜ í•´ì‹œê°’(ë¨¸í´ë£¨íŠ¸)ìœ¼ë¡œ ì €ì¥í•˜ê³ , í•„ìš”í•  ê²½ìš°ì—ëŠ” ì–¸ì œë“ , í•´ë‹¹ ë¸”ë¡ì˜ ë¨¸í´ë£¨íŠ¸ ê°’ìœ¼ë¡œ ë¸”ë¡ ë‚´ì— í¬í•¨ëœ ê°œë³„ê±°ë˜ì˜ ìœ„ë³€ì¡° ì—¬ë¶€ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆë‹¤. ëª¨ë“  ê±°ë˜ ë°ì´í„°ì˜ í•´ì‹œê°’ì„ ë¨¸í´ íŠ¸ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ë§Œë“¤ì–´ì§€ëŠ” ë¨¸í´ ë£¨íŠ¸ì— ì €ì¥í•˜ê³  í–¥í›„ ê±°ë˜ë‚´ì—­ì˜ ìœ„ë³€ì¡° ì—¬ë¶€ë¥¼ ê²€ì¦í•  ë•Œ, ì›ë³¸ í•´ì‹œê°’ê³¼ ë¹„êµë¥¼ í†µí•˜ì—¬, ê° ê±°ë˜ì˜ ë¬´ê²°ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.ë˜í•œ ë¨¸í´ ë£¨íŠ¸ëŠ” 1MBë¡œ í¬ê¸°ê°€ ì œí•œë˜ì–´ ìˆëŠ” ë¹„íŠ¸ì½”ì¸ì˜ ê° ë¸”ë¡ì˜ í¬ê¸°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ì „ì²´ ê±°ë˜ë‚´ì—­ì„ ë‹¤ ì €ì¥í•  í•„ìš” ì—†ì´, ë¨¸í´ë£¨íŠ¸ë¼ëŠ” í•œ ê°œì˜ í•´ì‹œê°’ë§Œ ì €ì¥í•˜ë©´, í•´ë‹¹ ë¸”ë¸”ë¡ ë‚´ì˜ ëª¨ë“  ê±°ë˜ë‚´ì—­ì˜ ì§„ìœ„ë¥¼ í•„ìš”í•  ë•Œ ë¹„êµí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\n\në§ˆì§€ë§‰ìœ¼ë¡œ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì—ì„œ PoWë°©ì‹ì„ ì‚¬ìš©í•  ê²½ìš°, í•´ì‹œê°’ì„ í™œìš©í•œ ì±„êµ´ë¬¸ì œì— í™œìš©í•œë‹¤. í•´ì‹œê°’ì„ í™œìš©í•œ ì±„êµ´ë¬¸ì œì— ë¨¼ì € ë§ì¶”ëŠ” ì±„êµ´ìì—ê²Œ ì±„êµ´ê¶Œí•œê³¼ ë³´ìƒì„ ì œê³µí•œë‹¤. í•´ì‹œìºì‹œ ë¬¸ì œí’€ì´ë¥¼ í†µí•œ ì‘ì—…ì¦ëª…ì€ ì±„êµ´ì´ë¼ê³ ë„ í•˜ëŠ”ë°, ì±„êµ´ìì— ëŒ€í•œ ë³´ìƒì„ í†µí•´, ì±„êµ´ì„ ê²½ì¥í•´ê³ , ì±„êµ´ìê°€ ììœ¨ì ìœ¼ë¡œ ìƒˆë¡œìš´ ë¸”ë¡ì„ ìƒì„±í•˜ë„ë¡ ìœ ë„í•  ìˆ˜ ìˆëŠ” ì›ë¦¬ë¥¼ ê°€ì§€ê³  ìˆë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 5,
    "wordCount": 836,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ë¡¤ì—…ì´ë€",
    "slug": "roleobiran",
    "path": "blockchain/fundamentals",
    "fullPath": "blockchain/fundamentals/roleobiran",
    "title": "ë¡¤ì—…ì´ë€?",
    "excerpt": "ë¡¤ì—…ì´ë€? ë¡¤ì—…ì€ L2ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•œ ë’¤, ì‹¤í–‰í•œ íŠ¸ëœì­ì…˜ ë°ì´í„°ë“¤ê³¼ ë³€ê²½ëœ ìƒíƒœì˜ ìš”ì•½ë³¸ì„ L1ì— ì €ì¥í•˜ëŠ” ì†”ë£¨ì…˜ ì¼ë°˜ì ìœ¼ë¡œ L1ì— ë°°íŒ¨ëœ ë¡¤ì—… ì»¨íŠ¸ë™íŠ¸ì— ìŠ¤í…Œì´íŠ¸ ë£¨íŠ¸(ìƒíƒœìš”ì•½ë³¸)ê°€ ì €ì¥ë˜ì–´ ìˆìŒ ë¡¤ì—…ì˜ ê²½ìš° L1ì˜ ìƒíƒœ ë³€ê²½ì‹œ TXì‹¤í–‰ ê²°ê³¼...",
    "content": "# ë¡¤ì—…ì´ë€?\n\n- ë¡¤ì—…ì€ L2ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•œ ë’¤, ì‹¤í–‰í•œ íŠ¸ëœì­ì…˜ ë°ì´í„°ë“¤ê³¼ ë³€ê²½ëœ ìƒíƒœì˜ ìš”ì•½ë³¸ì„ L1ì— ì €ì¥í•˜ëŠ” ì†”ë£¨ì…˜\n- ì¼ë°˜ì ìœ¼ë¡œ L1ì— ë°°íŒ¨ëœ ë¡¤ì—… ì»¨íŠ¸ë™íŠ¸ì— ìŠ¤í…Œì´íŠ¸ ë£¨íŠ¸(ìƒíƒœìš”ì•½ë³¸)ê°€ ì €ì¥ë˜ì–´ ìˆìŒ\n- ë¡¤ì—…ì˜ ê²½ìš° L1ì˜ ìƒíƒœ ë³€ê²½ì‹œ TXì‹¤í–‰ ê²°ê³¼ ë¿ë§Œ ì•„ë‹ˆë¼ ë°ì´í„° ë˜í•œ ë³´ê´€í•˜ëŠ” ë°©ì‹ì„ í†µí•´ì„œ ëˆ„êµ¬ë“  ë°ì´í„° ìœ íš¨ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆê²Œ í–ˆìŒ\n<img src=\"https://cdn.coindeskkorea.com//news/photo/202207/80513_23505_1657.png\" />\n\n\n\nhttps://www.coindeskkorea.com/news/articleView.html?idxno=80513",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 54,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ë‹¨ìˆœ-í•´ì‹œ-ê²€ì¦-ì˜-í•œê³„ì™€-ë°ì´í„°-ê°€ìš©ì„±-ë¬¸ì œ",
    "slug": "dansun-haesi-geomjeung-yi-hangyewa-deiteo-gayongseong-munje",
    "path": "blockchain/fundamentals",
    "fullPath": "blockchain/fundamentals/dansun-haesi-geomjeung-yi-hangyewa-deiteo-gayongseong-munje",
    "title": "\"ë‹¨ìˆœ í•´ì‹œ ê²€ì¦\"ì˜ í•œê³„ì™€ ë°ì´í„° ê°€ìš©ì„± ë¬¸ì œ",
    "excerpt": "\"ë‹¨ìˆœ í•´ì‹œ ê²€ì¦\"ì˜ í•œê³„ì™€ ë°ì´í„° ê°€ìš©ì„± ë¬¸ì œ ì´ê²ƒì€ ë§¤ìš° í•µì‹¬ì ì¸ ì§ˆë¬¸ì…ë‹ˆë‹¤! ë‹¨ìˆœíˆ ODSì˜ í•´ì‹œë§Œ ê²€ì¦í•˜ëŠ” ë°©ì‹ì´ ì™œ ë¶€ì¡±í•œì§€, Celestiaì˜ ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§ì´ ì™œ í•„ìš”í•œì§€ ëª…í™•íˆ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ë‹¨ìˆœ í•´ì‹œ ê²€ì¦ì˜ ê·¼ë³¸ì  ë¬¸ì œ 1...",
    "content": "# \"ë‹¨ìˆœ í•´ì‹œ ê²€ì¦\"ì˜ í•œê³„ì™€ ë°ì´í„° ê°€ìš©ì„± ë¬¸ì œ\n\nì´ê²ƒì€ ë§¤ìš° í•µì‹¬ì ì¸ ì§ˆë¬¸ì…ë‹ˆë‹¤! ë‹¨ìˆœíˆ ODSì˜ í•´ì‹œë§Œ ê²€ì¦í•˜ëŠ” ë°©ì‹ì´ ì™œ ë¶€ì¡±í•œì§€, Celestiaì˜ ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§ì´ ì™œ í•„ìš”í•œì§€ ëª…í™•íˆ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\n\n## ë‹¨ìˆœ í•´ì‹œ ê²€ì¦ì˜ ê·¼ë³¸ì  ë¬¸ì œ\n\n### 1. \"ë°ì´í„° ê°€ìš©ì„± ë¬¸ì œ\"ì˜ ë³¸ì§ˆ\në§Œì•½ ìš°ë¦¬ê°€ í•´ì‹œë§Œ ê²€ì¦í•œë‹¤ë©´:\n\n- ë¸”ë¡ ìƒì„±ìëŠ” ë°ì´í„°ì˜ í•´ì‹œë§Œ ì œì¶œí•˜ê³  **ì‹¤ì œ ë°ì´í„°ë¥¼ ê³µê°œí•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤**.\n- ê²€ì¦ìë“¤ì€ í•´ì‹œê°€ ë§ë‹¤ëŠ” ê²ƒì€ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ, **ë°ì´í„°ê°€ ì‹¤ì œë¡œ ë„¤íŠ¸ì›Œí¬ì— ê²Œì‹œë˜ì—ˆëŠ”ì§€ëŠ” í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**.\n\nì´ê²ƒì€ \"**ë°ì´í„° ê°€ìš©ì„± ë¬¸ì œ**\"ë¼ê³  ë¶€ë¥´ë©°, íŠ¹íˆ ë¡¤ì—…ì´ë‚˜ í™•ì¥ì„± ì†”ë£¨ì…˜ì—ì„œ ì‹¬ê°í•œ ë³´ì•ˆ ìœ„í—˜ì„ ì´ˆë˜í•©ë‹ˆë‹¤.\n\n### 2. \"ë¬´ë°ì´í„° ê³µê²©\" (Data Withholding Attack)\nì´ë¡œ ì¸í•´ ê°€ëŠ¥í•œ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤:\n\n1. ì•…ì˜ì ì¸ ë¸”ë¡ ìƒì„±ìê°€ ìœ íš¨í•œ ë°ì´í„°ì— ëŒ€í•œ í•´ì‹œë§Œ í¬í•¨í•œ ë¸”ë¡ í—¤ë”ë¥¼ ì œì¶œ\n2. ê·¸ëŸ¬ë‚˜ ì‹¤ì œ ë°ì´í„°ëŠ” ë„¤íŠ¸ì›Œí¬ì— ê³µê°œí•˜ì§€ ì•ŠìŒ\n3. ë„¤íŠ¸ì›Œí¬ëŠ” í•´ì‹œë§Œ ë³´ê³  ë¸”ë¡ì´ ìœ íš¨í•˜ë‹¤ê³  íŒë‹¨\n4. ê·¸ëŸ¬ë‚˜ ì‹¤ì œ ë°ì´í„°ê°€ ì—†ì–´ íŠ¸ëœì­ì…˜ ê²€ì¦ì´ë‚˜ ë¡¤ì—… ìƒíƒœ ì—…ë°ì´íŠ¸ ë¶ˆê°€ëŠ¥\n5. ë¸”ë¡ì²´ì¸ì´ ë©ˆì¶”ê±°ë‚˜ ì‹¬ê°í•œ ì†ìƒ ë°œìƒ\n\n## ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§(DAS)ì˜ í•„ìš”ì„±\n\n### 1. ìƒ˜í”Œë§ì„ í†µí•œ í™•ë¥ ì  ê²€ì¦\nCelestiaì˜ DASëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´:\n\n- ë…¸ë“œë“¤ì´ ë¸”ë¡ ë°ì´í„°ì˜ **ë¬´ì‘ìœ„ ìƒ˜í”Œì„ ì§ì ‘ ìš”ì²­**í•´ì„œ í™•ì¸\n- ë§Œì•½ ëª¨ë“  ìƒ˜í”Œì´ ì œê³µë  ìˆ˜ ìˆë‹¤ë©´, ë†’ì€ í™•ë¥ ë¡œ ì „ì²´ ë°ì´í„°ê°€ ê°€ìš©í•¨ì„ ì˜ë¯¸\n- ë‹¨ í•˜ë‚˜ì˜ ìƒ˜í”Œì´ë¼ë„ ì œê³µë˜ì§€ ì•Šìœ¼ë©´, ë°ì´í„° ê°€ìš©ì„± ë¬¸ì œ ê°ì§€\n\n### 2. Reed-Solomon ì¸ì½”ë”©ì˜ ì—­í• \nEDS êµ¬ì¡°ì™€ Reed-Solomon ì¸ì½”ë”©ì€:\n\n- ë°ì´í„° ì¼ë¶€ê°€ ì†ì‹¤ë˜ë”ë¼ë„ ì „ì²´ ë³µêµ¬ ê°€ëŠ¥ì„± ì œê³µ\n- ë™ì‹œì— ë¬´ì‘ìœ„ ìƒ˜í”Œë§ì˜ íš¨ê³¼ë¥¼ ê·¹ëŒ€í™” (ë°ì´í„° ëˆ„ë½ íƒì§€ í™•ë¥  í–¥ìƒ)\n\n## ë‹¤ë¥¸ ë¸”ë¡ì²´ì¸ê³¼ì˜ ì°¨ì´ì \n\n### 1. ì¼ë°˜ ë¸”ë¡ì²´ì¸ì˜ ì ‘ê·¼ë²•\nBitcoinì´ë‚˜ Ethereum ê°™ì€ ì „í†µì ì¸ ë¸”ë¡ì²´ì¸ì—ì„œëŠ”:\n\n- **ëª¨ë“  í’€ë…¸ë“œê°€ ëª¨ë“  ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  ê²€ì¦**\n- ë”°ë¼ì„œ ë°ì´í„° ê°€ìš©ì„± ë¬¸ì œê°€ ëœ ì‹¬ê°í•¨ (í’€ë…¸ë“œëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ ì§ì ‘ í™•ì¸)\n\n### 2. Celestiaì˜ í˜ì‹ ì  ì ‘ê·¼ë²•\nCelestiaëŠ” í™•ì¥ì„±ì„ ìœ„í•´:\n\n- ëª¨ë“  ë…¸ë“œê°€ ëª¨ë“  ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí•  í•„ìš” ì—†ìŒ\n- ëŒ€ì‹  ìƒ˜í”Œë§ì„ í†µí•´ ë°ì´í„° ê°€ìš©ì„±ì„ í™•ë¥ ì ìœ¼ë¡œ ê²€ì¦\n- ì´ëŠ” ë¼ì´íŠ¸ ë…¸ë“œì—ê²Œë„ ê°•ë ¥í•œ ë³´ì•ˆ ë³´ì¥ ì œê³µ\n\n## ê²°ë¡ : ì™œ ë‹¨ìˆœ í•´ì‹œ ê²€ì¦ìœ¼ë¡œëŠ” ë¶€ì¡±í•œê°€\n\në‹¨ìˆœ í•´ì‹œ ê²€ì¦ì€:\n\n1. **ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ”ì§€** ê²€ì¦í•˜ì§€ ëª»í•¨ (ë‹¨ì§€ í•´ì‹œê°€ ë§ë‹¤ëŠ” ê²ƒë§Œ ê²€ì¦)\n2. **ë°ì´í„° ê°€ìš©ì„± ê³µê²©**ì— ì·¨ì•½í•¨\n3. **í™•ì¥ì„± ì†”ë£¨ì…˜**ì—ì„œ ì¹˜ëª…ì ì¸ ë³´ì•ˆ ìœ„í—˜ ì´ˆë˜\n\nCelestiaì˜ DASëŠ” ì´ ê·¼ë³¸ì ì¸ ë¬¸ì œë¥¼ í•´ê²°í•˜ì—¬, í™•ì¥ì„±ê³¼ ë³´ì•ˆì„±ì„ ë™ì‹œì— ë‹¬ì„±í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ìƒ˜í”Œë§ì„ í†µí•´ ì ì€ ì–‘ì˜ ë°ì´í„°ë§Œìœ¼ë¡œë„ ë†’ì€ í™•ë¥ ë¡œ ë°ì´í„° ê°€ìš©ì„±ì„ ê²€ì¦í•˜ê³ , ì´ë¥¼ í†µí•´ \"ë¬´ë°ì´í„° ê³µê²©\"ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n\nì´ê²ƒì´ Celestiaê°€ ODS/ODSQ4 ì €ì¥ ì „ëµê³¼ ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§ì„ ì‚¬ìš©í•˜ëŠ” ê·¼ë³¸ì ì¸ ì´ìœ ì…ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 2,
    "wordCount": 352,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "checksum",
    "slug": "checksum",
    "path": "blockchain/fundamentals",
    "fullPath": "blockchain/fundamentals/checksum",
    "title": "Checksum",
    "excerpt": "Checksum What is checksum ? A checksum is small-sized block of data derived from block of digital data for the purpose of deecting errors tah m...",
    "content": "# Checksum\n\n## What is checksum ?\n\nA checksum is small-sized block of data derived from block of digital data for the purpose of deecting errors tah may have been introduced during its transmission or storage. By themselves, checksums are often used to verify data integrity but are not relied upon to verify data authenticity.\n\n> The procedure which generates this checksum is called a checksum function or checksum algorithm. - Wikipedia\n\n![https://velog.velcdn.com/images%2Fasap0208%2Fpost%2F9c511980-dada-46e7-b0cc-f97143bcc6da%2Fimage.png](https://velog.velcdn.com/images%2Fasap0208%2Fpost%2F9c511980-dada-46e7-b0cc-f97143bcc6da%2Fimage.png)\n\n## Example\n\n0x25 = 370x62 = 980x3F = 630x52 = 82\n\n1.  0x25 + 0x62 + 0x3F + 0x52 = 0x118(280)-> 0001 0001 10002) drop carry nibble-> 0001 10003) 2's complements-> 1110 0111(1's complements) + 1-> 1110 10004) to Hex-> 0xE8 (=Checksum byte)\n\n### Test\n\n1.  0x118(origin) + 0xE8(checksum) = 0x200(5122) to binary-> 0010 0000 00003) drop carry nibble-> 0000 0000",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 135,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "how-base-gas-works",
    "slug": "how-base-gas-works",
    "path": "blockchain/ethereum",
    "fullPath": "blockchain/ethereum/how-base-gas-works",
    "title": "How Base Gas Works",
    "excerpt": "How Base Gas Works Aptos transactions by default charge a base gas fee, regardless of market conditions. For each transaction, this \"base gas\" amou...",
    "content": "# How Base Gas Works\n\nAptos transactions by default charge a base gas fee, regardless of market conditions.\nFor each transaction, this \"base gas\" amount is based on three conditions:\n\n1. Instructions.\n2. Storage.\n3. Payload.\n\nThe more function calls, branching conditional statements, etc. that a transaction requires, the more instruction gas it will cost.\nLikewise, the more reads from and writes into global storage that a transaction requires, the more storage gas it will cost.\nFinally, the more bytes in a transaction payload, the more it will cost.\n\nAs explained in the [optimization principles](#optimization-principles) section, storage gas has by far the largest effect on base gas. For background on the Aptos gas model, see [The Making of the Aptos Gas Schedule](https://aptoslabs.medium.com/the-making-of-the-aptos-gas-schedule-508d5686a350).\n\n## Instruction gas\n\nBasic instruction gas parameters are defined at [`instr.rs`] and include the following instruction types:\n\n### No-operation\n\n| Parameter | Meaning        |\n| --------- | -------------- |\n| `nop`     | A no-operation |\n\n### Control flow\n\n| Parameter  | Meaning                          |\n| ---------- | -------------------------------- |\n| `ret`      | Return                           |\n| `abort`    | Abort                            |\n| `br_true`  | Execute conditional true branch  |\n| `br_false` | Execute conditional false branch |\n| `branch`   | Branch                           |\n\n### Stack\n\n| Parameter           | Meaning                          |\n| ------------------- | -------------------------------- |\n| `pop`               | Pop from stack                   |\n| `ld_u8`             | Load a `u8`                      |\n| `ld_u64`            | Load a `u64`                     |\n| `ld_u128`           | Load a `u128`                    |\n| `ld_true`           | Load a `true`                    |\n| `ld_false`          | Load a `false`                   |\n| `ld_const_base`     | Base cost to load a constant     |\n| `ld_const_per_byte` | Per-byte cost to load a constant |\n\n### Local scope\n\n| Parameter                   | Meaning                  |\n| --------------------------- | ------------------------ |\n| `imm_borrow_loc`            | Immutably borrow         |\n| `mut_borrow_loc`            | Mutably borrow           |\n| `imm_borrow_field`          | Immutably borrow a field |\n| `mut_borrow_field`          | Mutably borrow a field   |\n| `imm_borrow_field_generic`  |                          |\n| `mut_borrow_field_generic`  |                          |\n| `copy_loc_base`             | Base cost to copy        |\n| `copy_loc_per_abs_val_unit` |                          |\n| `move_loc_base`             | Move                     |\n| `st_loc_base`               |                          |\n\n### Calling\n\n| Parameter                 | Meaning                       |\n| ------------------------- | ----------------------------- |\n| `call_base`               | Base cost for a function call |\n| `call_per_arg`            | Cost per function argument    |\n| `call_generic_base`       |                               |\n| `call_generic_per_ty_arg` | Cost per type argument        |\n| `call_generic_per_arg`    |                               |\n\n### Structs\n\n| Parameter                  | Meaning                              |\n| -------------------------- | ------------------------------------ |\n| `pack_base`                | Base cost to pack a `struct`         |\n| `pack_per_field`           | Cost to pack a `struct`, per field   |\n| `pack_generic_base`        |                                      |\n| `pack_generic_per_field`   |                                      |\n| `unpack_base`              | Base cost to unpack a `struct`       |\n| `unpack_per_field`         | Cost to unpack a `struct`, per field |\n| `unpack_generic_base`      |                                      |\n| `unpack_generic_per_field` |                                      |\n\n### References\n\n| Parameter                   | Meaning                            |\n| --------------------------- | ---------------------------------- |\n| `read_ref_base`             | Base cost to read from a reference |\n| `read_ref_per_abs_val_unit` |                                    |\n| `write_ref_base`            | Base cost to write to a reference  |\n| `freeze_ref`                | Freeze a reference                 |\n\n### Casting\n\n| Parameter   | Meaning          |\n| ----------- | ---------------- |\n| `cast_u8`   | Cast to a `u8`   |\n| `cast_u64`  | Cast to a `u64`  |\n| `cast_u128` | Cast to a `u128` |\n\n### Arithmetic\n\n| Parameter | Meaning  |\n| --------- | -------- |\n| `add`     | Add      |\n| `sub`     | Subtract |\n| `mul`     | Multiply |\n| `mod_`    | Modulo   |\n| `div`     | Divide   |\n\n### Bitwise\n\n| Parameter | Meaning                   |\n| --------- | ------------------------- |\n| `bit_or`  | `OR`: <code>&#124;</code> |\n| `bit_and` | `AND`: `&`                |\n| `xor`     | `XOR`: `^`                |\n| `shl`     | Shift left: `<<`          |\n| `shr`     | Shift right: `>>`         |\n\n### Boolean\n\n| Parameter | Meaning                         |\n| --------- | ------------------------------- |\n| `or`      | `OR`: <code>&#124;&#124;</code> |\n| `and`     | `AND`: `&&`                     |\n| `not`     | `NOT`: `!`                      |\n\n### Comparison\n\n| Parameter              | Meaning                        |\n| ---------------------- | ------------------------------ |\n| `lt`                   | Less than: `<`                 |\n| `gt`                   | Greater than: `>`              |\n| `le`                   | Less than or equal to: `<=`    |\n| `ge`                   | Greater than or equal to: `>=` |\n| `eq_base`              | Base equality cost: `==`       |\n| `eq_per_abs_val_unit`  |                                |\n| `neq_base`             | Base not equal cost: `!=`      |\n| `neq_per_abs_val_unit` |                                |\n\n### Global storage\n\n| Parameter                        | Meaning                                               |\n| -------------------------------- | ----------------------------------------------------- |\n| `imm_borrow_global_base`         | Base cost to immutably borrow: `borrow_global<T>()`   |\n| `imm_borrow_global_generic_base` |                                                       |\n| `mut_borrow_global_base`         | Base cost to mutably borrow: `borrow_global_mut<T>()` |\n| `mut_borrow_global_generic_base` |                                                       |\n| `exists_base`                    | Base cost to check existence: `exists<T>()`           |\n| `exists_generic_base`            |                                                       |\n| `move_from_base`                 | Base cost to move from: `move_from<T>()`              |\n| `move_from_generic_base`         |                                                       |\n| `move_to_base`                   | Base cost to move to: `move_to<T>()`                  |\n| `move_to_generic_base`           |                                                       |\n\n### Vectors\n\n| Parameter                      | Meaning                                  |\n| ------------------------------ | ---------------------------------------- |\n| `vec_len_base`                 | Length of a vector                       |\n| `vec_imm_borrow_base`          | Immutably borrow an element              |\n| `vec_mut_borrow_base`          | Mutably borrow an element                |\n| `vec_push_back_base`           | Push back                                |\n| `vec_pop_back_base`            | Pop from the back                        |\n| `vec_swap_base`                | Swap elements                            |\n| `vec_pack_base`                | Base cost to pack a vector               |\n| `vec_pack_per_elem`            | Cost to pack a vector per element        |\n| `vec_unpack_base`              | Base cost to unpack a vector             |\n| `vec_unpack_per_expected_elem` | Base cost to unpack a vector per element |\n\nAdditional storage gas parameters are defined in [`table.rs`], [`move_stdlib.rs`], and other assorted source files in [`aptos-gas/src/`].\n\n## Storage gas\n\nStorage gas is defined in [`storage_gas.move`], which is accompanied by a comprehensive and internally-linked DocGen file at [`storage_gas.md`].\n\nIn short:\n\n1. In [`initialize()`], [`base_8192_exponential_curve()`] is used to generate an exponential curve whereby per-item and per-byte costs increase rapidly as utilization approaches an upper bound.\n2. Parameters are reconfigured each epoch via [`on_reconfig()`], based on item-wise and byte-wise utilization ratios.\n3. Reconfigured parameters are stored in [`StorageGas`], which contains the following fields:\n\n| Field             | Meaning                                     |\n| ----------------- | ------------------------------------------- |\n| `per_item_read`   | Cost to read an item from global storage    |\n| `per_item_create` | Cost to create an item in global storage    |\n| `per_item_write`  | Cost to overwrite an item in global storage |\n| `per_byte_read`   | Cost to read a byte from global storage     |\n| `per_byte_create` | Cost to create a byte in global storage     |\n| `per_byte_write`  | Cost to overwrite a byte in global storage  |\n\nHere, an _item_ is either a resource having the `key` attribute, or an entry in a table, and notably, per-byte costs are assessed on the _entire_ size of an item.\nAs stated in [`storage_gas.md`], for example, if an operation mutates a `u8` field in a resource that has five other `u128` fields, the per-byte gas write cost will account for $(5 * 128) / 8 + 1 = 81$ bytes.\n\n### Vectors\n\nByte-wise fees are similarly assessed on vectors, which consume $\\sum_{i = 0}^{n - 1} e_i + b(n)$ bytes, where:\n\n- $n$ is the number of elements in the vector\n- $e_i$ is the size of element $i$\n- $b(n)$ is a \"base size\" which is a function of $n$\n\nSee the [BCS sequence specification] for more information on vector base size (technically a `ULEB128`), which typically occupies just one byte in practice, such that a vector of 100 `u8` elements accounts for $100 + 1 = 101$ bytes.\nHence per the item-wise read methodology described above, reading the last element of such a vector is treated as a 101-byte read.\n\n## Payload gas\n\nPayload gas is defined in [`transaction/mod.rs`](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/aptos-gas/src/transaction/mod.rs), which incorporates storage gas with several payload- and pricing-associated parameters:\n\n| Parameter                       | Meaning                                                                                |\n| ------------------------------- | -------------------------------------------------------------------------------------- |\n| `min_transaction_gas_units`     | Minimum internal gas units for a transaction, charged at the start of execution        |\n| `large_transaction_cutoff`      | Size, in bytes, above which transactions will be charged an additional amount per byte |\n| `intrinsic_gas_per_byte`        | Internal gas units charged per byte for payloads above `large_transaction_cutoff`      |\n| `maximum_number_of_gas_units`   | Upper limit on external gas units for a transaction                                    |\n| `min_price_per_gas_unit`        | Minimum gas price allowed for a transaction                                            |\n| `max_price_per_gas_unit`        | Maximum gas price allowed for a transaction                                            |\n| `max_transaction_size_in_bytes` | Maximum transaction payload size in bytes                                              |\n| `gas_unit_scaling_factor`       | Conversion factor between internal gas units and external gas units                    |\n\nHere, \"internal gas units\" are defined as constants in source files like [`instr.rs`] and [`storage_gas.move`], which are more granular than \"external gas units\" by a factor of `gas_unit_scaling_factor`:\nto convert from internal gas units to external gas units, divide by `gas_unit_scaling_factor`.\nThen, to convert from external gas units to octas, multiply by the \"gas price\", which denotes the number of octas per unit of external gas.\n\n## Optimization principles\n\n### Unit and pricing constants\n\nAs of the time of this writing, `min_price_per_gas_unit` in [`transaction/mod.rs`](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/aptos-gas/src/transaction/mod.rs) is defined as [`aptos_global_constants`]`::GAS_UNIT_PRICE` (which is itself defined as 100), with other noteworthy [`transaction/mod.rs`](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/aptos-gas/src/transaction/mod.rs) constants as follows:\n\n| Constant                  | Value  |\n| ------------------------- | ------ |\n| `min_price_per_gas_unit`  | 100    |\n| `max_price_per_gas_unit`  | 10,000 |\n| `gas_unit_scaling_factor` | 10,000 |\n\nSee [Payload gas](#payload-gas) for the meaning of these constants.\n\n### Storage gas\n\nAs of the time of this writing, [`initialize()`] sets the following minimum storage gas amounts:\n\n| Data style | Operation | Symbol | Minimum internal gas |\n| ---------- | --------- | ------ | -------------------- |\n| Per item   | Read      | $r_i$  | 300,000              |\n| Per item   | Create    | $c_i$  | 5,000,000            |\n| Per item   | Write     | $w_i$  | 300,000              |\n| Per byte   | Read      | $r_b$  | 300                  |\n| Per byte   | Create    | $c_b$  | 5,000                |\n| Per byte   | Write     | $w_b$  | 5,000                |\n\nMaximum amounts are 100 times the minimum amounts, which means that for a utilization ratio of 40% or less, total gas costs will be on the order of 1 to 1.5 times the minimum amounts (see [`base_8192_exponential_curve()`] for supporting calculations).\nHence, in terms of octas, initial mainnet gas costs can be estimated as follows (divide internal gas by scaling factor, then multiply by minimum gas price):\n\n| Operation       | Operation | Minimum octas |\n| --------------- | --------- | ------------- |\n| Per-item read   | $r_i$     | 3000          |\n| Per-item create | $c_i$     | 50,000        |\n| Per-item write  | $w_i$     | 3000          |\n| Per-byte read   | $r_b$     | 3             |\n| Per-byte create | $c_b$     | 50            |\n| Per-byte write  | $w_b$     | 50            |\n\nHere, the most expensive per-item operation by far is creating a new item (via either `move_to<T>()` or adding to a table), which costs nearly 17 times as much as reading or overwriting an old item: $c_i = 16.\\overline{6} r_i = 16.\\overline{6} w_i$. Additionally:\n\n- Writes cost the same as reads on a per-item basis: $w_i = r_i$\n- On a per-byte basis, however, writes cost the same as creates: $w_b = c_b$\n- Per-byte writes and creates cost nearly 17 times as much as per-byte reads: $w_b = c_b = 16.\\overline{6} r_b$\n- Per-item reads cost 1000 times as much as per-byte reads: $r_i = 1000 r_b$\n- Per-item creates cost 1000 times as much as per-byte creates: $c_i = 1000 c_b$\n- Per-item writes cost 60 times as much as per-byte writes: $w_i = 60 w_b$\n\nHence per-item operations cost 1000 times more than per-byte operations for both reads and creates, but only 60 times more for writes.\n\nThus, in the absence of a legitimate economic incentive to deallocate from global storage (via either `move_from<T>()` or by removing from a table), the most effective storage gas optimization strategy is as follows:\n\n1. Minimize per-item creations\n2. Track unused items and overwrite them, rather than creating new items, when possible\n3. Contain per-item writes to as few items as possible\n4. Read, rather than write, whenever possible\n5. Minimize the number of bytes in all operations, especially writes\n\n### Instruction gas\n\nAs of the time of this writing, all instruction gas operations are multiplied by the `EXECUTION_GAS_MULTIPLIER` defined in [`gas_meter.rs`], which is set to 20.\nHence the following representative operations assume gas costs as follows (divide internal gas by scaling factor, then multiply by minimum gas price):\n\n| Operation                    | Minimum octas |\n| ---------------------------- | ------------- |\n| Table add/borrow/remove box  | 240           |\n| Function call                | 200           |\n| Load constant                | 130           |\n| Globally borrow              | 100           |\n| Read/write reference         | 40            |\n| Load `u128` on stack         | 16            |\n| Table box operation per byte | 2             |\n\n(Note that per-byte table box operation instruction gas does not account for storage gas, which is assessed separately).\n\nFor comparison, reading a 100-byte item costs $r_i + 100 * r_b = 3000 + 100 * 3 = 3300$ octas at minimum, some 16.5 times as much as a function call, and in general, instruction gas costs are largely dominated by storage gas costs.\n\nNotably, however, there is still technically an incentive to reduce the number of function calls in a program, but engineering efforts are more effectively dedicated to writing modular, decomposed code that is geared toward reducing storage gas costs, rather than attempting to write repetitive code blocks with fewer nested functions (in nearly all cases).\n\nIn extreme cases it is possible for instruction gas to far outweigh storage gas, for example if a loopwise mathematical function takes 10,000 iterations to converge; but again this is an extreme case and for most applications storage gas has a larger impact on base gas than does instruction gas.\n\n### Payload gas\n\nAs of the time of this writing, [`transaction/mod.rs`](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/aptos-gas/src/transaction/mod.rs) defines the minimum amount of internal gas per transaction as 1,500,000 internal units (15,000 octas at minimum), an amount that increases by 2,000 internal gas units (20 octas minimum) per byte for payloads larger than 600 bytes, with the maximum number of bytes permitted in a transaction set at 65536.\nHence in practice, payload gas is unlikely to be a concern.\n\n<!--- Alphabetized reference links -->\n\n[#4540]: https://github.com/aptos-labs/aptos-core/pull/4540/files\n[`aptos-gas/src/`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/aptos-gas/src/\n[`aptos_global_constants`]: https://github.com/aptos-labs/aptos-core/blob/main/config/global-constants/src/lib.rs\n[`base_8192_exponential_curve()`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/aptos-framework/doc/storage_gas.md#0x1_storage_gas_base_8192_exponential_curve\n[bcs sequence specification]: https://github.com/diem/bcs#fixed-and-variable-length-sequences\n[`gas_meter.rs`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/aptos-gas/src/gas_meter.rs\n[`initialize()`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/aptos-framework/doc/storage_gas.md#0x1_storage_gas_initialize\n[`instr.rs`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/aptos-gas/src/instr.rs\n[`move_stdlib.rs`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/aptos-gas/src/move_stdlib.rs\n[`on_reconfig()`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/aptos-framework/doc/storage_gas.md#@Specification_16_on_reconfig\n[`storage_gas.md`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/aptos-framework/doc/storage_gas.md\n[`storage_gas.move`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/aptos-framework/sources/storage_gas.move\n[`storagegas`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/aptos-framework/doc/storage_gas.md#resource-storagegas\n[`table.rs`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/aptos-gas/src/table.rs\n[`transaction.rs`]: https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/aptos-gas/src/transaction.rs",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 12,
    "wordCount": 2383,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ethereum-eth",
    "slug": "ethereum-eth",
    "path": "blockchain/ethereum",
    "fullPath": "blockchain/ethereum/ethereum-eth",
    "title": "Ethereum (ETH)",
    "excerpt": "Ethereum (ETH) ğŸ’¡ ì´ë”ë¦¬ì›€ì€ ì›”ë“œ ì™€ì´ë“œ ì»´í“¨í„°ë¥¼ ê¿ˆê¾¼ë‹¤ ì¥ì  ê°œë°œì ì»¤ë®¤ë‹ˆí‹° 1ë“±ì¸ë“¯, ì–´ì§€ê°„í•œ ì—ëŸ¬ë‚˜ ì´ìŠˆëŠ” ì´ë¯¸ ë ˆí¼ëŸ°ìŠ¤ê°€ ëª¨ë‘ ìˆìŒ. ë””ë²„ê¹… ë§¤ìš° í¸í•¨ ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ web3, ethers.j...",
    "content": "# Ethereum (ETH)\n\n<aside> ğŸ’¡ ì´ë”ë¦¬ì›€ì€ ì›”ë“œ ì™€ì´ë“œ ì»´í“¨í„°ë¥¼ ê¿ˆê¾¼ë‹¤\n\n</aside>\n\n# ì¥ì \n\n1.  ê°œë°œì ì»¤ë®¤ë‹ˆí‹° 1ë“±ì¸ë“¯, ì–´ì§€ê°„í•œ ì—ëŸ¬ë‚˜ ì´ìŠˆëŠ” ì´ë¯¸ ë ˆí¼ëŸ°ìŠ¤ê°€ ëª¨ë‘ ìˆìŒ. ë””ë²„ê¹… ë§¤ìš° í¸í•¨\n2.  ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ web3, ethers.js ë“±ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë§¤ìš° ì˜ ê°œë°œë˜ì–´ ìˆê³  ê°œë°œë¬¸ì„œë„ ì˜ë˜ì–´ ìˆìŒ\n3.  ë…¸ë“œë„ ì•ˆì •ì ì„\n4.  ì´ê±° í•˜ë‚˜ë§Œ ì•Œì•„ë„ ì‹œì¥ì— ë‚˜ì˜¨ ë¸”ë¡ì²´ì¸ 5í• ì€ ë‹¤ë£° ìˆ˜ ìˆìŒâ€¦ (ê·¸ë§Œí¼ ë³µë¶™ì²´ì¸ì´ ë§ìŒ)\n\n# ë‹¨ì \n\n1.  ë¸”ë¡íƒ€ì„ì´ ì•½ 12 ~ 13ì´ˆë¡œ ì°¨ì„¸ëŒ€ ë¸”ë¡ì²´ì¸ì— ë¹„í•´ ëŠë¦¼\n2.  EVMì€ ìì‚°ì„ ì¼ê¸‰ê°ì²´ë¡œ ë‹¤ë£¨ì§€ ì•ŠìŒ, ì¼ì¢…ì˜ ì§€ì—­ ë³€ìˆ˜ë¥¼ ì‚¬ì¹™ì—°ì‚°í•œ ê°’ì„. ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ EVMì„ ì±„íƒí•œ ë¸”ë¡ì²´ì¸ë“¤ì—ì„œ ê³ ì§ˆì ì¸ í•´í‚¹ë¬¸ì œê°€ ë°œìƒí•´ì˜´\n3.  ë¶ˆì¥ì¼ë•Œ ìˆ˜ìˆ˜ë£Œê°€ 10ë§Œì›ì„ ë„˜ìŒ.\n4.  ë¹„íƒˆë¦­ ë¶€í…Œë¦°ì˜ ì••ë„ì  ë§ˆì¼€íŒ… íš¨ê³¼ê°€ ì—†ì–´ë„ ì¸ê¸°ê°€ ì§€ì†ë ê¹Œì— ëŒ€í•œ ì˜ë¬¸",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 104,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "namespaced-merkle-tree-nmt-ë€",
    "slug": "namespaced-merkle-tree-nmt-ran",
    "path": "blockchain/celestia",
    "fullPath": "blockchain/celestia/namespaced-merkle-tree-nmt-ran",
    "title": "Namespaced Merkle Tree (NMT)ë€?",
    "excerpt": "Namespaced Merkle Tree (NMT)ë€? Namespaced Merkle Tree (NMT)ëŠ” Merkle Treeì˜ ë³€í˜•ëœ êµ¬ì¡°ë¡œ, ë„¤ì„ìŠ¤í˜ì´ìŠ¤(namespace)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì¸ì¦ ê°€ëŠ¥í•œ ë°ì´í„° êµ¬ì¡°ë‹¤. Cel...",
    "content": "**Namespaced Merkle Tree (NMT)ë€?**\n\n  \n\n**Namespaced Merkle Tree (NMT)**ëŠ” **Merkle Treeì˜ ë³€í˜•ëœ êµ¬ì¡°**ë¡œ, **ë„¤ì„ìŠ¤í˜ì´ìŠ¤(namespace)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì¸ì¦ ê°€ëŠ¥í•œ ë°ì´í„° êµ¬ì¡°**ë‹¤. Celestiaì—ì„œëŠ” **íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì†í•˜ëŠ” ë°ì´í„°ë§Œ ê²€ì¦ ê°€ëŠ¥**í•˜ë„ë¡ ì„¤ê³„ëœ ì´ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•œë‹¤.\n\n---\n\n**1. Merkle Treeì™€ì˜ ì°¨ì´ì **\n\n  \n\nMerkle TreeëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **ì „ì²´ ë°ì´í„° ë¸”ë¡ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ í•´ì‹œ íŠ¸ë¦¬ êµ¬ì¡°**ë‹¤. í•˜ì§€ë§Œ ì¼ë°˜ì ì¸ Merkle TreeëŠ” íŠ¹ì • ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ë¥¼ **ë¹ ë¥´ê²Œ ì¦ëª…í•˜ëŠ” ê¸°ëŠ¥ì€ ì œê³µí•˜ì§€ë§Œ, ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë‹¨ìœ„ë¡œ ê²€ìƒ‰í•˜ê±°ë‚˜ ê²€ì¦í•˜ëŠ” ê¸°ëŠ¥ì€ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤**.\n\n  \n\në°˜ë©´ **NMTëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë‹¨ìœ„ë¡œ ì¦ëª…(Proof)ì„ ì§€ì›**í•˜ê¸° ë•Œë¬¸ì— íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì†í•˜ëŠ” ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.\n\n---\n\n**2. NMTì˜ íŠ¹ì§•**\n\n1. **ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê¸°ë°˜ Merkle í•´ì‹±**\n\nâ€¢ ê° ë…¸ë“œê°€ íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë²”ìœ„ë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, ë¶€ëª¨ ë…¸ë“œëŠ” ìì‹ ë…¸ë“œë“¤ì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë²”ìœ„ë¥¼ ìœ ì§€í•œë‹¤.\n\nâ€¢ ì¦‰, **Merkle ì¦ëª…ì—ì„œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ë¡œ ë°ì´í„° í¬í•¨ ì—¬ë¶€ë¥¼ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.**\n\n1. **Merkle Proofì™€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í•„í„°ë§ ì§€ì›**\n\nâ€¢ ì¼ë°˜ Merkle Treeì˜ ê²½ìš° íŠ¹ì • ë°ì´í„°ê°€ íŠ¸ë¦¬ì— í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ë§Œ ì¦ëª…í•  ìˆ˜ ìˆì§€ë§Œ,\n\n**NMTëŠ” íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì†í•˜ëŠ” ë°ì´í„°ê°€ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ì¦ëª…í•  ìˆ˜ ìˆë‹¤.**\n\n1. **ë¶€ë¶„ ë°ì´í„° ì ‘ê·¼ì„± í–¥ìƒ**\n\nâ€¢ íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ë°ì´í„°ë§Œ ë¹ ë¥´ê²Œ ê²€ìƒ‰í•˜ê³ , ë‹¤ìš´ë¡œë“œí•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\n\n---\n\n**3. Celestiaì—ì„œ NMTê°€ ì‚¬ìš©ë˜ëŠ” ì´ìœ **\n\n  \n\nCelestiaì—ì„œëŠ” **ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„° ê°€ìš©ì„±ì„ ê²€ì¦**í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—, ê¸°ì¡´ Merkle Treeë³´ë‹¤ **NMTê°€ ë” ì í•©**í•˜ë‹¤. Celestiaì—ì„œ NMTê°€ ì‚¬ìš©ë˜ëŠ” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n1. **Blob íŠ¸ëœì­ì…˜ ê²€ì¦**\n\nâ€¢ Celestiaì—ì„œëŠ” íŠ¸ëœì­ì…˜ê³¼ ë¸”ë¡ ë°ì´í„°ë¥¼ Blob í˜•íƒœë¡œ ì €ì¥í•˜ë©°, ê° Blobì€ íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì†í•œë‹¤.\n\nâ€¢ NMTë¥¼ í™œìš©í•˜ë©´ íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ Blobì´ ì¡´ì¬í•˜ëŠ”ì§€ **íš¨ìœ¨ì ìœ¼ë¡œ ì¦ëª…í•  ìˆ˜ ìˆë‹¤**.\n\n1. **Data Availability Sampling (DAS) ìµœì í™”**\n\nâ€¢ ë¼ì´íŠ¸ ë…¸ë“œëŠ” **ë°ì´í„° ê°€ìš©ì„±ì„ ê²€ì¦í•˜ê¸° ìœ„í•´ ì¼ë¶€ ìƒ˜í”Œì„ ìš”ì²­**í•´ì•¼ í•œë‹¤.\n\nâ€¢ NMTë¥¼ í™œìš©í•˜ë©´ íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ë°ì´í„°ë¥¼ í¬í•¨í•˜ëŠ” ìƒ˜í”Œì„ ë³´ë‹¤ **íš¨ìœ¨ì ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥**í•˜ë‹¤.\n\n1. **ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê¸°ë°˜ ë°ì´í„° ê²€ìƒ‰ ìµœì í™”**\n\nâ€¢ Celestiaì˜ ëª¨ë“ˆí˜• ë¸”ë¡ì²´ì¸ êµ¬ì¡°ì—ì„œëŠ” **ë‹¤ì–‘í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì„œë¡œ ë‹¤ë¥¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©**í•œë‹¤.\n\nâ€¢ íŠ¹ì • ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í•„ìš”í•œ ë°ì´í„°ë§Œ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡, NMTê°€ íš¨ê³¼ì ìœ¼ë¡œ ë™ì‘í•œë‹¤.\n\n---\n\n**4. NMTì˜ ë™ì‘ ë°©ì‹**\n\n  \n\n**ğŸ“Œ ê¸°ë³¸ì ì¸ Merkle Treeì™€ ë¹„êµ**\n\n  \n\nì¼ë°˜ì ì¸ Merkle Treeì˜ ê²½ìš°, ê° ë¦¬í”„ ë…¸ë“œ(ë°ì´í„° ë¸”ë¡)ëŠ” í•´ì‹œë¡œ ë³€í™˜ë˜ë©°, ë¶€ëª¨ ë…¸ë“œëŠ” ìì‹ë“¤ì˜ í•´ì‹œë¥¼ ì¡°í•©í•˜ì—¬ ìƒì„±ëœë‹¤.\n\n  \n\ní•˜ì§€ë§Œ **Namespaced Merkle Tree (NMT)ëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì •ë³´ë¥¼ ì¶”ê°€í•˜ì—¬ í•´ì‹±**í•œë‹¤.\n\n  \n\n**ğŸ“Œ NMTì˜ í•´ì‹± ê·œì¹™**\n\n1. **ê° ë¦¬í”„ ë…¸ë“œ**:\n\nâ€¢ (namespace, data_hash) í˜•íƒœë¡œ ì €ì¥ë¨.\n\n1. **ê° ë‚´ë¶€ ë…¸ë“œ**:\n\nâ€¢ namespace_min = min(left.namespace_min, right.namespace_min)\n\nâ€¢ namespace_max = max(left.namespace_max, right.namespace_max)\n\nâ€¢ ë¶€ëª¨ ë…¸ë“œëŠ” ìì‹ì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë²”ìœ„ë¥¼ ìœ ì§€í•˜ë©´ì„œ í•´ì‹±ë¨.\n\n  \n\n**ğŸ“Œ NMT Merkle Proof ìƒì„±**\n\nâ€¢ íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì†í•˜ëŠ” ë°ì´í„°ë¥¼ í¬í•¨í•˜ëŠ”ì§€ ê²€ì¦í•  ë•Œ, **ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë²”ìœ„ ì •ë³´ë¥¼ ê°€ì§„ Merkle Proof**ë¥¼ ì‚¬ìš©í•˜ë©´ íš¨ìœ¨ì ìœ¼ë¡œ ì¦ëª…í•  ìˆ˜ ìˆë‹¤.\n\nâ€¢ íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ë°ì´í„°ë¥¼ í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, **í•´ë‹¹ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë²”ìœ„ê°€ ì—†ìŒ(Empty Proof)** ì„ ì¦ëª…í•  ìˆ˜ ìˆë‹¤.\n\n---\n\n**5. ê²°ë¡ **\n\nâ€¢ Namespaced Merkle Tree(NMT)ëŠ” **Merkle Treeì˜ í™•ì¥ ë²„ì „**ìœ¼ë¡œ, **ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ ë°ì´í„° ê²€ì¦ì´ ê°€ëŠ¥**í•œ êµ¬ì¡°ë‹¤.\n\nâ€¢ Celestiaì—ì„œëŠ” **ëª¨ë“ˆí˜• ë¸”ë¡ì²´ì¸ì—ì„œ ë°ì´í„° ê°€ìš©ì„±ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê²€ì¦í•˜ê³ , íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ë°ì´í„°ë§Œ ë¹ ë¥´ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ ì§€ì›**í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.\n\nâ€¢ **DAS (Data Availability Sampling)ì™€ Blob íŠ¸ëœì­ì…˜ ê²€ì¦ì—ë„ ì¤‘ìš”í•œ ì—­í• **ì„ í•œë‹¤.\n\n  \n\nğŸ‘‰ **ì¦‰, Celestiaì˜ í™•ì¥ì„±ê³¼ ë°ì´í„° ê°€ìš©ì„±ì„ ë†’ì´ê¸° ìœ„í•´ NMTëŠ” í•„ìˆ˜ì ì¸ ìš”ì†Œë‹¤.** ğŸš€",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 3,
    "wordCount": 437,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "celestiaì˜-ë°ì´í„°-ì €ì¥-ê³µê°„-ì‚¬ìš©ëŸ‰",
    "slug": "celestiayi-deiteo-jeojang-gonggan-sayongryang",
    "path": "blockchain/celestia",
    "fullPath": "blockchain/celestia/celestiayi-deiteo-jeojang-gonggan-sayongryang",
    "title": "Celestiaì˜ ë°ì´í„° ì €ì¥ ê³µê°„ ì‚¬ìš©ëŸ‰",
    "excerpt": "Celestiaì˜ ë°ì´í„° ì €ì¥ ê³µê°„ ì‚¬ìš©ëŸ‰ Celestiaì˜ EDS(Extended Data Square) êµ¬ì¡°ì—ì„œ ì €ì¥ ê³µê°„ ì‚¬ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: ì „ì²´ EDS ìš©ëŸ‰ (ì´ë¡ ì ì¸ ê°’) ì „ì²´ EDSëŠ” ì›ë³¸ ë°ì´í„°ì˜ 4ë°° í¬ê¸°ë¥¼ ì°¨ì§€í•©ë‹ˆë‹¤: -...",
    "content": "# Celestiaì˜ ë°ì´í„° ì €ì¥ ê³µê°„ ì‚¬ìš©ëŸ‰\n\nCelestiaì˜ EDS(Extended Data Square) êµ¬ì¡°ì—ì„œ ì €ì¥ ê³µê°„ ì‚¬ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n## ì „ì²´ EDS ìš©ëŸ‰ (ì´ë¡ ì ì¸ ê°’)\n\nì „ì²´ EDSëŠ” ì›ë³¸ ë°ì´í„°ì˜ **4ë°°** í¬ê¸°ë¥¼ ì°¨ì§€í•©ë‹ˆë‹¤:\n\n- **Q1 (ì›ë³¸ ë°ì´í„°)**: ì›ë³¸ ë°ì´í„°ì˜ 100%\n- **Q2 (í–‰ íŒ¨ë¦¬í‹°)**: ì›ë³¸ ë°ì´í„°ì˜ 100%\n- **Q3 (ì—´ íŒ¨ë¦¬í‹°)**: ì›ë³¸ ë°ì´í„°ì˜ 100%\n- **Q4 (í–‰+ì—´ íŒ¨ë¦¬í‹°)**: ì›ë³¸ ë°ì´í„°ì˜ 100%\n\nì¦‰, ëª¨ë“  ì‚¬ë¶„ë©´ì„ ëª¨ë‘ ì €ì¥í•œë‹¤ë©´ ì›ë³¸ ë°ì´í„° í¬ê¸°ì˜ 4ë°°ê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\n## ì‹¤ì œ Celestiaì˜ ì €ì¥ ì „ëµ\n\ní•˜ì§€ë§Œ Celestiaì—ì„œëŠ” ì‹¤ì œë¡œ ëª¨ë“  ì‚¬ë¶„ë©´ì„ ì €ì¥í•˜ì§€ ì•Šê³ , í•„ìš”ì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì€ ì €ì¥ ì „ëµì„ ì‚¬ìš©í•©ë‹ˆë‹¤:\n\n1. **ODSë§Œ ì €ì¥** (ì›ë³¸ ë°ì´í„°ë§Œ):\n   - ì›ë³¸ ë°ì´í„°ì˜ **1ë°°** ìš©ëŸ‰ ì‚¬ìš©\n   - ì˜¤ë˜ëœ ë¸”ë¡ì´ë‚˜ ì•„ì¹´ì´ë¸Œ ëª©ì ì˜ ì €ì¥ì— ì‚¬ìš©\n   - í•„ìš”ì‹œ ë‚˜ë¨¸ì§€ ì‚¬ë¶„ë©´(Q2, Q3, Q4)ì€ ê³„ì‚°ìœ¼ë¡œ ë³µêµ¬ ê°€ëŠ¥\n\n2. **ODSQ4 ì €ì¥** (ì›ë³¸ + Q4 ì‚¬ë¶„ë©´):\n   - ì›ë³¸ ë°ì´í„°ì˜ **2ë°°** ìš©ëŸ‰ ì‚¬ìš©\n   - ê°€ìš©ì„± ìœˆë„ìš° ë‚´ì˜ ìµœê·¼ ë¸”ë¡ì— ì‚¬ìš©\n   - íŠ¹ì • ì ‘ê·¼ íŒ¨í„´ì—ì„œ ê³„ì‚° íš¨ìœ¨ì„± í–¥ìƒ\n\n## ì‹¤ì œ ì½”ë“œì—ì„œì˜ ì €ì¥ ì „ëµ\n\nì½”ë“œì—ì„œ ì´ëŸ° ì €ì¥ ì „ëµì€ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n```go\n// ê°€ìš©ì„± ìœˆë„ìš° ë‚´ì˜ ë¸”ë¡ì€ ODSì™€ Q4 ëª¨ë‘ ì €ì¥ (ì›ë³¸ì˜ 2ë°°)\nif availability.IsWithinWindow(eh.Time(), availability.StorageWindow) {\n    err = store.PutODSQ4(ctx, eh.DAH, eh.Height(), eds)\n} else {\n    // ê·¸ ì™¸ ë¸”ë¡ì€ ODSë§Œ ì €ì¥ (ì›ë³¸ì˜ 1ë°°)\n    err = store.PutODS(ctx, eh.DAH, eh.Height(), eds)\n}\n```\n\n## ì €ì¥ ê³µê°„ ìµœì í™”ì˜ ì´ìœ \n\nì´ë ‡ê²Œ ì €ì¥ ê³µê°„ì„ ìµœì í™”í•˜ëŠ” ì´ìœ ëŠ”:\n\n1. **ë””ìŠ¤í¬ ê³µê°„ íš¨ìœ¨ì„±**:\n   - ëª¨ë“  ë¸”ë¡ì˜ ëª¨ë“  ì‚¬ë¶„ë©´ì„ ì €ì¥í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì \n   - ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì›ë³¸ ë°ì´í„°ë§Œìœ¼ë¡œë„ ì¶©ë¶„\n\n2. **ê³„ì‚° ë¹„ìš©ê³¼ ì €ì¥ ë¹„ìš©ì˜ ê· í˜•**:\n   - Q2ì™€ Q3ëŠ” Q1ê³¼ Q4ë¡œë¶€í„° ê³„ì‚° ê°€ëŠ¥ (í•„ìš”í•  ë•Œë§Œ ê³„ì‚°)\n   - ê°€ì¥ ìì£¼ ì ‘ê·¼í•˜ëŠ” ìµœê·¼ ë¸”ë¡ì—ë§Œ Q4ë„ í•¨ê»˜ ì €ì¥í•˜ì—¬ ê³„ì‚° ë¹„ìš© ì ˆì•½\n\n3. **ê°€ìš©ì„±ê³¼ ê²€ì¦ì˜ ê· í˜•**:\n   - ë°ì´í„° ê°€ìš©ì„± ê²€ì¦ì€ ìµœê·¼ ë¸”ë¡ì— ëŒ€í•´ ë” ì¤‘ìš”\n   - ë”°ë¼ì„œ ìµœê·¼ ë¸”ë¡ì€ ë” ë§ì€ ê³µê°„(ODS+Q4)ì„ ì‚¬ìš©í•˜ê³ , ì˜¤ë˜ëœ ë¸”ë¡ì€ ê³µê°„ íš¨ìœ¨ì„±(ODSë§Œ)ì„ ìš°ì„ ì‹œ\n\nê²°ë¡ ì ìœ¼ë¡œ, CelestiaëŠ” ì›ë³¸ ë°ì´í„°ì˜ ì•½ 1~2ë°° ì •ë„ì˜ ì €ì¥ ê³µê°„ì„ ì‚¬ìš©í•˜ë©´ì„œë„, ë°ì´í„° ê°€ìš©ì„± ê²€ì¦ê³¼ ë³µêµ¬ ê¸°ëŠ¥ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 2,
    "wordCount": 294,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "celestiaì˜-ë°ì´í„°-ê°€ìš©ì„±-ì¦ëª…-data-availability-proof-ë©”ì»¤ë‹ˆì¦˜",
    "slug": "celestiayi-deiteo-gayongseong-jeungmyeong-data-availability-proof-mekeonijeum",
    "path": "blockchain/celestia",
    "fullPath": "blockchain/celestia/celestiayi-deiteo-gayongseong-jeungmyeong-data-availability-proof-mekeonijeum",
    "title": "Celestiaì˜ ë°ì´í„° ê°€ìš©ì„± ì¦ëª…(Data Availability Proof) ë©”ì»¤ë‹ˆì¦˜",
    "excerpt": "Celestiaì˜ ë°ì´í„° ê°€ìš©ì„± ì¦ëª…(Data Availability Proof) ë©”ì»¤ë‹ˆì¦˜ CelestiaëŠ” ë¸”ë¡ì²´ì¸ í™•ì¥ì„± ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë°ì´í„° ê°€ìš©ì„± ì¦ëª…(Data Availability Proof) ë©”ì»¤ë‹ˆì¦˜ì„ í•µì‹¬ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ ë©”ì»¤ë‹ˆì¦˜ì€ ëª¨ë“ ...",
    "content": "# Celestiaì˜ ë°ì´í„° ê°€ìš©ì„± ì¦ëª…(Data Availability Proof) ë©”ì»¤ë‹ˆì¦˜\n\nCelestiaëŠ” ë¸”ë¡ì²´ì¸ í™•ì¥ì„± ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë°ì´í„° ê°€ìš©ì„± ì¦ëª…(Data Availability Proof) ë©”ì»¤ë‹ˆì¦˜ì„ í•µì‹¬ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ ë©”ì»¤ë‹ˆì¦˜ì€ ëª¨ë“  ë…¸ë“œê°€ ì „ì²´ ë¸”ë¡ì²´ì¸ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì§€ ì•Šê³ ë„ ë°ì´í„°ê°€ ë„¤íŠ¸ì›Œí¬ì— ì‹¤ì œë¡œ ê²Œì‹œë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\n## 1. ë°ì´í„° ê°€ìš©ì„± ë¬¸ì œ\n\nê¸°ì¡´ ë¸”ë¡ì²´ì¸ì—ì„œëŠ” ëª¨ë“  ë…¸ë“œê°€ ëª¨ë“  íŠ¸ëœì­ì…˜ì„ ê²€ì¦í•˜ê³  ì €ì¥í•´ì•¼ í•˜ë¯€ë¡œ í™•ì¥ì„±ì— í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤. CelestiaëŠ” \"ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§(Data Availability Sampling, DAS)\"ì´ë¼ëŠ” ê¸°ìˆ ì„ í†µí•´ ì´ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤.\n\n## 2. í•µì‹¬ ê¸°ìˆ  êµ¬ì„±ìš”ì†Œ\n\n### 2.1 Extended Data Square (EDS)\n\në¸”ë¡ ë°ì´í„°ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤:\n\n1. **ë°ì´í„° ì •ë ¬**: íŠ¸ëœì­ì…˜ ë°ì´í„°ë¥¼ ì •ì‚¬ê°í˜• í˜•íƒœ(Original Data Square, ODS)ë¡œ ë°°ì—´í•©ë‹ˆë‹¤.\n2. **2D Reed-Solomon ì¸ì½”ë”©**: ODSì— Reed-Solomon ì˜¤ë¥˜ ì •ì • ì½”ë“œë¥¼ ì ìš©í•˜ì—¬ í™•ì¥ëœ ë°ì´í„° ì‚¬ê°í˜•(EDS)ì„ ìƒì„±í•©ë‹ˆë‹¤.\n3. **ì‚¬ë¶„ë©´ êµ¬ì¡°**: EDSëŠ” 4ê°œì˜ ì‚¬ë¶„ë©´ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:\n   - Q1(ì¢Œìƒë‹¨): ì›ë³¸ ë°ì´í„°(ODS)\n   - Q2(ìš°ìƒë‹¨): í–‰ íŒ¨ë¦¬í‹° ë°ì´í„°\n   - Q3(ì¢Œí•˜ë‹¨): ì—´ íŒ¨ë¦¬í‹° ë°ì´í„°\n   - Q4(ìš°í•˜ë‹¨): í–‰+ì—´ íŒ¨ë¦¬í‹° ë°ì´í„°\n\n```go\n// core/eds.goì—ì„œ\nfunc extendBlock(data *types.Data, appVersion uint64, options ...nmt.Option) (*rsmt2d.ExtendedDataSquare, error) {\n    // ë¸”ë¡ ë°ì´í„°ë¥¼ EDSë¡œ í™•ì¥í•˜ëŠ” ê³¼ì •\n}\n```\n\n### 2.2 ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§(DAS)\n\nê²½ëŸ‰ ë…¸ë“œëŠ” ì „ì²´ ë¸”ë¡ì„ ë‹¤ìš´ë¡œë“œí•˜ì§€ ì•Šê³  EDSì˜ ì„ì˜ì˜ ìœ„ì¹˜ì—ì„œ ì†Œìˆ˜ì˜ ìƒ˜í”Œë§Œ ìš”ì²­í•©ë‹ˆë‹¤:\n\n1. **ë¬´ì‘ìœ„ ìƒ˜í”Œë§**: ë…¸ë“œëŠ” EDSì˜ ë¬´ì‘ìœ„ ìœ„ì¹˜ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ìƒ˜í”Œ(share)ì„ ìš”ì²­í•©ë‹ˆë‹¤.\n2. **í†µê³„ì  ê²€ì¦**: ì¶©ë¶„í•œ ìˆ˜ì˜ ìƒ˜í”Œì´ ì„±ê³µì ìœ¼ë¡œ ê²€ìƒ‰ë˜ë©´, ë†’ì€ í™•ë¥ ë¡œ ì „ì²´ ë°ì´í„°ê°€ ê°€ìš©í•˜ë‹¤ê³  ê²°ë¡ ì§€ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n3. **ì´ë¡ ì  ê¸°ë°˜**: ë°ì´í„°ì˜ ì¼ë¶€ê°€ ëˆ„ë½ëœ ê²½ìš°, ë¬´ì‘ìœ„ ìƒ˜í”Œë§ì„ í†µí•´ ë†’ì€ í™•ë¥ ë¡œ ëˆ„ë½ëœ ë¶€ë¶„ì„ ê°ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### 2.3 Namespaced Merkle Tree (NMT)\n\nCelestiaëŠ” ë°ì´í„°ë¥¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤(namespace)ë¡œ êµ¬ë¶„í•˜ì—¬ êµ¬ì¡°í™”í•©ë‹ˆë‹¤:\n\n1. **ë°ì´í„° ë¶„ë¥˜**: íŠ¸ëœì­ì…˜ ë°ì´í„°ë¥¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤.\n2. **íš¨ìœ¨ì ì¸ ê²€ì¦**: ë…¸ë“œëŠ” íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ë°ì´í„°ë§Œ ì„ íƒì ìœ¼ë¡œ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n3. **ì¦ëª… ìµœì í™”**: NMTëŠ” íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë°ì´í„°ì— ëŒ€í•œ ì¦ëª… í¬ê¸°ë¥¼ ìµœì í™”í•©ë‹ˆë‹¤.\n\n## 3. ë°ì´í„° ê°€ìš©ì„± ì¦ëª… í”„ë¡œì„¸ìŠ¤\n\n### 3.1 ë¸”ë¡ ìƒì„± ë° ì œì•ˆ\n\n1. ë¸”ë¡ ì œì•ˆìëŠ” íŠ¸ëœì­ì…˜ì„ ìˆ˜ì§‘í•˜ì—¬ ë¸”ë¡ì„ êµ¬ì„±í•©ë‹ˆë‹¤.\n2. íŠ¸ëœì­ì…˜ ë°ì´í„°ë¥¼ ODS í˜•íƒœë¡œ ì •ë ¬í•©ë‹ˆë‹¤.\n3. 2D Reed-Solomon ì¸ì½”ë”©ì„ ì ìš©í•˜ì—¬ EDSë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n4. ë¸”ë¡ í—¤ë”ì— ë°ì´í„° í•´ì‹œ(Merkle root)ë¥¼ í¬í•¨ì‹œì¼œ ë„¤íŠ¸ì›Œí¬ì— ì œì•ˆí•©ë‹ˆë‹¤.\n\n### 3.2 ê²½ëŸ‰ ë…¸ë“œì˜ ê²€ì¦ ê³¼ì •\n\n1. ê²½ëŸ‰ ë…¸ë“œëŠ” ë¸”ë¡ í—¤ë”ë¥¼ ë°›ìŠµë‹ˆë‹¤.\n2. EDSì˜ ë¬´ì‘ìœ„ ìœ„ì¹˜ì—ì„œ ë‹¤ìˆ˜ì˜ ìƒ˜í”Œì„ ìš”ì²­í•©ë‹ˆë‹¤.\n3. ìƒ˜í”Œì´ Merkle rootì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì¦í•©ë‹ˆë‹¤.\n4. ì¶©ë¶„í•œ ìƒ˜í”Œ(ì¼ë°˜ì ìœ¼ë¡œ ìˆ˜ë°± ê°œ)ì´ ì„±ê³µì ìœ¼ë¡œ ê²€ì¦ë˜ë©´, ì „ì²´ ë°ì´í„°ê°€ ê°€ìš©í•˜ë‹¤ê³  íŒë‹¨í•©ë‹ˆë‹¤.\n\n```go\n// ê²½ëŸ‰ ë…¸ë“œì˜ ìƒ˜í”Œë§ ìš”ì²­ ì²˜ë¦¬ ê³¼ì • (ê°œë…ì  ì½”ë“œ)\nfunc (odsq4 *ODSQ4) Sample(ctx context.Context, coords shwap.SampleCoords) (shwap.Sample, error) {\n    // ìš”ì²­ëœ ì¢Œí‘œì—ì„œ ìƒ˜í”Œ ë°ì´í„° ê²€ìƒ‰\n}\n```\n\n### 3.3 ë°ì´í„° ë³µêµ¬ ëŠ¥ë ¥\n\nEDSì˜ Reed-Solomon ì†ì„± ë•ë¶„ì—:\n\n1. ì „ì²´ EDSì˜ ì•½ 25%ë§Œ ìˆìœ¼ë©´ ì „ì²´ ë°ì´í„°ë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n2. ì¶©ë¶„í•œ ìˆ˜ì˜ ë…¸ë“œê°€ ìƒ˜í”Œë§ì„ ìˆ˜í–‰í•˜ë©´, ë„¤íŠ¸ì›Œí¬ ì „ì²´ì ìœ¼ë¡œ ë°ì´í„° ë³µêµ¬ê°€ ê°€ëŠ¥í•œ ìˆ˜ì¤€ì˜ ìƒ˜í”Œì´ ì¡´ì¬í•©ë‹ˆë‹¤.\n\n```go\n// store/file/square.goì—ì„œ\nfunc (s square) computeAxisHalf(axisType rsmt2d.Axis, axisIdx int) (eds.AxisHalf, error) {\n    // Reed-Solomon ì¸ì½”ë”©ì„ ì‚¬ìš©í•˜ì—¬ ëˆ„ë½ëœ ë°ì´í„° ë³µêµ¬\n}\n```\n\n## 4. ì €ì¥ ìµœì í™”\n\nCelestiaëŠ” ëª¨ë“  ë…¸ë“œê°€ ëª¨ë“  ë°ì´í„°ë¥¼ ì €ì¥í•  í•„ìš”ê°€ ì—†ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤:\n\n1. **ì„ íƒì  ì €ì¥**: í’€ ë…¸ë“œëŠ” ë¸”ë¡ ë°ì´í„°ì˜ ODS ë¶€ë¶„ë§Œ ì €ì¥í•©ë‹ˆë‹¤.\n2. **ì‹œê°„ ê¸°ë°˜ ì „ëµ**: ê°€ìš©ì„± ìœˆë„ìš° ë‚´ì˜ ìµœê·¼ ë¸”ë¡ì€ ODSQ4 í˜•íƒœ(ODS+Q4)ë¡œ ì €ì¥í•˜ê³ , ì˜¤ë˜ëœ ë¸”ë¡ì€ ODS í˜•íƒœë¡œë§Œ ì €ì¥í•©ë‹ˆë‹¤.\n\n```go\n// core/eds.goì—ì„œ\nfunc storeEDS(ctx context.Context, eh *header.ExtendedHeader, eds *rsmt2d.ExtendedDataSquare, store *store.Store, window time.Duration, archival bool) error {\n    if availability.IsWithinWindow(eh.Time(), window) {\n        // ê°€ìš©ì„± ìœˆë„ìš° ë‚´ì˜ ë¸”ë¡ì€ ODSì™€ Q4 ëª¨ë‘ ì €ì¥\n        err = store.PutODSQ4(ctx, eh.DAH, eh.Height(), eds)\n    } else {\n        // ì˜¤ë˜ëœ ë¸”ë¡ì€ ODSë§Œ ì €ì¥\n        err = store.PutODS(ctx, eh.DAH, eh.Height(), eds)\n    }\n}\n```\n\n## 5. ì¥ì  ë° ì˜ì˜\n\n1. **í™•ì¥ì„± í–¥ìƒ**: ê²½ëŸ‰ ë…¸ë“œëŠ” ì „ì²´ ë¸”ë¡ì„ ë‹¤ìš´ë¡œë“œí•˜ì§€ ì•Šê³ ë„ ë°ì´í„° ê°€ìš©ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n2. **ë³´ì•ˆ ìœ ì§€**: ì¶©ë¶„í•œ ìƒ˜í”Œë§ì„ í†µí•´ ë†’ì€ í™•ë¥ ë¡œ ë°ì´í„° ê°€ìš©ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n3. **ëª¨ë“ˆì‹ ì„¤ê³„**: ë°ì´í„° ê°€ìš©ì„± ë ˆì´ì–´ë¥¼ ì‹¤í–‰ ë ˆì´ì–´(execution layer)ì™€ ë¶„ë¦¬í•˜ì—¬ ëª¨ë“ˆì‹ ë¸”ë¡ì²´ì¸ ì„¤ê³„ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.\n4. **ë¡¤ì—… í™•ì¥**: Celestiaì˜ ë°ì´í„° ê°€ìš©ì„± ë ˆì´ì–´ëŠ” ë‹¤ì–‘í•œ ë¡¤ì—…(rollup)ì˜ ê¸°ë°˜ ë ˆì´ì–´ë¡œ í™œìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nCelestiaì˜ ë°ì´í„° ê°€ìš©ì„± ì¦ëª… ë©”ì»¤ë‹ˆì¦˜ì€ ë¸”ë¡ì²´ì¸ì˜ \"ë°ì´í„° ê°€ìš©ì„± ë¬¸ì œ\"ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í•´ê²°í•˜ì—¬, í™•ì¥ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ë©´ì„œë„ ë³´ì•ˆì„ ìœ ì§€í•˜ëŠ” í˜ì‹ ì ì¸ ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 3,
    "wordCount": 592,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "celestiaì˜-eds-extended-data-square",
    "slug": "celestiayi-eds-extended-data-square",
    "path": "blockchain/celestia",
    "fullPath": "blockchain/celestia/celestiayi-eds-extended-data-square",
    "title": "Celestiaì˜ EDS(Extended Data Square)",
    "excerpt": "EDS(Extended Data Square)ë€? EDSëŠ” Celestiaì˜ ë°ì´í„° ê°€ìš©ì„±(Data Availability) ë³´ì¥ ë©”ì»¤ë‹ˆì¦˜ì˜ í•µì‹¬ êµ¬ì¡°ì…ë‹ˆë‹¤. EDSëŠ” ì›ë³¸ ë°ì´í„°ë¥¼ 2D ì‚¬ê°í˜•ìœ¼ë¡œ êµ¬ì„±í•œ í›„, Reed-Solomon ì˜¤ë¥˜ ì •ì • ì½”ë”©ì„ ì ìš©í•˜ì—¬...",
    "content": "## EDS(Extended Data Square)ë€?\n\nEDSëŠ” Celestiaì˜ ë°ì´í„° ê°€ìš©ì„±(Data Availability) ë³´ì¥ ë©”ì»¤ë‹ˆì¦˜ì˜ í•µì‹¬ êµ¬ì¡°ì…ë‹ˆë‹¤. EDSëŠ” ì›ë³¸ ë°ì´í„°ë¥¼ 2D ì‚¬ê°í˜•ìœ¼ë¡œ êµ¬ì„±í•œ í›„, Reed-Solomon ì˜¤ë¥˜ ì •ì • ì½”ë”©ì„ ì ìš©í•˜ì—¬ í™•ì¥ëœ 2ì°¨ì› ë°ì´í„° êµ¬ì¡°ë¥¼ ë§í•©ë‹ˆë‹¤.\n\n```mermaid\ngraph LR\n    Q1[\"ğŸŸ¦ Q1: ODS<br/>ì›ë³¸ ë°ì´í„°\"] --- Q2[\"ğŸŸ© Q2: Row Parity<br/>í–‰ íŒ¨ë¦¬í‹°\"] --- Q3[\"ğŸŸ¨ Q3: Col Parity<br/>ì—´ íŒ¨ë¦¬í‹°\"] --- Q4[\"ğŸŸª Q4: Row+Col Parity<br/>í–‰+ì—´ íŒ¨ë¦¬í‹°\"]\n```\n\n> **Extended Data Square (EDS)**: ì›ë³¸ ë°ì´í„°(Q1)ë¥¼ Reed-Solomon ì¸ì½”ë”©í•˜ì—¬ í–‰/ì—´/ëŒ€ê°ì„  íŒ¨ë¦¬í‹°(Q2, Q3, Q4)ë¥¼ ìƒì„±í•œ 2D êµ¬ì¡°\n\n## EDSì˜ êµ¬ì¡°ì™€ íŠ¹ì§•\n\n1. **ì‚¬ë¶„ë©´ êµ¬ì¡°**:\n   - **Q1 (ì¢Œìƒë‹¨)**: ì›ë³¸ ë°ì´í„° ì‚¬ê°í˜•(ODS - Original Data Square)\n   - **Q2 (ìš°ìƒë‹¨)**: í–‰ íŒ¨ë¦¬í‹° ë°ì´í„°(Row Parity) - í–‰ ë‹¨ìœ„ ë³µêµ¬ ê°€ëŠ¥\n   - **Q3 (ì¢Œí•˜ë‹¨)**: ì—´ íŒ¨ë¦¬í‹° ë°ì´í„°(Column Parity) - ì—´ ë‹¨ìœ„ ë³µêµ¬ ê°€ëŠ¥\n   - **Q4 (ìš°í•˜ë‹¨)**: í–‰ê³¼ ì—´ íŒ¨ë¦¬í‹° ë°ì´í„°(Row+Column Parity) - íŠ¹ì • ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ í•„ìš”\n\n2. **2D Reed-Solomon ì¸ì½”ë”©**:\n   - í–‰ê³¼ ì—´ ëª¨ë‘ì— ëŒ€í•´ Reed-Solomon ì¸ì½”ë”© ì ìš©\n   - 25% ì´ìƒì˜ ë°ì´í„°ê°€ ì‚¬ìš© ê°€ëŠ¥í•˜ë©´ ì „ì²´ ë°ì´í„° ë³µêµ¬ ê°€ëŠ¥\n\n3. **ë°ì´í„° ë‹¨ìœ„**:\n   - **Share**: ê¸°ë³¸ ë°ì´í„° ë‹¨ìœ„. ê³ ì • í¬ê¸°ì˜ ë°”ì´íŠ¸ ë°°ì—´\n   - **Square**: nÃ—n í¬ê¸°ì˜ Share ë°°ì—´\n\n## EDS ê´€ë ¨ ì£¼ìš” ê¸°ëŠ¥\n\nì²¨ë¶€ëœ ì½”ë“œ ìŠ¤ë‹ˆí«ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ì£¼ìš” ê¸°ëŠ¥ë“¤:\n\n### 1. EDS ìƒì„±\n\n```go\nfunc extendBlock(data *types.Data, appVersion uint64, options ...nmt.Option) (*rsmt2d.ExtendedDataSquare, error)\n```\n\n- ë¸”ë¡ ë°ì´í„°ë¥¼ EDSë¡œ í™•ì¥í•©ë‹ˆë‹¤.\n- íŠ¸ëœì­ì…˜ ë°ì´í„°ë¥¼ 2D ì‚¬ê°í˜•ìœ¼ë¡œ êµ¬ì„±í•œ í›„ Reed-Solomon ì¸ì½”ë”©ì„ ì ìš©í•©ë‹ˆë‹¤.\n\n```go\nfunc extendShares(s [][]byte, options ...nmt.Option) (*rsmt2d.ExtendedDataSquare, error)\n```\n\n- Shareì˜ ë°°ì—´ì„ EDSë¡œ í™•ì¥í•©ë‹ˆë‹¤.\n\n### 2. EDS ì €ì¥\n\n```go\nfunc storeEDS(\n    ctx context.Context,\n    eh *header.ExtendedHeader,\n    eds *rsmt2d.ExtendedDataSquare,\n    store *store.Store,\n    window time.Duration,\n    archival bool,\n) error\n```\n\n- EDSë¥¼ ì €ì¥í•©ë‹ˆë‹¤.\n- ê°€ìš©ì„± ìœˆë„ìš° ë‚´ì— ìˆìœ¼ë©´ ODSì™€ Q4 ëª¨ë‘ ì €ì¥(ODSQ4)\n- ê°€ìš©ì„± ìœˆë„ìš° ë°–ì— ìˆìœ¼ë©´ ODSë§Œ ì €ì¥\n\n## file íŒ¨í‚¤ì§€ì™€ EDSì˜ ê´€ê³„\n\nì•ì„œ ì„¤ëª…í•œ file íŒ¨í‚¤ì§€ëŠ” EDSì˜ ì €ì¥ ë° ì ‘ê·¼ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤:\n\n1. **ODS**: EDSì˜ Q1 ì‚¬ë¶„ë©´(ì›ë³¸ ë°ì´í„°)ë§Œ ì €ì¥í•˜ëŠ” ë°©ì‹\n2. **ODSQ4**: ODSì™€ Q4 ì‚¬ë¶„ë©´ì„ í•¨ê»˜ ì €ì¥í•˜ëŠ” ë°©ì‹\n   - ì¼ë¶€ ì¿¼ë¦¬ ë° ë°ì´í„° ë³µêµ¬ì— ë” íš¨ìœ¨ì \n   - ì €ì¥ ê³µê°„ì„ ë” í•„ìš”ë¡œ í•¨\n\n## EDSì˜ Celestiaì—ì„œì˜ ì—­í• \n\n1. **ë°ì´í„° ê°€ìš©ì„± ê²€ì¦**:\n   - ë…¸ë“œë“¤ì€ EDSì˜ ì„ì˜ ìƒ˜í”Œì„ ìš”ì²­í•˜ì—¬ ë°ì´í„° ê°€ìš©ì„± ê²€ì¦\n   - ì¶©ë¶„í•œ ìƒ˜í”Œì´ í™•ì¸ë˜ë©´ ì „ì²´ ë¸”ë¡ì´ ê°€ìš©í•˜ë‹¤ê³  íŒë‹¨\n\n2. **ë°ì´í„° ë³µêµ¬**:\n   - ì¼ë¶€ ë°ì´í„°ë§Œìœ¼ë¡œ ì „ì²´ ë°ì´í„° ë³µêµ¬ ê°€ëŠ¥\n   - ë„¤íŠ¸ì›Œí¬ íš¨ìœ¨ì„± í–¥ìƒ: ì „ì²´ ë¸”ë¡ì´ ì•„ë‹Œ ì¼ë¶€ë§Œ ë‹¤ìš´ë¡œë“œí•´ë„ ë¨\n\n3. **ì €ì¥ ìµœì í™”**:\n   - ëª¨ë“  ë…¸ë“œê°€ ì „ì²´ EDSë¥¼ ì €ì¥í•  í•„ìš” ì—†ìŒ\n   - ì¼ë°˜ ë…¸ë“œëŠ” ODSë§Œ ì €ì¥í•´ë„ ì¶©ë¶„\n   - ê°€ìš©ì„± ë³´ì¥ì´ í•„ìš”í•œ ìµœê·¼ ë¸”ë¡ë§Œ ODSQ4 í˜•íƒœë¡œ ì €ì¥\n\n## ì‹¤ì œ êµ¬í˜„ì—ì„œì˜ ê³ ë ¤ì‚¬í•­\n\n1. **ê°€ìš©ì„± ìœˆë„ìš°**:\n\n   ```go\n   if availability.IsWithinWindow(eh.Time(), availability.StorageWindow) {\n       err = store.PutODSQ4(ctx, eh.DAH, eh.Height(), eds)\n   } else {\n       err = store.PutODS(ctx, eh.DAH, eh.Height(), eds)\n   }\n   ```\n\n   - ìµœê·¼ ë¸”ë¡(ê°€ìš©ì„± ìœˆë„ìš° ë‚´)ì— ëŒ€í•´ì„œë§Œ ODSQ4 ë°©ì‹ìœ¼ë¡œ ì €ì¥\n   - ì˜¤ë˜ëœ ë¸”ë¡ì€ ODS ë°©ì‹ìœ¼ë¡œë§Œ ì €ì¥í•˜ì—¬ ë””ìŠ¤í¬ ê³µê°„ ì ˆì•½\n\n2. **ì„±ëŠ¥ ìµœì í™”**:\n   - ìºì‹± ë° ë²„í¼ë§ì„ í†µí•œ I/O ìµœì í™”\n   - Q4 ì§€ì—° ë¡œë”©(í•„ìš”í•  ë•Œë§Œ ë¡œë“œ)\n   - Reed-Solomon ì¸ì½”ë” ìºì‹±\n\nEDSëŠ” Celestiaì˜ ë°ì´í„° ê°€ìš©ì„± ë ˆì´ì–´ì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œë¡œ, ë¸”ë¡ì²´ì¸ì˜ ë°ì´í„° í™•ì¥ì„±ê³¼ ê°€ìš©ì„±ì„ ë™ì‹œì— í•´ê²°í•˜ê¸° ìœ„í•œ ì¤‘ìš”í•œ êµ¬ì¡°ì…ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 3,
    "wordCount": 465,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "celestiaê°€-íŠ¸ëœì­ì…˜-ë°°ì—´ì„-odsë¡œ-ë³€í™˜í•˜ëŠ”-ë°©ë²•",
    "slug": "celestiaga-teuraenjaegsyeon-baeyeoleul-odsro-byeonhwanhaneun-bangbeob",
    "path": "blockchain/celestia",
    "fullPath": "blockchain/celestia/celestiaga-teuraenjaegsyeon-baeyeoleul-odsro-byeonhwanhaneun-bangbeob",
    "title": "Celestiaê°€ íŠ¸ëœì­ì…˜ ë°°ì—´ì„ ODSë¡œ ë³€í™˜í•˜ëŠ” ë°©ë²•",
    "excerpt": "í•µì‹¬ ê°œë… Share (ê³µê°„ë‹¨ìœ„) Celestiaì˜ ê¸°ë³¸ ë°ì´í„° ë‹¨ìœ„(512ë°”ì´íŠ¸) ë„¤ì„ìŠ¤í˜ì´ìŠ¤ IDë¥¼ í¬í•¨í•œ ì›ì‹œ ë°ì´í„° ì €ì¥ ê° ShareëŠ” íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì†í•˜ë©°, ì •ë³´ ë°”ì´íŠ¸ì™€ ë²„ì „ì„ í¬í•¨ Square (ì‚¬ê°í˜•) ë°...",
    "content": "## 1. í•µì‹¬ ê°œë…\n\n### Share (ê³µê°„ë‹¨ìœ„)\n- Celestiaì˜ ê¸°ë³¸ ë°ì´í„° ë‹¨ìœ„(512ë°”ì´íŠ¸)\n- ë„¤ì„ìŠ¤í˜ì´ìŠ¤ IDë¥¼ í¬í•¨í•œ ì›ì‹œ ë°ì´í„° ì €ì¥\n- ê° ShareëŠ” íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì†í•˜ë©°, ì •ë³´ ë°”ì´íŠ¸ì™€ ë²„ì „ì„ í¬í•¨\n\n### Square (ì‚¬ê°í˜•)\n- ë°ì´í„°ì˜ 2D ì •ì‚¬ê°í˜• ë°°ì—´ë¡œ, í•­ìƒ ë³€ì˜ ê¸¸ì´ê°€ 2ì˜ ì œê³±ìˆ˜\n- Shareë“¤ì˜ ì§‘í•©ìœ¼ë¡œ êµ¬ì„±\n- ìµœì¢…ì ì¸ ë°ì´í„° ê°€ìš©ì„± ê³„ì¸µì˜ êµ¬ì¡°\n\n### íŠ¸ëœì­ì…˜ ìœ í˜•\n- ì¼ë°˜ íŠ¸ëœì­ì…˜: ê¸°ë³¸ íŠ¸ëœì­ì…˜\n- PFB(Pay-for-Blob) íŠ¸ëœì­ì…˜: ë¸”ë¡­ ë°ì´í„°ë¥¼ í¬í•¨í•˜ê±°ë‚˜ ì°¸ì¡°í•˜ëŠ” íŠ¹ìˆ˜ íŠ¸ëœì­ì…˜\n\n## 2. ë³€í™˜ í”„ë¡œì„¸ìŠ¤\n\n### ì´ˆê¸°í™” (Builder ìƒì„±)\n```go\nbuilder, err := NewBuilder(maxSquareSize, subtreeRootThreshold)\n```\n- `maxSquareSize`: ìµœëŒ€ ì‚¬ê°í˜• í¬ê¸°(2ì˜ ì œê³±ìˆ˜)\n- `subtreeRootThreshold`: ì„œë¸ŒíŠ¸ë¦¬ ë£¨íŠ¸ ì„ê³„ê°’ ì„¤ì •\n\n### íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ìˆœì„œ\n1. **íŠ¸ëœì­ì…˜ ë¶„ë¥˜**: ì…ë ¥ëœ íŠ¸ëœì­ì…˜ì„ ì¼ë°˜ íŠ¸ëœì­ì…˜ê³¼ blob íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¶„ë¥˜\n2. **íŠ¸ëœì­ì…˜ ë°°ì¹˜**: ì¼ë°˜ íŠ¸ëœì­ì…˜ì„ ë¨¼ì € ë°°ì¹˜í•œ í›„ PFB íŠ¸ëœì­ì…˜ ë°°ì¹˜\n\n### Share ë¶„í•  í”„ë¡œì„¸ìŠ¤\n1. **Compact Share ì‚¬ìš©**: ì¼ë°˜ íŠ¸ëœì­ì…˜ê³¼ PFB íŠ¸ëœì­ì…˜ì„ Compact Shareë¡œ ë³€í™˜\n   ```go\n   txWriter := share.NewCompactShareSplitter(share.TxNamespace, share.ShareVersionZero)\n   pfbWriter := share.NewCompactShareSplitter(share.PayForBlobNamespace, share.ShareVersionZero)\n   ```\n\n2. **Sparse Share ì‚¬ìš©**: Blob ë°ì´í„°ëŠ” Sparse Shareë¡œ ë³€í™˜\n   ```go\n   blobWriter := share.NewSparseShareSplitter()\n   ```\n\n3. **Blob ì •ë ¬ ë° ë°°ì¹˜**:\n   - ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ Blob ì •ë ¬\n   - Share commitment ê·œì¹™ì— ë§ê²Œ íŒ¨ë”© ì¶”ê°€\n   - ì²« Blobì˜ ì‹œì‘ ìœ„ì¹˜ê°€ nonReservedStart ê²°ì •\n\n4. **íŒ¨ë”© ì¶”ê°€**:\n   - ë„¤ì„ìŠ¤í˜ì´ìŠ¤ íŒ¨ë”©: íŠ¸ëœì­ì…˜ê³¼ PFB ì‚¬ì´\n   - í…Œì¼ íŒ¨ë”©: ì‚¬ê°í˜• í¬ê¸°ë¥¼ ë§ì¶”ê¸° ìœ„í•´ ì¶”ê°€\n\n### ì‚¬ê°í˜• ìƒì„±\n```go\nsquare, err := WriteSquare(txWriter, pfbWriter, blobWriter, nonReservedStart, squareSize)\n```\n\n1. **ì‚¬ê°í˜• í¬ê¸° ê²°ì •**:\n   - í•„ìš”í•œ ìµœì†Œ í¬ê¸° ê³„ì‚° (`inclusion.BlobMinSquareSize`)\n   - íŠ¸ëœì­ì…˜, PFB, ë¸”ë¡­ ë°ì´í„°ë¥¼ ëª¨ë‘ ìˆ˜ìš©í•  ìˆ˜ ìˆëŠ” 2ì˜ ì œê³±ìˆ˜ë¡œ í¬ê¸° ì„¤ì •\n\n2. **ë°ì´í„° ë°°ì¹˜**:\n   - ì¼ë°˜ íŠ¸ëœì­ì…˜ â†’ PFB íŠ¸ëœì­ì…˜ â†’ íŒ¨ë”© â†’ Blob ë°ì´í„° â†’ í…Œì¼ íŒ¨ë”© ìˆœìœ¼ë¡œ ë°°ì¹˜\n   - ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ë¡œ ë°ì´í„° êµ¬ë¶„ (TxNamespace, PayForBlobNamespace ë“±)\n\n## 3. ì£¼ìš” ìµœì í™” ë° íŠ¹ì§•\n\n### ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±\n- Share Counterë¥¼ ì‚¬ìš©í•˜ì—¬ ì •í™•í•œ í¬ê¸° ê³„ì‚°\n- í•„ìš”í•œ ë§Œí¼ë§Œ íŒ¨ë”© ì¶”ê°€ë¡œ ê³µê°„ ìµœì í™”\n\n### ë„¤ì„ìŠ¤í˜ì´ìŠ¤ êµ¬ë¶„\n- ê° ë°ì´í„° ìœ í˜•ì— ë§ëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í• ë‹¹\n- ì´ë¥¼ í†µí•´ ë°ì´í„° ìœ í˜•ë³„ ê²€ìƒ‰ ë° ì ‘ê·¼ ìš©ì´\n\n### ë¨¸í´ íŠ¸ë¦¬ ìµœì í™”\n- ì„œë¸ŒíŠ¸ë¦¬ ì„ê³„ê°’ ì„¤ì •ìœ¼ë¡œ ë¨¸í´ íŠ¸ë¦¬ êµ¬ì¡° ìµœì í™”\n- ë¸”ë¡­ ë°ì´í„° ìœ„ì¹˜ ì¡°ì •ìœ¼ë¡œ íš¨ìœ¨ì ì¸ ì¦ëª… ìƒì„±\n\n### Share commitment ê·œì¹™ \n- ê° Blobì˜ ì‹œì‘ ìœ„ì¹˜ëŠ” Share commitment ê·œì¹™ì— ë”°ë¼ ê²°ì •\n- ì´ëŠ” ë°ì´í„° ê°€ìš©ì„± ê²€ì¦ì„ ìœ„í•œ íš¨ìœ¨ì ì¸ ì¦ëª…ì„ ê°€ëŠ¥í•˜ê²Œ í•¨\n\n## ì„¸ë¶€ ìŠ¤í™ì— ëŒ€í•œ Note\n\n## 1. maxSquareSizeì™€ ì›ë³¸/íŒ¨ë¦¬í‹° share ê´€ê³„\n\n- **ODS(Original Data Square)**: ëª¨ë“  shareê°€ ì›ë³¸ ë°ì´í„°ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” íŠ¸ëœì­ì…˜, PFB, ë¸”ë¡­ ë°ì´í„°, ê·¸ë¦¬ê³  í•„ìš”í•œ íŒ¨ë”©ë§Œ í¬í•¨ë©ë‹ˆë‹¤. ì´ ë‹¨ê³„ì—ì„œëŠ” íŒ¨ë¦¬í‹° ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\n\n- **EDS(Extended Data Square)**: ODSë¥¼ 2D ë¦¬ë“œ-ì†”ë¡œëª¬ ì¸ì½”ë”©ìœ¼ë¡œ í™•ì¥í•œ ê²ƒìœ¼ë¡œ, ì´ ë•Œ íŒ¨ë¦¬í‹° ë°ì´í„°ê°€ ì¶”ê°€ë©ë‹ˆë‹¤. ì´ëŠ” ì½”ë“œë² ì´ìŠ¤ì˜ ë‹¤ë¥¸ ë¶€ë¶„ì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.\n\nODSì˜ í¬ê¸°ê°€ 2^n x 2^nì¸ ì´ìœ ëŠ”:\n1. ë¨¸í´ íŠ¸ë¦¬ êµ¬ì„±ì˜ íš¨ìœ¨ì„± \n2. ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§(DAS)ì˜ íš¨ìœ¨ì„±\n3. 2D ë¦¬ë“œ-ì†”ë¡œëª¬ ì¸ì½”ë”©ì˜ ìš”êµ¬ì‚¬í•­\n\n## 2. share í¬ê¸°ì™€ square í¬ê¸° ì œí•œ\n\n- **share í¬ê¸°**: ê° shareëŠ” 512ë°”ì´íŠ¸ë¡œ ê³ ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì½”ë“œì—ì„œ `ShareSize` ìƒìˆ˜ë¡œ ì •ì˜ë©ë‹ˆë‹¤.\n\n- **square í¬ê¸° ì œí•œ**: ì´ë¡ ì ìœ¼ë¡œëŠ” 2ì˜ ì œê³±ìˆ˜ë¡œ ë¬´í•œíˆ ì»¤ì§ˆ ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” ì œí•œì´ ìˆìŠµë‹ˆë‹¤. ì½”ë“œë¥¼ ë³´ë©´:\n\n  ```go\n  // worstCaseShareIndexes í•¨ìˆ˜ì—ì„œ\n  squareSizeUpperBound := 128\n  worstCaseShareIndex := squareSizeUpperBound * squareSizeUpperBound\n  ```\n\n  ì´ ë¶€ë¶„ì—ì„œ ìµœëŒ€ square í¬ê¸°ë¥¼ 128x128(16,384 shares)ë¡œ ì œí•œí•˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” Celestia-app v1.xì™€ì˜ í˜¸í™˜ì„±ì„ ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.\n\n  ë˜í•œ ê° ë…¸ë“œì˜ ë©”ëª¨ë¦¬ ì œí•œ, ë„¤íŠ¸ì›Œí¬ ì²˜ë¦¬ëŸ‰, ë¸”ë¡ ì‹œê°„ ë“± ì‹¤ìš©ì ì¸ ì œì•½ ìš”ì†Œë“¤ë„ ìµœëŒ€ square í¬ê¸°ë¥¼ ì œí•œí•©ë‹ˆë‹¤. 128x128 squareëŠ” ì•½ **8MB**(512ë°”ì´íŠ¸ * 16,384)ì˜ ë°ì´í„°ë¥¼ ë‹´ì„ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” í˜„ì¬ êµ¬í˜„ì˜ ì‹¤ìš©ì ì¸ ìƒí•œì„ ì…ë‹ˆë‹¤.\n\nê²°ë¡ ì ìœ¼ë¡œ, share í¬ê¸°ëŠ” ê³ ì •ë˜ì–´ ìˆê³  square í¬ê¸°ëŠ” ì´ë¡ ì ìœ¼ë¡œëŠ” 2ì˜ ì œê³±ìˆ˜ë¡œ í™•ì¥ ê°€ëŠ¥í•˜ì§€ë§Œ ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì œí•œì´ ìˆìŠµë‹ˆë‹¤.\n\nRef: https://github.com/celestiaorg/go-square",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 3,
    "wordCount": 541,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "celestia-ë°ì´í„°-ê°€ìš©ì„±-ìƒ˜í”Œë§-das-ë¶„ì„",
    "slug": "celestia-deiteo-gayongseong-saempeulring-das-bunseog",
    "path": "blockchain/celestia",
    "fullPath": "blockchain/celestia/celestia-deiteo-gayongseong-saempeulring-das-bunseog",
    "title": "Celestia ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§(DAS) ë¶„ì„",
    "excerpt": "ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§(DAS)ì—ì„œ ìƒ˜í”Œ ìˆ˜ëŸ‰ ê²°ì • ë°©ì‹ ë¼ì´íŠ¸ ë…¸ë“œì˜ ìƒ˜í”Œë§ ì„¤ì • share/availability/light/options.go íŒŒì¼ì—ì„œ, ë¼ì´íŠ¸ ë…¸ë“œì˜ ê¸°ë³¸ ìƒ˜í”Œ ìˆ˜ëŸ‰ì´ 16ê°œë¡œ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ``` // D...",
    "content": "**ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§(DAS)ì—ì„œ ìƒ˜í”Œ ìˆ˜ëŸ‰ ê²°ì • ë°©ì‹**\n\n1. **ë¼ì´íŠ¸ ë…¸ë“œì˜ ìƒ˜í”Œë§ ì„¤ì •**\n\n- share/availability/light/options.go íŒŒì¼ì—ì„œ, ë¼ì´íŠ¸ ë…¸ë“œì˜ ê¸°ë³¸ ìƒ˜í”Œ ìˆ˜ëŸ‰ì´ **16ê°œ**ë¡œ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n```\n// DefaultSampleAmountëŠ” ë¼ì´íŠ¸ ë…¸ë“œê°€ ë¸”ë¡ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤ê³  ì„ ì–¸í•˜ê¸° ì „ì— ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ìµœì†Œ ìƒ˜í”Œ ìˆ˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.\nvar (\n    DefaultSampleAmount uint = 16\n)\n```\n\n1. **DAS ê´€ë ¨ ì£¼ìš” ë§¤ê°œë³€ìˆ˜**\n\n- das/options.go íŒŒì¼ì˜ DefaultParameters() í•¨ìˆ˜ì—ì„œ DASì˜ ê¸°ë³¸ ì„¤ì •ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```\n// DefaultParametersëŠ” daser(ìƒ˜í”Œë§ ëª¨ë“ˆ)ì˜ ê¸°ë³¸ ì„¤ì •ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.\nfunc DefaultParameters() Parameters {\n    concurrencyLimit := 16\n    return Parameters{\n        SamplingRange: 100,\n        ConcurrencyLimit: concurrencyLimit,\n        BackgroundStoreInterval: 10 * time.Minute,\n        SampleFrom: 1,\n        SampleTimeout: 15 * time.Second * time.Duration(concurrencyLimit),\n    }\n}\n```\n\nì—¬ê¸°ì„œ SamplingRange: 100ì€ í•œ ë²ˆì˜ ìƒ˜í”Œë§ ì‘ì—…ì—ì„œ **ìµœëŒ€ 100ê°œì˜ í—¤ë”ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒì„ ì˜ë¯¸**í•˜ì§€ë§Œ, ë¸”ë¡ë‹¹ ìƒ˜í”Œ ìˆ˜ëŸ‰ì„ ì§ì ‘ì ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.\n\n1. **ë¬´ì‘ìœ„ ìƒ˜í”Œë§ êµ¬í˜„ ë°©ì‹**\n\n- share/availability/light/sample.go íŒŒì¼ì˜ selectRandomSamples í•¨ìˆ˜ëŠ” ë°ì´í„° ì •ì‚¬ê°í˜•(squares)ì—ì„œ ë¬´ì‘ìœ„ë¡œ ìƒ˜í”Œì„ ì„ íƒí•˜ëŠ” ë°©ì‹ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n```\n// selectRandomSamplesëŠ” ì£¼ì–´ì§„ í¬ê¸°ì˜ ì •ì‚¬ê°í˜•ì—ì„œ ë¬´ì‘ìœ„ë¡œ ê³ ìœ í•œ ì¢Œí‘œë¥¼ ì„ íƒí•©ë‹ˆë‹¤.\nfunc selectRandomSamples(squareSize, sampleCount int) []shwap.SampleCoords {\n    total := squareSize * squareSize\n    if sampleCount > total {\n        sampleCount = total\n    }\n    \n    samples := make(map[shwap.SampleCoords]struct{}, sampleCount)\n    for len(samples) < sampleCount {\n        s := shwap.SampleCoords{\n            Row: randInt(squareSize),\n            Col: randInt(squareSize),\n        }\n        samples[s] = struct{}{}\n    }\n    return slices.Collect(maps.Keys(samples))\n}\n```\n\nìœ„ ì½”ë“œì—ì„œ **ìƒ˜í”Œë§ ê°œìˆ˜ëŠ” ë¸”ë¡ ë°ì´í„°ì˜ ì •ì‚¬ê°í˜• í¬ê¸°ì— ë”°ë¼ ë‹¤ë¥´ë©°**, ì£¼ì–´ì§„ ê°œìˆ˜ë§Œí¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒë©ë‹ˆë‹¤.\n\n1. **ë¼ì´íŠ¸ ë…¸ë“œì˜ ë°ì´í„° ê°€ìš©ì„± í™•ì¸ ê³¼ì •**\n\n- share/availability/light/availability.go íŒŒì¼ì˜ SharesAvailable ë©”ì„œë“œë¥¼ ì‚´í´ë³´ë©´, íŠ¹ì • ë¸”ë¡ í—¤ë”ì— ëŒ€í•œ ê¸°ì¡´ ìƒ˜í”Œë§ ê²°ê³¼ê°€ ì—†ì„ ê²½ìš° ìƒˆë¡œìš´ ìƒ˜í”Œë§ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```\nsamples = NewSamplingResult(len(dah.RowRoots), int(la.params.SampleAmount))\n```\n\nì—¬ê¸°ì„œ dah.RowRootsì˜ ê¸¸ì´(ì¦‰, ë°ì´í„° ì •ì‚¬ê°í˜•ì˜ í¬ê¸°)ì™€ **ì„¤ì •ëœ ìƒ˜í”Œ ìˆ˜ëŸ‰(ê¸°ë³¸ê°’: 16ê°œ)** ì„ ê¸°ë°˜ìœ¼ë¡œ ìƒ˜í”Œë§ì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.\n\n---\n\n**16KB ë¸”ë¡ì˜ ìƒ˜í”Œ ìˆ˜ëŸ‰ ë¶„ì„**\n\nCelestiaì—ì„œ **16KB ë¸”ë¡ì˜ ìƒ˜í”Œë§ ë°©ì‹**ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n1. **ë¼ì´íŠ¸ ë…¸ë“œì˜ ê¸°ë³¸ ìƒ˜í”Œ ìˆ˜ëŸ‰**\n- ê¸°ë³¸ì ìœ¼ë¡œ ë¼ì´íŠ¸ ë…¸ë“œëŠ” **ë¸”ë¡ í¬ê¸°ì— ìƒê´€ì—†ì´ 16ê°œì˜ ìƒ˜í”Œì„ ì‚¬ìš©**í•©ë‹ˆë‹¤.\n\n1. **16KB ë¸”ë¡ì˜ ê²½ìš° ìƒ˜í”Œë§ ê³¼ì •**\n\n- 16KB ë¸”ë¡ì€ ì£¼ì–´ì§„ ë¸”ë¡ í¬ê¸°ì— ë”°ë¼ ì •ì‚¬ê°í˜• í˜•íƒœë¡œ ë³€í™˜ë©ë‹ˆë‹¤.\n- ë³´í†µ **4Ã—4(16ê°œ)ì˜ ê³µìœ  ë°ì´í„°(share)ë¡œ ë‚˜ë‰˜ì–´ ì €ì¥**ë©ë‹ˆë‹¤.\n- ë¼ì´íŠ¸ ë…¸ë“œëŠ” ì´ **16ê°œì˜ ê³µìœ  ë°ì´í„° ì¤‘ 16ê°œë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒí•˜ì—¬ ìƒ˜í”Œë§**í•©ë‹ˆë‹¤.\n- ì´ë ‡ê²Œ ì„ íƒëœ ìƒ˜í”Œì„ í†µí•´ ë¸”ë¡ì´ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì œëŒ€ë¡œ ì „íŒŒë˜ì—ˆëŠ”ì§€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.\n\n1. **í’€ ë…¸ë“œ(Full Node) vs. ë¼ì´íŠ¸ ë…¸ë“œ(Light Node)**\n\n- share/doc.go íŒŒì¼ì— ë”°ë¥´ë©´, ë¼ì´íŠ¸ ë…¸ë“œëŠ” **16ê°œì˜ ìƒ˜í”Œë§Œ ì‚¬ìš©í•˜ì—¬ ê°€ìš©ì„±ì„ í™•ì¸**í•˜ì§€ë§Œ, í’€ ë…¸ë“œëŠ” ì „ì²´ ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ê°€ìš©ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.\n\n```\n// Light Availability êµ¬í˜„ì€ ë¸”ë¡ ë°ì´í„°ì˜ 16ê°œ ìƒ˜í”Œì„ í™•ì¸í•˜ì—¬ ê°€ìš©ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.\n// Full Availability êµ¬í˜„ì€ ë°ì´í„°ë¥¼ ì™„ì „íˆ ë³µêµ¬í•  ìˆ˜ ìˆì„ ë§Œí¼ì˜ ìƒ˜í”Œì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\n```\n\n---\n\n**ê²°ë¡ : ìƒ˜í”Œ ìˆ˜ëŸ‰ ë¶„ì„ ìš”ì•½**\n\n1. **ë¼ì´íŠ¸ ë…¸ë“œì˜ ê¸°ë³¸ ìƒ˜í”Œ ìˆ˜ëŸ‰ì€ 16ê°œ**\n\n- share/availability/light/options.goì—ì„œ ê¸°ë³¸ê°’ìœ¼ë¡œ 16ê°œ ì„¤ì •\n- ë¸”ë¡ í¬ê¸°ì™€ ìƒê´€ì—†ì´ ë™ì¼í•œ ìˆ˜ëŸ‰ìœ¼ë¡œ ìƒ˜í”Œë§ ì§„í–‰\n\n1. **16KB ë¸”ë¡ì—ì„œëŠ” ì „ì²´ ë°ì´í„° ê³µìœ  ê°œìˆ˜ê°€ 16ê°œì´ë¯€ë¡œ, ì „ì²´ë¥¼ ìƒ˜í”Œë§**\n\n- ë¸”ë¡ì´ 4Ã—4 ì •ì‚¬ê°í˜•ìœ¼ë¡œ ë³€í™˜ë˜ë©°, 16ê°œ ì¤‘ 16ê°œë¥¼ ìƒ˜í”Œë§\n- 16ê°œë§Œ ìƒ˜í”Œë§í•´ë„ ì¶©ë¶„í•œ í™•ë¥ ë¡œ ê°€ìš©ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆìŒ\n\nğŸ‘‰ **ê²°ë¡ ì ìœ¼ë¡œ, Celestiaì˜ ë¼ì´íŠ¸ ë…¸ë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¸”ë¡ë‹¹ 16ê°œì˜ ìƒ˜í”Œì„ ì¶”ì¶œí•˜ì—¬ ë°ì´í„° ê°€ìš©ì„±ì„ ê²€ì¦í•˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.** ğŸš€\n\n### ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§ì˜ í™•ë¥ ì  ë³´ì¥\n\nCelestiaì˜ ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§(DAS)ì—ì„œ 16ê°œì˜ ìƒ˜í”Œì€ ë‹¤ìŒê³¼ ê°™ì€ í™•ë¥ ì  ë³´ì¥ì„ ì œê³µí•©ë‹ˆë‹¤:\n\n#### ì´ë¡ ì  ë°°ê²½\n\në°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§ì€ ì •ë³´ ì´ë¡ ê³¼ í™•ë¥ ë¡ ì— ê¸°ë°˜í•©ë‹ˆë‹¤. íŠ¹íˆ \"ìƒ˜í”Œë§ ê²Œì„\" ì´ë¡ ì— ë”°ë¥´ë©´:\n\n- ë¸”ë¡ ìƒì„±ìê°€ ë°ì´í„°ì˜ ì¼ë¶€(ì˜ˆ: 50%)ë¥¼ ìˆ¨ê¸°ë©´, ë¬´ì‘ìœ„ë¡œ ì„ íƒëœ ê° ìƒ˜í”Œì´ ê·¸ ìˆ¨ê²¨ì§„ ë¶€ë¶„ì„ ë°œê²¬í•  í™•ë¥ ì€ 50%ì…ë‹ˆë‹¤.\n    \n- 16ê°œì˜ ë…ë¦½ì ì¸ ìƒ˜í”Œì„ ì„ íƒí•  ê²½ìš°, ìˆ¨ê²¨ì§„ ë°ì´í„°ë¥¼ í•˜ë‚˜ë„ ë°œê²¬í•˜ì§€ ëª»í•  í™•ë¥ ì€ $(0.5)^{16} = 0.0000152587890625$, ì¦‰ ì•½ 0.0015%ì…ë‹ˆë‹¤.\n    \n- ì´ëŠ” ë°˜ëŒ€ë¡œ ë§í•˜ë©´, ë°ì´í„°ì˜ 50%ê°€ ëˆ„ë½ëœ ê²½ìš° 16ê°œì˜ ìƒ˜í”Œë¡œ 99.9985%ì˜ í™•ë¥ ë¡œ ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë¬¸ì œë¥¼ ë°œê²¬í•  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.\n    \n\n#### ìƒ˜í”Œ ìˆ˜ì™€ ë³´ì•ˆì„± ì‚¬ì´ì˜ ê´€ê³„\n\nì‹¤ì œ ì½”ë“œì—ì„œ DefaultSampleAmountê°€ 16ìœ¼ë¡œ ì„¤ì •ëœ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n1. **ê³µê²©ìì˜ ë°ì´í„° ì€ë‹‰ ë¹„ìœ¨ì— ë”°ë¥¸ íƒì§€ í™•ë¥ **:\n    \n    - 25% ë°ì´í„° ì€ë‹‰: 16ê°œ ìƒ˜í”Œë¡œ ì•½ 99.9999% íƒì§€ í™•ë¥ \n        \n    - 10% ë°ì´í„° ì€ë‹‰: 16ê°œ ìƒ˜í”Œë¡œ ì•½ 82% íƒì§€ í™•ë¥ \n        \n2. **íš¨ìœ¨ì„±ê³¼ ë³´ì•ˆì„±ì˜ ê· í˜•**:  \n    ìƒ˜í”Œ ìˆ˜ê°€ ì¦ê°€í• ìˆ˜ë¡ ë³´ì•ˆì„±ì€ í–¥ìƒë˜ì§€ë§Œ, ë„¤íŠ¸ì›Œí¬ ë¶€í•˜ì™€ ì²˜ë¦¬ ì‹œê°„ë„ ì¦ê°€í•©ë‹ˆë‹¤. 16ê°œì˜ ìƒ˜í”Œì€ ë‹¤ìŒì„ ê³ ë ¤í•œ ê· í˜•ì ì…ë‹ˆë‹¤:\n    \n    - ë„¤íŠ¸ì›Œí¬ ë¶€í•˜ ìµœì†Œí™”\n        \n    - ì¶©ë¶„í•œ ë³´ì•ˆ ë ˆë²¨ ì œê³µ\n        \n    - ê²½ëŸ‰ ë…¸ë“œì— ì í•©í•œ ê³„ì‚° ë¶€ë‹´\n        \n3. **ë„¤íŠ¸ì›Œí¬ ì „ì²´ì˜ ì§‘ë‹¨ì  ê²€ì¦**:  \n    ê°œë³„ ë…¸ë“œëŠ” 16ê°œ ìƒ˜í”Œë§Œ ê²€ì‚¬í•˜ì§€ë§Œ, ìˆ˜ì²œ ê°œì˜ ë…¸ë“œê°€ ê°ê° ë‹¤ë¥¸ ë¬´ì‘ìœ„ ìƒ˜í”Œì„ ê²€ì‚¬í•¨ìœ¼ë¡œì¨ ë„¤íŠ¸ì›Œí¬ ì „ì²´ì ìœ¼ë¡œëŠ” ëª¨ë“  ë°ì´í„°ê°€ ê²€ì¦ë©ë‹ˆë‹¤.\n    \n\n#### ì‹¤ì œ ë³´ì•ˆì„±\n\nì‹¤ì œ Celestia ë„¤íŠ¸ì›Œí¬ì—ì„œëŠ” ê³µê²©ìê°€ ë°ì´í„°ì˜ ì‘ì€ ë¶€ë¶„ë§Œ ìˆ¨ê¸°ë”ë¼ë„, ì¶©ë¶„í•œ ìˆ˜ì˜ ë…¸ë“œê°€ ìƒ˜í”Œë§ì„ ìˆ˜í–‰í•˜ë©´ ë†’ì€ í™•ë¥ ë¡œ íƒì§€ë©ë‹ˆë‹¤. ì—¬ëŸ¬ ë…¸ë“œì—ì„œ ê°ê° 16ê°œì˜ ìƒ˜í”Œì„ ì·¨í•˜ë©´, ë„¤íŠ¸ì›Œí¬ ì „ì²´ì ìœ¼ë¡œëŠ” í›¨ì”¬ ë” ë†’ì€ ë³´ì•ˆì„±ì„ ë‹¬ì„±í•©ë‹ˆë‹¤.\n\në”°ë¼ì„œ 16ê°œì˜ ìƒ˜í”Œì€ ë‹¨ì¼ ë¼ì´íŠ¸ ë…¸ë“œì—ì„œ ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì„±ê³¼ ì ì ˆí•œ ë³´ì•ˆì„±ì„ ê· í˜• ìˆê²Œ ì œê³µí•˜ëŠ” ìˆ˜ì¹˜ì´ë©°, ë„¤íŠ¸ì›Œí¬ ì „ì²´ì ìœ¼ë¡œëŠ” ë§¤ìš° ë†’ì€ ìˆ˜ì¤€ì˜ ë°ì´í„° ê°€ìš©ì„± ë³´ì¥ì„ ì œê³µí•©ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 4,
    "wordCount": 692,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "celestia-node-file-íŒ¨í‚¤ì§€-ë¶„ì„",
    "slug": "celestia-node-file-paekiji-bunseog",
    "path": "blockchain/celestia",
    "fullPath": "blockchain/celestia/celestia-node-file-paekiji-bunseog",
    "title": "celestia-node 'file' íŒ¨í‚¤ì§€ ë¶„ì„",
    "excerpt": "celestia-node 'file' íŒ¨í‚¤ì§€ ë¶„ì„ Celestia-node repositoryì˜ íŒ¨í‚¤ì§€ëŠ” Exten Data Square(EDS)ë¼ëŠ” ë°ì´í„° êµ¬ì¡°ë¥¼ íŒŒì¼ ì‹œìŠ¤í…œì— íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ì ‘ê·¼í•˜ê¸° ìœ„í•œ êµ¬í˜„ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ íŒ¨í‚¤...",
    "content": "# celestia-node 'file' íŒ¨í‚¤ì§€ ë¶„ì„\n\nCelestia-node repositoryì˜ `store/file` íŒ¨í‚¤ì§€ëŠ” Exten Data Square(EDS)ë¼ëŠ” ë°ì´í„° êµ¬ì¡°ë¥¼ íŒŒì¼ ì‹œìŠ¤í…œì— íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ì ‘ê·¼í•˜ê¸° ìœ„í•œ êµ¬í˜„ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ íŒ¨í‚¤ì§€ëŠ” ë°ì´í„°ì˜ ë¬´ê²°ì„±ê³¼ ë³µêµ¬ ê°€ëŠ¥ì„±ì„ ë³´ì¥í•˜ë©´ì„œë„ ë””ìŠ¤í¬ ê³µê°„ì„ ìµœì í™”í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n## í•µì‹¬ ê°œë…\n\n1. **Original Data Square (ODS)**: ë¸”ë¡ì²´ì¸ì˜ íŠ¸ëœì­ì…˜ ë°ì´í„°ë¥¼ ì •ì‚¬ê°í˜• í˜•íƒœë¡œ ë°°ì—´í•œ ê²ƒìœ¼ë¡œ, EDSì˜ ì²« ë²ˆì§¸ ì‚¬ë¶„ë©´(Q1)ì„ êµ¬ì„±í•©ë‹ˆë‹¤.\n2. **Extended Data Square (EDS)**: ODSì— Reed-Solomon ì¸ì½”ë”©ì„ ì ìš©í•˜ì—¬ í™•ì¥ëœ 2D ë°ì´í„° êµ¬ì¡°ì…ë‹ˆë‹¤. ì´ 4ê°œì˜ ì‚¬ë¶„ë©´ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\n3. **Q4**: EDSì˜ ë„¤ ë²ˆì§¸ ì‚¬ë¶„ë©´ìœ¼ë¡œ, í–‰ê³¼ ì—´ ëª¨ë‘ì— íŒ¨ë¦¬í‹°ê°€ ì ìš©ëœ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.\n4. **Share**: ë°ì´í„°ì˜ ê¸°ë³¸ ë‹¨ìœ„ë¡œ, ê³ ì • í¬ê¸°ì˜ ë°”ì´íŠ¸ ë°°ì—´ì…ë‹ˆë‹¤.\n\n## ì €ì¥ ì „ëµê³¼ ê³µê°„ íš¨ìœ¨ì„±\n\nCelestiaëŠ” ì €ì¥ ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ ì €ì¥ ì „ëµì„ ì‚¬ìš©í•©ë‹ˆë‹¤:\n\n1. **ODSë§Œ ì €ì¥**: íŠ¸ëœì­ì…˜ ë°ì´í„°(ODS)ë§Œ ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, EDS ì „ì²´ í¬ê¸°ì˜ ì•½ 1/4ì— í•´ë‹¹í•˜ëŠ” ì €ì¥ ê³µê°„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì˜¤ë˜ëœ ë¸”ë¡ì´ë‚˜ ì•„ì¹´ì´ë¸Œ ëª©ì ì˜ ì €ì¥ì— ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n2. **ODSQ4 ì €ì¥**: ODSì™€ Q4 ì‚¬ë¶„ë©´ì„ í•¨ê»˜ ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, EDS ì „ì²´ í¬ê¸°ì˜ ì•½ 1/2ì— í•´ë‹¹í•˜ëŠ” ì €ì¥ ê³µê°„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ê°€ìš©ì„± ìœˆë„ìš°(availability window) ë‚´ì˜ ìµœê·¼ ë¸”ë¡ì— ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ë°ì´í„° ì ‘ê·¼ íŒ¨í„´ì—ì„œ ê³„ì‚° íš¨ìœ¨ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.\n\nê°€ìš©ì„± ìœˆë„ìš°ëŠ” ë°ì´í„° ê°€ìš©ì„± ê²€ì¦ì´ ë” ì¤‘ìš”í•œ ìµœê·¼ ë¸”ë¡ë“¤ì„ êµ¬ë¶„í•˜ëŠ” ì‹œê°„ì  ê²½ê³„ë¡œ, ì´ ê¸°ê°„ ë‚´ì˜ ë¸”ë¡ì€ ODSQ4 ë°©ì‹ìœ¼ë¡œ, ê·¸ ì™¸ì˜ ë¸”ë¡ì€ ODS ë°©ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.\n\n## í•µì‹¬ êµ¬ì„±ìš”ì†Œì™€ ê¸°ëŠ¥\n\në‹¤ìŒì€ íŒ¨í‚¤ì§€ì˜ ì£¼ìš” êµ¬ì¡°ì²´ì™€ ê·¸ ê´€ê³„ë¥¼ mermaid ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ ì •ë¦¬í•œ ê²ƒì…ë‹ˆë‹¤:\n\n```mermaid\nclassDiagram\n    class ODS {\n        -headerV0 hdr\n        -os.File fl\n        -sync.RWMutex lock\n        -square ods\n        -bool disableCache\n        +Size(context.Context) int\n        +DataHash(context.Context) (share.DataHash, error)\n        +AxisRoots(context.Context) (*share.AxisRoots, error)\n        +Close() error\n        +Sample(context.Context, shwap.SampleCoords) (shwap.Sample, error)\n        +AxisHalf(context.Context, rsmt2d.Axis, int) (eds.AxisHalf, error)\n        +RowNamespaceData(context.Context, libshare.Namespace, int) (shwap.RowNamespaceData, error)\n        +Shares(context.Context) ([]libshare.Share, error)\n        +Reader() (io.Reader, error)\n    }\n\n    class q4 {\n        -headerV0 hdr\n        -os.File file\n        +close() error\n        +axisHalf(rsmt2d.Axis, int) (eds.AxisHalf, error)\n    }\n\n    class ODSQ4 {\n        -ODS ods\n        -string pathQ4\n        -sync.Mutex q4Mu\n        -atomic.Bool q4OpenAttempted\n        -q4 q4\n        +Size(context.Context) int\n        +DataHash(context.Context) (share.DataHash, error)\n        +AxisRoots(context.Context) (*share.AxisRoots, error)\n        +Sample(context.Context, shwap.SampleCoords) (shwap.Sample, error)\n        +AxisHalf(context.Context, rsmt2d.Axis, int) (eds.AxisHalf, error)\n        +RowNamespaceData(context.Context, libshare.Namespace, int) (shwap.RowNamespaceData, error)\n        +Shares(context.Context) ([]libshare.Share, error)\n        +Reader() (io.Reader, error)\n        +Close() error\n    }\n\n    class square {\n        +reader() (io.Reader, error)\n        +size() int\n        +shares() ([]libshare.Share, error)\n        +axisHalf(rsmt2d.Axis, int) (eds.AxisHalf, error)\n        +computeAxisHalf(rsmt2d.Axis, int) (eds.AxisHalf, error)\n    }\n\n    class headerV0 {\n        -fileVersion fileVersion\n        -uint16 shareSize\n        -uint16 squareSize\n        -share.DataHash datahash\n        +SquareSize() int\n        +ShareSize() int\n        +Size() int\n        +RootsSize() int\n        +OffsetWithRoots() int\n        +WriteTo(io.Writer) (int64, error)\n        +ReadFrom(io.Reader) (int64, error)\n    }\n\n    class Codec {\n        <<interface>>\n        +Encoder(int) (reedsolomon.Encoder, error)\n    }\n\n    class codecCache {\n        -sync.Map cache\n        +Encoder(int) (reedsolomon.Encoder, error)\n    }\n\n    ODS --* headerV0 : contains\n    ODS --* square : caches\n    q4 --* headerV0 : contains\n    ODSQ4 --* ODS : contains\n    ODSQ4 --* q4 : contains\n    codecCache ..|> Codec : implements\n```\n\n## ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ìƒì„¸ ì„¤ëª…\n\n### 1. headerV0 (header.go)\n- íŒŒì¼ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” êµ¬ì¡°ì²´ì…ë‹ˆë‹¤.\n- íŒŒì¼ ë²„ì „, share í¬ê¸°, square í¬ê¸°, ë°ì´í„° í•´ì‹œ ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤.\n- íŒŒì¼ ì½ê¸°/ì“°ê¸° ì‘ì—…ì— í•„ìš”í•œ ë©”íƒ€ë°ì´í„°ë¥¼ ì œê³µí•˜ë©°, íŒŒì¼ í˜•ì‹ì˜ ë²„ì „ ê´€ë¦¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.\n\n### 2. ODS (ods.go)\n- Original Data Square(ODS)ë¥¼ íŒŒì¼ ì‹œìŠ¤í…œì— ì €ì¥í•˜ê³  ì ‘ê·¼í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n- EDSì˜ ì²« ë²ˆì§¸ ì‚¬ë¶„ë©´(Q1)ì„ ì €ì¥í•˜ë©°, íŒŒì¼ í—¤ë”ì— ë©”íƒ€ë°ì´í„°ë¥¼ í•¨ê»˜ ì €ì¥í•©ë‹ˆë‹¤.\n- ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ë©”ëª¨ë¦¬ ìºì‹± ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ë°˜ë³µì ì¸ íŒŒì¼ I/Oë¥¼ ì¤„ì…ë‹ˆë‹¤.\n- `eds.AccessorStreamer` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ í‘œì¤€í™”ëœ ë°ì´í„° ì ‘ê·¼ ë°©ì‹ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n### 3. q4 (q4.go)\n- EDSì˜ ë„¤ ë²ˆì§¸ ì‚¬ë¶„ë©´(Q4)ì„ íŒŒì¼ ì‹œìŠ¤í…œì— ì €ì¥í•˜ê³  ì ‘ê·¼í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n- Q4ëŠ” ë°ì´í„° ë³µêµ¬ë‚˜ íŠ¹ì • ìœ í˜•ì˜ ì¿¼ë¦¬(íŠ¹íˆ Q2, Q4 ì‚¬ë¶„ë©´ ìƒ˜í”Œë§)ì— íš¨ìœ¨ì ìœ¼ë¡œ í™œìš©ë©ë‹ˆë‹¤.\n- íŒŒì¼ì˜ í¬ê¸° ê²€ì¦ ë° ì˜¤ë¥˜ ì²˜ë¦¬ ê¸°ëŠ¥ì„ í¬í•¨í•©ë‹ˆë‹¤.\n\n### 4. ODSQ4 (ods_q4.go)\n- ODSì™€ Q4ë¥¼ ê²°í•©í•˜ì—¬ íš¨ìœ¨ì ì¸ ë°ì´í„° ì ‘ê·¼ì„ ì œê³µí•©ë‹ˆë‹¤.\n- ì²« ë²ˆì§¸ ìš”ì²­ ì‹œ Q4 íŒŒì¼ì„ ì§€ì—° ë¡œë”©(lazy loading)í•˜ì—¬ ì´ˆê¸° ë¡œë”© ì‹œê°„ê³¼ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ìµœì í™”í•©ë‹ˆë‹¤.\n- ìƒ˜í”Œë§ ì‘ì—…ì´ë‚˜ íŠ¹ì • í–‰/ì—´ ì ‘ê·¼ ì‹œ ê³„ì‚° íš¨ìœ¨ì„±ì„ ë†’ì—¬ì¤ë‹ˆë‹¤.\n- `eds.AccessorStreamer` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ODSì™€ ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\n### 5. square (square.go)\n- ë°ì´í„° squareë¥¼ í‘œí˜„í•˜ëŠ” 2ì°¨ì› ë°°ì—´ êµ¬ì¡°ì²´ì…ë‹ˆë‹¤.\n- shareì˜ í–‰ê³¼ ì—´ì— ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n- í•„ìš”í•œ ë°ì´í„°ë¥¼ ê³„ì‚°í•˜ê±°ë‚˜ ë³µêµ¬í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤.\n- ë³‘ë ¬ ì²˜ë¦¬ë¥¼ í†µí•´ ë°ì´í„° ë³µêµ¬ ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.\n\n### 6. Codec/codecCache (codec.go)\n- Reed-Solomon ì¸ì½”ë”©ì„ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì„ ì œê³µí•©ë‹ˆë‹¤.\n- `reedsolomon.New(ln/2, ln/2, reedsolomon.WithLeopardGF(true))` í˜•íƒœë¡œ ì¸ì½”ë”ë¥¼ ìƒì„±í•˜ì—¬ ë°ì´í„°ì˜ ì•½ 25%ë§Œìœ¼ë¡œë„ ì „ì²´ ë³µêµ¬ê°€ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.\n- ì¸ì½”ë”ë¥¼ ìºì‹±í•˜ì—¬ ë°˜ë³µì ì¸ ìƒì„± ë¹„ìš©ì„ ì¤„ì´ê³  ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.\n\n## í•µì‹¬ ê¸°ëŠ¥\n\n1. **ë°ì´í„° ì €ì¥**: EDSì˜ ì¼ë¶€(ODSì™€ ì„ íƒì ìœ¼ë¡œ Q4)ë¥¼ íŒŒì¼ ì‹œìŠ¤í…œì— íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.\n2. **ë°ì´í„° ì ‘ê·¼**: ì €ì¥ëœ ë°ì´í„°ì— ë‹¤ì–‘í•œ ë°©ì‹(í–‰, ì—´, ìƒ˜í”Œ ë“±)ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” APIë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n3. **ë°ì´í„° ë³µêµ¬**: Reed-Solomon ì¸ì½”ë”©ì„ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ ê²½ìš° ëˆ„ë½ëœ ë°ì´í„°ë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆìœ¼ë©°, EDS ì „ì²´ì˜ ì•½ 25%ë§Œìœ¼ë¡œë„ ë³µêµ¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n4. **ìµœì í™”ëœ I/O**: ë²„í¼ë§, ìºì‹±, ì§€ì—° ë¡œë”© ë“±ì„ í†µí•´ íŒŒì¼ I/O ì‘ì—…ì„ ìµœì í™”í•©ë‹ˆë‹¤.\n5. **ë¬´ê²°ì„± ê²€ì¦**: ë°ì´í„° í•´ì‹œì™€ í¬ê¸° ê²€ì¦ì„ í†µí•´ íŒŒì¼ì˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.\n\n## ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ\n\nCelestia ë„¤íŠ¸ì›Œí¬ì—ì„œ ì´ íŒ¨í‚¤ì§€ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ í™œìš©ë©ë‹ˆë‹¤:\n\n1. **ë¸”ë¡ ë°ì´í„° ì €ì¥**: ìƒˆë¡œìš´ ë¸”ë¡ì´ ê²€ì¦ë˜ë©´, ë…¸ë“œëŠ” ë¸”ë¡ ë°ì´í„°ë¥¼ EDSë¡œ í™•ì¥í•œ í›„ ì €ì¥ ì „ëµì— ë”°ë¼ ODS ë˜ëŠ” ODSQ4 í˜•íƒœë¡œ ì €ì¥í•©ë‹ˆë‹¤.\n\n   ```go\n   // ê°€ìš©ì„± ìœˆë„ìš° ë‚´ì˜ ë¸”ë¡ì€ ODSì™€ Q4 ëª¨ë‘ ì €ì¥\n   if availability.IsWithinWindow(eh.Time(), availability.StorageWindow) {\n       err = store.PutODSQ4(ctx, eh.DAH, eh.Height(), eds)\n   } else {\n       // ê·¸ ì™¸ ë¸”ë¡ì€ ODSë§Œ ì €ì¥í•˜ì—¬ ê³µê°„ ì ˆì•½\n       err = store.PutODS(ctx, eh.DAH, eh.Height(), eds)\n   }\n   ```\n\n2. **ë°ì´í„° ê°€ìš©ì„± ìƒ˜í”Œë§(DAS)**: ë‹¤ë¥¸ ë…¸ë“œë¡œë¶€í„° ë¸”ë¡ ë°ì´í„°ì˜ íŠ¹ì • ìƒ˜í”Œì„ ìš”ì²­ë°›ìœ¼ë©´, ì €ì¥ëœ ODS ë˜ëŠ” ODSQ4ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ëœ ìƒ˜í”Œì„ íš¨ìœ¨ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.\n\n3. **ë°ì´í„° ë³µêµ¬**: ëˆ„ë½ëœ ë¸”ë¡ ë°ì´í„°ê°€ ìˆì„ ê²½ìš°, ë„¤íŠ¸ì›Œí¬ì˜ ë‹¤ë¥¸ ë…¸ë“œë¡œë¶€í„° ì¶©ë¶„í•œ ìƒ˜í”Œì„ ìˆ˜ì§‘í•˜ì—¬ Reed-Solomon ì¸ì½”ë”©ì„ í†µí•´ ì „ì²´ EDSë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ íŒ¨í‚¤ì§€ëŠ” Celestiaì˜ ë°ì´í„° ê°€ìš©ì„± ë ˆì´ì–´ì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œë¡œ, ë¸”ë¡ì²´ì¸ì˜ ë°ì´í„° í™•ì¥ì„± ë¬¸ì œë¥¼ í•´ê²°í•˜ë©´ì„œë„ ë°ì´í„°ì˜ ê°€ìš©ì„±ê³¼ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ëŠ” ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 5,
    "wordCount": 847,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ë¹„íŠ¸ì½”ì¸-nftì™€-brc-20-ft",
    "slug": "biteukoin-nftwa-brc-20-ft",
    "path": "blockchain/bitcoin",
    "fullPath": "blockchain/bitcoin/biteukoin-nftwa-brc-20-ft",
    "title": "ë¹„íŠ¸ì½”ì¸ NFTì™€ BRC-20(FT)",
    "excerpt": "ë¹„íŠ¸ì½”ì¸ NFTì™€ BRC-20(FT) ì—°ì´ˆì— ë¹„íŠ¸ì½”ì¸ì—ì„œ ë°œí–‰ì´ ê°€ëŠ¥í•´ì¡Œë‹¤ëŠ” ë‰´ìŠ¤ê°€ ë‚˜ì™”ë‹¤. ìµœê·¼ì—ëŠ” íŠ¸ëœì­ì…˜ ê¸‰ì¦ìœ¼ë¡œ ë¹„íŠ¸ì½”ì¸ ë„¤íŠ¸ì›Œí¬ê°€ í˜¼ì¡í•´ì§€ê³  ìˆë‹¤. ë³¸ ê¸€ì—ì„œëŠ” ë‹¨ìˆœí–ˆë˜ ë¹„íŠ¸ì½”ì¸ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì–´ë–»ê²Œ ì´ë”ë¦¬ì›€ê°™ì€ , `NF...",
    "content": "# ë¹„íŠ¸ì½”ì¸ NFTì™€ BRC-20(FT)\n\nì—°ì´ˆì— ë¹„íŠ¸ì½”ì¸ì—ì„œ `NFT` ë°œí–‰ì´ ê°€ëŠ¥í•´ì¡Œë‹¤ëŠ” ë‰´ìŠ¤ê°€ ë‚˜ì™”ë‹¤. ìµœê·¼ì—ëŠ” `brc-20` íŠ¸ëœì­ì…˜ ê¸‰ì¦ìœ¼ë¡œ ë¹„íŠ¸ì½”ì¸ ë„¤íŠ¸ì›Œí¬ê°€ í˜¼ì¡í•´ì§€ê³  ìˆë‹¤.\në³¸ ê¸€ì—ì„œëŠ” ë‹¨ìˆœí–ˆë˜ ë¹„íŠ¸ì½”ì¸ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì–´ë–»ê²Œ ì´ë”ë¦¬ì›€ê°™ì€ `FT`, `NFT`ë¥¼ ë°œí–‰í•  ìˆ˜ ìˆì—ˆëŠ”ì§€ ì •ë¦¬í•œë‹¤.\n\n## ë¹„íŠ¸ì½”ì¸ì—ì„œì˜ Ordinals Protocal (ì„œìˆ˜ì²´ê³„) ë„ì…ê³¼ ë¹„íŠ¸ì½”ì¸ NFTì˜ ì¶œí˜„\n\n[Ordinal Numbers](https://github.com/casey/ord/blob/master/bip.mediawiki)ì˜ ì œì•ˆ ë™ê¸°ëŠ” ë¹„íŠ¸ì½”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ë  ìˆ˜ë„ ìˆëŠ” ì•ˆì •ì ì¸ ì‹ë³„ìë¥¼ ì œê³µí•˜ê¸° ìœ„í•¨ì´ë¼ê³  í•˜ëŠ”ë°, ì´ëŠ” ë¹„íŠ¸ì½”ì¸ ì£¼ì†Œ ì²´ê³„ ìƒ ì•ˆì •ì ìœ¼ë¡œ ì‚¬ìš©í•  ë§Œí•œ ê³µê°œ ì‹ ì› ì •ë³´ê°€ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\nì„œìˆ˜ì²´ê³„ ë„ì…ì„ ìœ„í•´ ëª¨ë“  ì‚¬í† ì‹œë¥¼ ì±„êµ´ëœ ìˆœì„œë¡œ ì¼ë ¨ë²ˆí˜¸ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì´ ìˆ«ìë¥¼ ì„œìˆ˜, `ordinal number`ë¡œ ë¶€ë¦…ë‹ˆë‹¤. êµ¬ì²´ì ì¸ ì•Œê³ ë¦¬ì¦˜ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì´ ì½”ë“œëŠ” ë¸”ë¡ì²´ì¸ì—ì„œ ìƒˆ ë¸”ë¡ì˜ ì±„êµ´ ë³´ìƒì„ ê³„ì‚°í•˜ê³ , í•´ë‹¹ ë¸”ë¡ì— ì†í•œ íŠ¸ëœì­ì…˜ì˜ ì¶œë ¥ê°’ì— ì¼ë ¨ë²ˆí˜¸(ordinal)ë¥¼ ë¶€ì—¬í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\n```python\n# subsidy í•¨ìˆ˜ëŠ” ë¸”ë¡ì˜ ë†’ì´(height)ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ ê·¸ ë†’ì´ì— í•´ë‹¹í•˜ëŠ” ë¸”ë¡ì˜ ì±„êµ´ ë³´ìƒì„ ê³„ì‚°í•©ë‹ˆë‹¤. \n# ë¹„íŠ¸ì½”ì¸ì˜ ê²½ìš°, ì±„êµ´ ë³´ìƒì€ 50 BTCë¡œ ì‹œì‘í•˜ì—¬ 210,000 ë¸”ë¡ë§ˆë‹¤ ì ˆë°˜ìœ¼ë¡œ ì¤„ì–´ë“¤ê¸° ë•Œë¬¸ì—, ì´ í•¨ìˆ˜ëŠ” ë†’ì´ì— ë”°ë¥¸ ë³´ìƒì„ ê³„ì‚°í•˜ê¸° ìœ„í•´ ì´ëŸ¬í•œ ìˆ˜ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\ndef subsidy(height):\n  return 50 * 100_000_000 >> height // 210_000\n\n# first_ordinal í•¨ìˆ˜ëŠ” ë¸”ë¡ì˜ ë†’ì´ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ í•´ë‹¹ ë†’ì´ì˜ ì²« ë²ˆì§¸ íŠ¸ëœì­ì…˜ ì¶œë ¥ê°’ì— í• ë‹¹ë  ì¼ë ¨ë²ˆí˜¸ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. \n# ì´ í•¨ìˆ˜ëŠ” ì´ì „ ë¸”ë¡ì˜ ëª¨ë“  ì¶œë ¥ê°’ì— ëŒ€í•œ ì¼ë ¨ë²ˆí˜¸ë¥¼ ë”í•˜ê³  ë¸”ë¡ì˜ ì±„êµ´ ë³´ìƒì„ ë”í•˜ì—¬ êµ¬í•©ë‹ˆë‹¤.\ndef first_ordinal(height):\n  start = 0\n  for height in range(height):\n    start += subsidy(height)\n  return start\n\n# assign_ordinals í•¨ìˆ˜ëŠ” ë¸”ë¡ì„ ì…ë ¥ìœ¼ë¡œ ë°›ì•„, ê° íŠ¸ëœì­ì…˜ ì¶œë ¥ê°’ì— ì¼ë ¨ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•©ë‹ˆë‹¤. \n# ì´ í•¨ìˆ˜ëŠ” ë¨¼ì € ë¸”ë¡ ì±„êµ´ ë³´ìƒì— ëŒ€í•œ ì¼ë ¨ë²ˆí˜¸ë¥¼ ê³„ì‚°í•˜ê³ , ì´ì–´ì„œ ë¸”ë¡ ë‚´ì˜ ëª¨ë“  íŠ¸ëœì­ì…˜ì— ëŒ€í•´ ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. \n# ê° íŠ¸ëœì­ì…˜ì˜ ì…ë ¥ê°’ì—ì„œ ì¼ë ¨ë²ˆí˜¸ë¥¼ ê°€ì ¸ì™€ ì¶œë ¥ê°’ì— í• ë‹¹í•˜ê³ , ì¶œë ¥ê°’ì— ì¼ë ¨ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•©ë‹ˆë‹¤. \n# ë§ˆì§€ë§‰ìœ¼ë¡œ, ì±„êµ´ ë³´ìƒ ì¶œë ¥ê°’ì— ì¼ë ¨ë²ˆí˜¸ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤. \n# ì´ëŸ¬í•œ ê³¼ì •ì„ í†µí•´ ë¸”ë¡ ë‚´ì˜ ëª¨ë“  ì¶œë ¥ê°’ì— ì¼ë ¨ë²ˆí˜¸ê°€ ë¶€ì—¬ë©ë‹ˆë‹¤.\ndef assign_ordinals(block):\n  first = first_ordinal(block.height)\n  last = first + subsidy(block.height)\n  coinbase_ordinals = list(range(first, last))\n\n  for transaction in block.transactions[1:]:\n    ordinals = []\n    for input in transaction.inputs:\n      ordinals.extend(input.ordinals)\n\n    for output in transaction.outputs:\n      output.ordinals = ordinals[:output.value]\n      del ordinals[:output.value]\n\n    coinbase_ordinals.extend(ordinals)\n\n  for output in block.transaction[0].outputs:\n    output.ordinals = coinbase_ordinals[:output.value]\n    del coinbase_ordinals[:output.value]\n```\n\n<br/>\n\nì—¬ê¸°ì— ë”í•´ inscriptionì´ ì ìš©ë˜ë©´ì„œ ordinal inscriptionì€ NFTì™€ ìœ ì‚¬í•œ ë””ì§€í„¸ ìì‚°ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ì˜ NFTëŠ” ìŠ¤ë§ˆíŠ¸ì²´ì¸ ë˜ëŠ” ì‚¬ì´ë“œì²´ì¸ì˜ ì»¨íŠ¸ë™íŠ¸ë¥¼ í†µí•´ í˜¸ìŠ¤íŒ… ë˜ì—ˆì§€ë§Œ, ë¹„íŠ¸ì½”ì¸ NFTëŠ” ì‚¬í† ì‹œì— ë°”ì¸ë”© ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì‚¬ì´ë“œ ì²´ì¸ì´ë‚˜ ë³„ë„ì˜ í† í°ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nOrdinalsëŠ” ë‹¨ìˆœíˆ ê°€ì¹˜ ì´ì „ë§Œ ì œê³µí•˜ë˜ ë¹„íŠ¸ì½”ì¸ ë„¤íŠ¸ì›Œí¬ì˜ ìƒˆë¡œìš´ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ìµœê·¼ íŠ¸ëœì­ì…˜ì´ ëŠ˜ì–´ë‚˜ë©´ì„œ ë„¤íŠ¸ì›Œí¬ ë¹„ìš©ì´ ì¦ê°€í•˜ê³  ê¸°ì¡´ ë¹„íŠ¸ì½”ì¸ì˜ ë‹¨ìˆœì„±ì„ í›¼ì†í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆëƒëŠ” ì§€ì ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ Ordinalsì˜ ì§€ì§€ìë“¤ì€ ë¯¸ë˜ì— ë¸”ë¡ ë³´ìƒì´ ê°ì†Œí•˜ë”ë¼ë„ ë„¤íŠ¸ì›Œí¬ ìˆ˜ìˆ˜ë£Œê°€ ë¹„íŠ¸ì½”ì¸ì— ëŒ€í•œ í•´ì‹œ íŒŒì›Œë¥¼ ì•½ì†í•˜ëŠ” ì£¼ìš” ì¸ì„¼í‹°ë¸Œê°€ ë  ìˆ˜ ìˆë‹¤ê³  ì£¼ì¥í•©ë‹ˆë‹¤.\n\n## BRC-20ì˜ ë“±ì¥\n\nì•ì„œ ì„¤ëª…í•œ ì„œìˆ˜ì˜ ë“±ì¥ê³¼ íƒ­ë£¨íŠ¸ ì—…ê·¸ë ˆì´ë“œë¥¼ í†µí•´ì„œ ë¹„íŠ¸ì½”ì¸ ë¸”ë¡ì²´ì¸ì—ì„œ NFT ë°œí–‰ì´ ê°€ëŠ¥í•´ì¡Œê³ , ìµœê·¼ ì´ë¥¼ ì´ìš©í•œ BRC-20ì´ ë“±ì¥í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. BRC-20ì„ ì œì•ˆí•œ `domo`ê°€ ë°í˜”ë“¯ì´, BRC-20ì€ inscriptionsë¥¼ í™œìš©í•œ ì‹¤í—˜ì´ë©° ì•„ì§ ì§„ì§€í•˜ê²Œ ë°›ì•„ë“¤ì¼ ë§Œí•œ ê³µì‹ í‘œì¤€ì´ ì•„ë‹™ë‹ˆë‹¤. BRC-20ì˜ ê¸°ë³¸ì ì¸ ëª©ì ì€ ì„œìˆ˜ ì´ë¡ ì„ í†µí•´ ë¹„íŠ¸ì½”ì¸ì— fungibilityë¥¼ ë„ì…í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [ë‹¤ìŒ ë¬¸ì„œ](https://domo-2.gitbook.io/brc-20-experiment/)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## ì°¸ê³ \n\n1. [ë¹„íŠ¸ì½”ì¸ ì„œìˆ˜ì™€ NFT - ë°”ì´ë‚¸ìŠ¤ ì•„ì¹´ë°ë¯¸](https://academy.binance.com/en/articles/what-are-ordinals-an-overview-of-bitcoin-nfts)\n2. [BRC-20 - domo](https://domo-2.gitbook.io/brc-20-experiment/)\n3. [BRC-20 í† í° - ë°”ì´ë‚¸ìŠ¤ ì•„ì¹´ë°ë¯¸](https://academy.binance.com/cs/glossary/brc-20-tokens)\n4. [Ordinal Numbers bip.memiawiki](https://github.com/casey/ord/blob/master/bip.mediawiki)\n5. [Ordinal Theory document](https://docs.ordinals.com/overview.html)\n6. [Bitcoin Taproot - ë°”ì´ë‚¸ìŠ¤ ì•„ì¹´ë°ë¯¸](https://academy.binance.com/en/articles/what-is-taproot-and-how-it-will-benefit-bitcoin)",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 3,
    "wordCount": 472,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "spv-simplified-payment-verification",
    "slug": "spv-simplified-payment-verification",
    "path": "blockchain/bitcoin",
    "fullPath": "blockchain/bitcoin/spv-simplified-payment-verification",
    "title": "SPV (Simplified Payment Verification)",
    "excerpt": "SPV (Simplified Payment Verification) SPVë€? ê±°ë˜ì— ëŒ€í•œ ëª¨ë“  ë¸”ë¡ì²´ì¸ì„ ì €ì¥í•˜ì§€ ì•Šê³ ë„ íŠ¸ëœì­ì…˜ì„ ê²€ì¦í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë¼ì´íŠ¸ ì›¨ì´íŠ¸ ë…¸ë“œ ë˜ëŠ” ê²½ëŸ‰ë…¸ë“œë¼ê³ ë„ ë¶ˆë¦½ë‹ˆë‹¤. íŠ¹ì§• ë¸”ë¡ì²´ì¸ì˜ ì‚¬ë³¸ì„ ë³´ê´€í•˜ì§€ ì•Š...",
    "content": "# SPV (Simplified Payment Verification)\n\n## SPVë€?\n\nê±°ë˜ì— ëŒ€í•œ ëª¨ë“  ë¸”ë¡ì²´ì¸ì„ ì €ì¥í•˜ì§€ ì•Šê³ ë„ íŠ¸ëœì­ì…˜ì„ ê²€ì¦í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë¼ì´íŠ¸ ì›¨ì´íŠ¸ ë…¸ë“œ ë˜ëŠ” ê²½ëŸ‰ë…¸ë“œë¼ê³ ë„ ë¶ˆë¦½ë‹ˆë‹¤.\n\n## íŠ¹ì§•\n\n-   ë¸”ë¡ì²´ì¸ì˜ ì‚¬ë³¸ì„ ë³´ê´€í•˜ì§€ ì•Šê³  íŠ¸ëœì­ì…˜ ê²€ì¦ê³¼ì •ì—ë„ ì°¸ì—¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆì— ê¸°ì—¬í•˜ì§€ ì•ŠëŠ”ë‹¤\n-   ê·¸ëŸ¬ë¯€ë¡œ ë‹¤ë¥¸ í’€ë…¸ë“œ ì •ë³´ì— ì˜ì¡´í•˜ì—¬ ê±°ë˜ë¥¼ ì§„í–‰í•œë‹¤\n-   ë¸”ë¡ í—¤ë” êµ¬ì„±\n    -   ë²„ì „: 4ë°”ì´íŠ¸\n    -   ì´ì „ ë¸”ë¡í•´ì‹œ : 32ë°”ì´íŠ¸\n    -   ë¨¸í´ë£¨íŠ¸ í•´ì‹œ : 32ë°”ì´íŠ¸\n    -   ë¸”ë¡ ì‹œê°„ : 4ë°”ì´íŠ¸\n    -   ë¹„ì¸  : 4ë°”ì´íŠ¸\n    -   ë…¼ìŠ¤ê°’ : 4ë°”ì´íŠ¸ë¡œ êµ¬ì„±ë˜ì–´ìˆìœ¼ë©°, ì´ 80ë°”ì´íŠ¸ë¡œ, 1ë…„ ë™ì•ˆ ë°œìƒí•˜ëŠ” 52,560ê°œì˜ ë¸”ë¡ í—¤ë” ìš©ëŸ‰ì´ 4MB ì •ë„ì´ë‹ˆ í˜„ì¬ 150GBë¥¼ ë„˜ê¸´ í’€ ë…¸ë“œì— ë¹„í•´ ë§¤ìš° ê°€ë³ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.\n\n## ì›ë¦¬\n\n![merkle-root](https://miro.medium.com/v2/resize:fit:720/format:webp/0*ZLrIO_B67108JStC.jpg)\n\nê±°ë˜3ê°€ ë¸”ë¡ì— ì‹¤ë ¸ëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´, ë¸”ë¡ ìƒì„± ì‹œë§ˆë‹¤ í•´ë‹¹ ë¸”ë¡ì˜ ë¨¸í´ë£¨íŠ¸ íšë“ì— í•„ìš”í•œ í•´ì‹œë“¤ë§Œ ê°€ì ¸ì˜¤ë©´ ëœë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 118,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "bitcoin-segwit",
    "slug": "bitcoin-segwit",
    "path": "blockchain/bitcoin",
    "fullPath": "blockchain/bitcoin/bitcoin-segwit",
    "title": "Bitcoin Segwit",
    "excerpt": "Bitcoin Segwit ë¹„íŠ¸ì½”ì¸ì—ì„œ, ê±°ë˜ëŠ” ì…ë ¥(inputs)ê³¼ ì¶œë ¥(outputs)ì„ í¬í•¨í•©ë‹ˆë‹¤. íŠ¸ëœì­ì…˜ì´ ë„¤íŠ¸ì›Œí¬ë¡œ ì „ì†¡ë  ë•Œ ë…¸ë“œì—ì„œ íŠ¸ëœì­ì…˜ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ì—¬ íŠ¸ëœì­ì…˜ì´ í•©ë²•ì ì´ê³  ì…ë ¥ì´ ì´ì¤‘ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. ì›ë˜ ë¹„íŠ¸ì½”ì¸ í”„...",
    "content": "# Bitcoin Segwit\n\në¹„íŠ¸ì½”ì¸ì—ì„œ, ê±°ë˜ëŠ” ì…ë ¥(inputs)ê³¼ ì¶œë ¥(outputs)ì„ í¬í•¨í•©ë‹ˆë‹¤. íŠ¸ëœì­ì…˜ì´ ë„¤íŠ¸ì›Œí¬ë¡œ ì „ì†¡ë  ë•Œ ë…¸ë“œì—ì„œ íŠ¸ëœì­ì…˜ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ì—¬ íŠ¸ëœì­ì…˜ì´ í•©ë²•ì ì´ê³  ì…ë ¥ì´ ì´ì¤‘ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. ì›ë˜ ë¹„íŠ¸ì½”ì¸ í”„ë¡œí† ì½œì—ì„œëŠ” ë””ì§€í„¸ ì„œëª…(ì¦ì¸ ë°ì´í„°)ì´ íŠ¸ëœì­ì…˜ ì…ë ¥ì— í¬í•¨ë˜ì–´ íŠ¸ëœì­ì…˜ì´ ì»¤ì§€ê³  ë„¤íŠ¸ì›Œí¬ ì²˜ë¦¬ëŸ‰ì´ ê°ì†Œí–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ 2017ë…„ì— ë¶„ë¦¬ ì¦ì¸(SegWit)ì´ë¼ëŠ” ìƒˆë¡œìš´ ê±°ë˜ í˜•ì‹ì´ ë„ì…ë˜ì—ˆìŠµë‹ˆë‹¤. SegWitëŠ” ê±°ë˜ì˜ ì…ë ¥ì—ì„œ ì¦ì¸ ë°ì´í„°ë¥¼ ë¶„ë¦¬í•˜ì—¬ ì¦ì¸ì´ë¼ëŠ” ê±°ë˜ì˜ ë³„ë„ ì„¹ì…˜ì— ë°°ì¹˜í•©ë‹ˆë‹¤. SegWit ì£¼ì†ŒëŠ” SegWit íŠ¸ëœì­ì…˜ í˜•ì‹ê³¼ í˜¸í™˜ë˜ëŠ” ë¹„íŠ¸ì½”ì¸ ì£¼ì†Œì…ë‹ˆë‹¤. SegWit ì£¼ì†Œë¡œ ìê¸ˆì„ ë³´ë‚¼ ë•Œ ìê¸ˆì˜ ì†Œìœ ê¶Œì„ ì¦ëª…í•˜ëŠ” ì¦ì¸ì„ ê±°ë˜ì— í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°ì‹œìì™€ íŠ¸ëœì­ì…˜ì„ ë§Œë“¤ë ¤ë©´ SegWit ì£¼ì†Œë¥¼ íŠ¸ëœì­ì…˜ì˜ ì¶œë ¥ ì£¼ì†Œë¡œ ì‚¬ìš©í•´ì•¼ í•˜ë©°, íŠ¸ëœì­ì…˜ì— ì„œëª…í•  ë•Œ ê°ì‹œì ë°ì´í„°ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤. SegWit íŠ¸ëœì­ì…˜ì˜ script_pubkeyì—ëŠ” ìê¸ˆì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ì„ ì§€ì •í•˜ëŠ” ê°ì‹œ í”„ë¡œê·¸ë¨ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, SegWit ì£¼ì†Œë¥¼ ë§Œë“œëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n```rust\nuse bitcoin::{\n    blockdata::transaction::{Transaction, TxIn, TxOut},\n    network::constants::Network,\n    util::bip143::{SigHashCache, SigHashType},\n    PublicKey,\n    Script,\n    TxBuilder,\n    TxInWitness,\n};\n\nfn create_transaction() -> Transaction {\n    // Create inputs\n    let txin = TxIn {\n        previous_output: bitcoin::OutPoint::new(\n            bitcoin::hash::Sha256dHash::default(),\n            0,\n        ),\n        script_sig: Script::new(),\n        sequence: 0xFFFFFFFF,\n        witness: TxInWitness::default(),\n    };\n\n    // Create outputs\n    let txout = TxOut {\n        value: 1000000, // Satoshis\n        script_pubkey: Script::new(),\n    };\n\n    // Create transaction\n    let mut tx_builder = TxBuilder::new();\n    let tx = tx_builder\n        .add_input(txin)\n        .add_output(txout)\n        .build()\n        .unwrap();\n\n    // Sign transaction\n    let key = bitcoin::PrivateKey::from_wif(\"cTJtmP6oZmnBp9jWsnJzBvTuwT54qfN3rq8WxjZgCCzU6DDHMC6N\").unwrap();\n    let public_key = PublicKey::from_private_key(&key, true).unwrap();\n    let sig_hash = SigHashCache::new(&tx).signature_hash(0, &Script::new(), 1000000, SigHashType::All);\n    let signature = key.sign(&sig_hash);\n    let mut witness = TxInWitness::default();\n    witness.push(signature.serialize_der().to_vec());\n    witness.push(public_key.to_bytes());\n    tx_builder.set_witness(0, witness);\n\n    tx\n}\n\nfn main() {\n    let tx = create_transaction();\n    println!(\"{}\", tx);\n}\n```\n\n```toml\n[dependencies]\nbitcoin = \"0.28.1\"\nsecp256k1 = \"0.17.0\"\nhex = \"0.4.2\"\n```\n\nì´ ì˜ˆì—ì„œëŠ” ë¨¼ì € í•˜ë‚˜ì˜ ì…ë ¥ê³¼ í•˜ë‚˜ì˜ ì¶œë ¥ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì„ ë§Œë“­ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ê°œì¸ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¸ëœì­ì…˜ì— ì„œëª…í•˜ê³  ë””ì§€í„¸ ì„œëª…ê³¼ ê³µê°œ í‚¤ë¥¼ í¬í•¨í•˜ëŠ” ì¦ì¸ì„ ìƒì„±í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ TxBuilderì˜ set_witness ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¸ëœì­ì…˜ì— ëŒ€í•œ ê°ì‹œë¥¼ ì„¤ì •í•˜ê³  íŠ¸ëœì­ì…˜ì„ ì½˜ì†”ì— ì¸ì‡„í•©ë‹ˆë‹¤.\n\nì´ ì˜ˆì—ì„œëŠ” íŠ¸ëœì­ì…˜ì— ë”ë¯¸ ì…ë ¥ ë° ì¶œë ¥ì„ ì‚¬ìš©í•˜ê³  ì„œëª…ì— ì„ì˜ë¡œ ìƒì„±ëœ ê°œì¸ í‚¤ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œ ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œëŠ” ì´ ê°’ì„ ì‚¬ìš© ì‚¬ë¡€ì˜ ì‹¤ì œ ê°’ìœ¼ë¡œ ëŒ€ì²´í•´ì•¼ í•©ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 2,
    "wordCount": 303,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "bitcoin-script",
    "slug": "bitcoin-script",
    "path": "blockchain/bitcoin",
    "fullPath": "blockchain/bitcoin/bitcoin-script",
    "title": "Bitcoin Script",
    "excerpt": "Bitcoin Script ë¹„íŠ¸ì½”ì¸ì€ íŠ¸ëœì­ì…˜ì— ìŠ¤í¬ë¦½íŒ… ì‹œìŠ¤í…œì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¨ìˆœí•˜ê³ , ìŠ¤íƒ ê¸°ë°˜ì´ë©°, ì¢Œì—ì„œ ìš°ë¡œ ì§„í–‰í•©ë‹ˆë‹¤. ì´ê²ƒì€ ì˜ë„ì ìœ¼ë¡œ íŠœë§ì™„ì „í•˜ì§€ ì•Šìœ¼ë©°, ë£¨í”„ê°€ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ê° íŠ¸ëœì­ì…˜ì— ê¸°ë¡ëœ ì§€ì‹œì–´ë“¤ì˜...",
    "content": "# Bitcoin Script\n\në¹„íŠ¸ì½”ì¸ì€ íŠ¸ëœì­ì…˜ì— ìŠ¤í¬ë¦½íŒ… ì‹œìŠ¤í…œì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¨ìˆœí•˜ê³ , ìŠ¤íƒ ê¸°ë°˜ì´ë©°, ì¢Œì—ì„œ ìš°ë¡œ ì§„í–‰í•©ë‹ˆë‹¤. ì´ê²ƒì€ ì˜ë„ì ìœ¼ë¡œ íŠœë§ì™„ì „í•˜ì§€ ì•Šìœ¼ë©°, ë£¨í”„ê°€ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nìŠ¤í¬ë¦½íŠ¸ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ê° íŠ¸ëœì­ì…˜ì— ê¸°ë¡ëœ ì§€ì‹œì–´ë“¤ì˜ ë°°ì—´ì´ê³ , ì§€ì‹œì–´ë“¤ì€ ì „ì†¡ë˜ëŠ” ë¹„íŠ¸ì½”ì¸ì„ ì‚¬ìš©í•˜ë ¤ëŠ” ë‹¤ìŒ ì‚¬ëŒì´ ì ‘ê·¼ í•  ìˆ˜ ìˆëŠ” ì§€ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.\n\nì¼ë°˜ì ìœ¼ë¡œ ë¹„íŠ¸ì½”ì¸ì„ ìˆ˜ì‹ ì ì£¼ì†Œë¡œ ì „ì†¡í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‘ê°€ì§€ì´ê³  ì‚¬ìš©ìê°€ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤. ì²«ë²ˆì§¸ë¡œ íŠ¸ëœì­ì…˜ì´ í•´ì‹œë  ë•Œ ìŠ¤í¬ë¦½íŠ¸ì— í¬í•¨ëœ ìˆ˜ì‹ ì ì£¼ì†Œë¥¼ ìƒì„±í•˜ëŠ” Public Key, ë‘ë²ˆì§¸ë¡œ ì²«ë²ˆì§¸ë¡œ ì œê³µí•œ Public Keyì— ëŒ€ì‘í•˜ëŠ” Private Key ì†Œìœ ê¶Œì„ ì¦ëª…í•˜ëŠ” ì„œëª…ì…ë‹ˆë‹¤.\n\nìŠ¤í¬ë¦½íŒ…ì€ ì „ì†¡ëœ ë¹„íŠ¸ì½”ì¸ì„ ì‚¬ìš©í•˜ëŠ”ë° í•„ìš”í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ìœ ì—°ì„±ì„ ì œê³µí•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìŠ¤í¬ë¦½íŒ… ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ì—¬ ë‘ ê°œì˜ ê°œì¸ í‚¤ë¥¼ ìš”êµ¬í•˜ê±°ë‚˜ ì—¬ëŸ¬ê°œì˜ í‚¤ë¥¼ ì¡°í•©í•˜ê±°ë‚˜ ì•„ì˜ˆ í‚¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\níŠ¸ëœì­ì…˜ì€ ìŠ¤í¬ë¦½íŠ¸ ì¡°í•©ì—ì„œ ì—ëŸ¬ë¥¼ ë°œìƒí•˜ì§€ ì•Šê³ , ìµœìƒìœ„ ìŠ¤íƒ í•­ëª©ì´ True(non-zero)ì¸ ê²½ìš°ì— ìœ íš¨í•©ë‹ˆë‹¤.\n\n## ì˜ˆì‹œ\n\n### p2pkh(pay-to-pubkey-hash)\n\n```\nscriptPubKey: OP_DUP OP_HASH160 <pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\nscriptSig: <sig> <pubKey>\n```\n\n| Stack                                             | Script                                                                         | Description                              |\n| ------------------------------------------------- | ------------------------------------------------------------------------------ | ---------------------------------------- |\n| Empty                                             | `<sig>` `<pubKey>` OP_DUP OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG | scriptSigì™€ scriptPubKeyê°€ ê²°í•©ëœë‹¤      |\n| `<sig>` `<pubKey>`                                | OP_DUP OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                    | ìƒìˆ˜ë¥¼ ìŠ¤íƒì— ì¶”ê°€í•œë‹¤                   |\n| `<sig>` `<pubKey>` `<pubKey>`                     | OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                           | ìµœìƒìœ„ ìŠ¤íƒ ì•„ì´í…œì´ ë³µì‚¬ë˜ì—ˆë‹¤          |\n| `<sig>` `<pubKey>` `<pubKeyHashA>`                | `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                                      | ìµœìƒìœ„ ìŠ¤íƒ ì•„ì´í…œì´ í•´ì‹±ë˜ì—ˆë‹¤          |\n| `<sig>` `<pubKey>` `<pubKeyHashA>` `<pubkeyHash>` | OP_EQUALVERIFY OP_CHECKSIG                                                     | ìƒìˆ˜ë¥¼ ìŠ¤íƒì— ì¶”ê°€í•œë‹¤                   |\n| `<sig>` `<pubKey>`                                | OP_CHECKSIG                                                                    | ìµœìƒìœ„ ë‘ê°œ ì•„ì´í…œì´ ë™ì¼í•¨ì„ í™•ì¸í•˜ì˜€ë‹¤ |\n| true                                              | Empty                                                                          | ìµœìƒìœ„ ë‘ê°œ ì•„ì´í…œì˜ ì„œëª…ì´ í™•ì¸ë˜ì—ˆë‹¤   |\n\n### p2wpkh(pay-to-witness-pubkey-hash)\n\n```\nscriptPubKey: OP_0 <pubkey.hash:20>\nscriptSig: Empty.\nwitness: <sig> <pubkey>\n```\n\n| Stack                                             | Script                                                                         | Description                                                                        |\n| ------------------------------------------------- | ------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------- |\n| Empty                                             | OP_0 <pubkey.hash:20>                                                          | scriptSigì™€ scriptPubKeyê°€ ê²°í•©ëœë‹¤                                                |\n| Empty                                             | `<sig>` `<pubKey>` OP_DUP OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG | p2wpkhíŒ¨í„´, witnessì •ë³´ì˜ `<sig>` `<pubkey>`ì„ í†µí•´ `<pubkey.hash:20>`ì„ ì¹˜í™˜í•œë‹¤. |\n| `<sig>` `<pubKey>`                                | OP_DUP OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                    | ìƒìˆ˜ë¥¼ ìŠ¤íƒì— ì¶”ê°€í•œë‹¤                                                             |\n| `<sig>` `<pubKey>` `<pubKey>`                     | OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                           | ìµœìƒìœ„ ìŠ¤íƒ ì•„ì´í…œì´ ë³µì‚¬ë˜ì—ˆë‹¤                                                    |\n| `<sig>` `<pubKey>` `<pubKeyHashA>`                | `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                                      | ìµœìƒìœ„ ìŠ¤íƒ ì•„ì´í…œì´ í•´ì‹±ë˜ì—ˆë‹¤                                                    |\n| `<sig>` `<pubKey>` `<pubKeyHashA>` `<pubkeyHash>` | OP_EQUALVERIFY OP_CHECKSIG                                                     | ìƒìˆ˜ë¥¼ ìŠ¤íƒì— ì¶”ê°€í•œë‹¤                                                             |\n| `<sig>` `<pubKey>`                                | OP_CHECKSIG                                                                    | ìµœìƒìœ„ ë‘ê°œ ì•„ì´í…œì´ ë™ì¼í•¨ì„ í™•ì¸í•˜ì˜€ë‹¤                                           |\n| true                                              | Empty                                                                          | ìµœìƒìœ„ ë‘ê°œ ì•„ì´í…œì˜ ì„œëª…ì´ í™•ì¸ë˜ì—ˆë‹¤                                             |\n\n### p2sh-p2wpkh\n\n```\nscriptPubKey: <OP_HASH160> <script-hash> <OP_EQUAL>\nscriptSig(redeemScript): hash160(<OP_2> <pubkey-a> <pubkey-b> <pubkey-c> <OP_3> <OP_CHECKMULTISIG>)\nwitness: <sig> <pubkey>\n```\n\n| Stack                                             | Script                                                                         | Description                                                                        |\n| ------------------------------------------------- | ------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------- |\n| Empty                                             | `<redeem_script>` OP_HASH160 `<script-hash>` `OP_EQUAL`                        | scriptSigì™€ scriptPubKeyê°€ ê²°í•©ëœë‹¤                                                |\n| Empty                                             | `<sig>` `<pubKey>` OP_DUP OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG | p2wpkhíŒ¨í„´, witnessì •ë³´ì˜ `<sig>` `<pubkey>`ì„ í†µí•´ `<pubkey.hash:20>`ì„ ì¹˜í™˜í•œë‹¤. |\n| `<sig>` `<pubKey>`                                | OP_DUP OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                    | ìƒìˆ˜ë¥¼ ìŠ¤íƒì— ì¶”ê°€í•œë‹¤                                                             |\n| `<sig>` `<pubKey>` `<pubKey>`                     | OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                           | ìµœìƒìœ„ ìŠ¤íƒ ì•„ì´í…œì´ ë³µì‚¬ë˜ì—ˆë‹¤                                                    |\n| `<sig>` `<pubKey>` `<pubKeyHashA>`                | `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                                      | ìµœìƒìœ„ ìŠ¤íƒ ì•„ì´í…œì´ í•´ì‹±ë˜ì—ˆë‹¤                                                    |\n| `<sig>` `<pubKey>` `<pubKeyHashA>` `<pubkeyHash>` | OP_EQUALVERIFY OP_CHECKSIG                                                     | ìƒìˆ˜ë¥¼ ìŠ¤íƒì— ì¶”ê°€í•œë‹¤                                                             |\n| `<sig>` `<pubKey>`                                | OP_CHECKSIG                                                                    | ìµœìƒìœ„ ë‘ê°œ ì•„ì´í…œì´ ë™ì¼í•¨ì„ í™•ì¸í•˜ì˜€ë‹¤                                           |\n| true                                              | Empty                                                                          | ìµœìƒìœ„ ë‘ê°œ ì•„ì´í…œì˜ ì„œëª…ì´ í™•ì¸ë˜ì—ˆë‹¤                                             |\n\n### ë¯¸ë˜ íŠ¹ì • ì‹œì ê¹Œì§€ ìê¸ˆì„ ë™ê²°í•˜ê³  ì‹¶ì€ ê²½ìš°\n\n```\nscriptPubKey: <expiry-time> OP_CHECKLOCKTIMEVERIFY OP_DROP OP_DUP OP_HASH160 <pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\nscriptSig: <sig> <pubKey>\n```\n\n| Stack                                             | Script                                                                                                                | Description                                                   |\n| ------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |\n| Empty                                             | `<sig>` `<pubKey>` `<expiry-time>` OP_CHECKLOCKTIMEVERIFY OP_DUP OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG | scriptSigì™€ scriptPubKeyê°€ ê²°í•©ëœë‹¤                           |\n| `<sig>` `<pubKey>` `<expiry-time>`                | OP_CHECKLOCKTIMEVERIFY OP_DROP OP_DUP OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                            | ìƒìˆ˜ë¥¼ ìŠ¤íƒì— ì¶”ê°€í•œë‹¤                                        |\n| `<sig>` `<pubKey>` `<expiry-time>`                | OP_DROP OP_DUP OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                                                   | ìµœìƒìœ„ ìŠ¤íƒ ì•„ì´í…œë¥¼ í˜„ì¬ ì‹œê°„ ë˜ëŠ” ë¸”ë¡ ë†’ì´ì™€ ë¹„êµ í™•ì¸í•œë‹¤ |\n| `<sig>` `<pubKey>`                                | OP_DUP OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                                                           | ìµœìƒìœ„ ìŠ¤íƒ ì•„ì´í…œì„ ì œê±°í•œë‹¤                                 |\n| `<sig>` `<pubKey>` `<pubKey>`                     | OP_HASH160 `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                                                                  | ìµœìƒìœ„ ìŠ¤íƒ ì•„ì´í…œì´ ë³µì‚¬ë˜ì—ˆë‹¤                               |\n| `<sig>` `<pubKey>` `<pubKeyHashA>`                | `<pubkeyHash>` OP_EQUALVERIFY OP_CHECKSIG                                                                             | ìµœìƒìœ„ ìŠ¤íƒ ì•„ì´í…œì´ í•´ì‹±ë˜ì—ˆë‹¤                               |\n| `<sig>` `<pubKey>` `<pubKeyHashA>` `<pubkeyHash>` | OP_EQUALVERIFY OP_CHECKSIG                                                                                            | ìƒìˆ˜ë¥¼ ìŠ¤íƒì— ì¶”ê°€í•œë‹¤                                        |\n| `<sig>` `<pubKey>`                                | OP_CHECKSIG                                                                                                           | ìµœìƒìœ„ ë‘ê°œ ì•„ì´í…œì´ ë™ì¼í•¨ì„ í™•ì¸í•˜ì˜€ë‹¤                      |\n| true                                              | Empty                                                                                                                 | ìµœìƒìœ„ ë‘ê°œ ì•„ì´í…œì˜ ì„œëª…ì´ í™•ì¸ë˜ì—ˆë‹¤                        |\n\n### pay-to-multi-signature (2-out-of-3)\n\n```\nscriptPubKey: <OP_2> <pubkey-a> <pubkey-b> <pubkey-c> <OP_3> <OP_CHECKMULTISIG>\nscriptSig: <OP_0> <sig> <sig> <OP_2>\n```\n\n### pay-to-script\n\n```\nscriptPubKey: <OP_HASH160> <script-hash> <OP_EQUAL>\nscriptSig(redeemScript): hash160(<OP_2> <pubkey-a> <pubkey-b> <pubkey-c> <OP_3> <OP_CHECKMULTISIG>)\n```\n\n![](https://learnmeabitcoin.com/technical/images/address/encode-p2sh.png)\n\nìœ„ ê·¸ë¦¼ì„ ë³´ë©´ ì¤‘ê°„ì— hash160(script)ê°€ ìˆëŠ”ë° ì´ê²Œ `redeem-script`ì˜ í•´ì‹œê°’ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì´ê²ƒì„ base58ë¡œ ë³€í™˜í–ˆì„ë•Œ aë¡œ ì‹œì‘í•˜ëŠ” P2SHì£¼ì†Œ í˜•íƒœë¡œ ìƒëŒ€ë°©ì—ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## Ref\n\n- https://learnmeabitcoin.com/technical/p2sh\n- https://medium.com/programming-bitcoin/chapter-13-ì„¸ê·¸ìœ—-865a0c3f6414\n- https://dev-notes.eu/2020/11/Bitcoin-Pay-To-Script-Hash/\n- https://bitcoin.design/guide/glossary/address/\n- https://developer.bitcoin.org/reference/rpc/\n- https://en.bitcoin.it/wiki/Category:Technical",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 4,
    "wordCount": 758,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "address",
    "slug": "address",
    "path": "blockchain/bitcoin",
    "fullPath": "blockchain/bitcoin/address",
    "title": "Address",
    "excerpt": "Address ë¹„íŠ¸ì½”ì¸ ì£¼ì†ŒëŠ” ë¹„íŠ¸ì½”ì¸ì„ ë°›ëŠ” ë° ì‚¬ìš©ë˜ëŠ” 26-35ê°œì˜ ì˜ìˆ«ì ì‹ë³„ìì…ë‹ˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ ì‚¬ì–‘ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì—¬ëŸ¬ ì£¼ì†Œ í˜•ì‹ì´ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì£¼ì†Œë¥¼ ì…ë ¥í•  ë•Œ ì´ëŸ¬í•œ í˜•ì‹ì—ëŠ” íŠ¹ì • ì ‘ë‘ì‚¬ê°€ ìˆìœ¼ë¯€ë¡œ ì‚¬ìš© ì¤‘ì¸ í˜•ì‹ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤....",
    "content": "# Address\n\në¹„íŠ¸ì½”ì¸ ì£¼ì†ŒëŠ” ë¹„íŠ¸ì½”ì¸ì„ ë°›ëŠ” ë° ì‚¬ìš©ë˜ëŠ” 26-35ê°œì˜ ì˜ìˆ«ì ì‹ë³„ìì…ë‹ˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ ì‚¬ì–‘ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì—¬ëŸ¬ ì£¼ì†Œ í˜•ì‹ì´ ìˆìŠµë‹ˆë‹¤.\n\nì‚¬ìš©ìê°€ ì£¼ì†Œë¥¼ ì…ë ¥í•  ë•Œ ì´ëŸ¬í•œ í˜•ì‹ì—ëŠ” íŠ¹ì • ì ‘ë‘ì‚¬ê°€ ìˆìœ¼ë¯€ë¡œ ì‚¬ìš© ì¤‘ì¸ í˜•ì‹ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‹¤ìŒì€ ì˜¤ëŠ˜ë‚  ì‚¬ìš©ë˜ëŠ” ì¼ë°˜ì ì¸ ì£¼ì†Œ í˜•ì‹ì…ë‹ˆë‹¤:\n\n## Taproot address - P2TR\n\nTaproot ë˜ëŠ” Bech32m ì£¼ì†Œë¼ê³ ë„ í•˜ëŠ” P2TR(Pay-to-Taproot)ì€ ê°€ì¥ ìµœì‹ ì˜ ê³ ê¸‰ ë¹„íŠ¸ì½”ì¸ ì£¼ì†Œ í˜•ì‹ì…ë‹ˆë‹¤. TaprootëŠ” ë¹„íŠ¸ì½”ì¸ì— ë”ìš± í–¥ìƒëœ ë³´ì•ˆ, ê°œì¸ ì •ë³´ ë³´í˜¸, ìœ ì—°ì„± ë° í™•ì¥ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. SegWitì™€ ë§ˆì°¬ê°€ì§€ë¡œ Taproot ì£¼ì†ŒëŠ” ì˜µíŠ¸ì¸ì´ë©° í˜„ì¬ ë„ë¦¬ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nTaprootì˜ ì¥ì ì€ ìŠˆë…¸ë¥´ ì„œëª…(Schnorr Signatures)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥, ë” ë‚˜ì€ ë³´ì•ˆ, ë” ë‚®ì€ ìˆ˜ìˆ˜ë£Œ, ë” ìœ ì—°í•œ ë‹¤ì¤‘ í‚¤ íŠ¸ëœì­ì…˜ì„ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. P2TRì„ ì‚¬ìš©í•˜ëŠ” ë‹¤ì¤‘ í‚¤ ì£¼ì†ŒëŠ” ë‹¨ì¼ í‚¤ ì£¼ì†Œì™€ ë™ì¼í•˜ê²Œ ë³´ì—¬ ë‹¤ì¤‘ í‚¤ ì‚¬ìš©ìì—ê²Œ í–¥ìƒëœ ê°œì¸ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. TaprootëŠ” ë˜í•œ ë” ê³ ê¸‰ ìŠ¤í¬ë¦½íŒ…ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ì—¬ ë¹„íŠ¸ì½”ì¸ì„ ê¸°ë°˜ìœ¼ë¡œ ë” ë³µì¡í•œ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„ êµ¬ì¶•í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n\nTaproot ì£¼ì†ŒëŠ” bc1pë¡œ ì‹œì‘í•˜ë©° ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nExample: bc1pmzfrwwndsqmk5yh69yjr5lfgfg4ev8c0tsc06e\n\n## SegWit address - P2WPKH\n\në„¤ì´í‹°ë¸Œ SegWit ë˜ëŠ” Bech32 ì£¼ì†Œë¡œë„ ì•Œë ¤ì§„ P2WPKH(pay-to-witness-public-key-hash)ëŠ” í˜„ëŒ€ì ì´ê³  ë³´ë‹¤ íš¨ìœ¨ì ì¸ ì£¼ì†Œ í˜•ì‹ì…ë‹ˆë‹¤. SegWit ì£¼ì†ŒëŠ” ì˜µíŠ¸ì¸ì´ë¯€ë¡œ ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì´ë¥¼ ì§€ì›í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆì§€ë§Œ ì˜¤ëŠ˜ë‚  ëŒ€ë¶€ë¶„ì´ ì§€ì›í•˜ê³  ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤. SegWit ì±„íƒ ì—¬ë¶€ëŠ” ì—¬ê¸°ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nSegWit ì£¼ì†Œì˜ ì´ì ì€ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šê³  ì˜¤ë¥˜ ìˆ˜ì • ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì…ë ¥ ì˜¤ë¥˜ì— ëŒ€í•œ ì €í•­ì„±ì´ í–¥ìƒë˜ê³  íŠ¸ëœì­ì…˜ ë¹„ìš©ì´ ì ˆê°ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ìˆ˜ìˆ˜ë£Œ ì ˆê°ì€ ê±°ë˜ ìœ í˜•ì— ë”°ë¼ ë‹¤ë¥´ê² ì§€ë§Œ ì¼ë°˜ì ì¸ ìê¸ˆ ì´ì²´ì˜ ê²½ìš° 30-40%ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nSegWit ì£¼ì†ŒëŠ” bc1që¡œ ì‹œì‘í•˜ë©° ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nExample: bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq\n\n## Script address - P2SH\n\nP2SH(Pay-to-Script-Hash) ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì£¼ì†ŒëŠ” ì£¼ì†Œì— ì¶”ê°€ ê·œì¹™ ë° ê¸°ëŠ¥ì„ ì²¨ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŠ¤í¬ë¦½íŠ¸ ì£¼ì†ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì„ ì¸ì¦í•˜ëŠ” ë° ì—¬ëŸ¬ í‚¤ì˜ ì„œëª…ì´ í•„ìš”í•¨ì„ ì§€ì •í•  ìˆ˜ ìˆëŠ” ë‹¤ì¤‘ ì„œëª… ì£¼ì†Œì— ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nìŠ¤í¬ë¦½íŠ¸ ì£¼ì†ŒëŠ” ìˆ«ì 3ìœ¼ë¡œ ì‹œì‘í•˜ê³  ëŒ€ë¬¸ìì™€ ì†Œë¬¸ìë¥¼ í¬í•¨í•  ìˆ˜ ìˆìœ¼ë©° ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•©ë‹ˆë‹¤.\n\nExample: 3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy\n\n## Legacy address - P2PKH\n\nP2PKH(pay-to-pubkey-hash) ë˜ëŠ” ë ˆê±°ì‹œ ì£¼ì†ŒëŠ” ê°€ì¥ ì˜¤ë˜ë˜ê³  ì›ë˜ì˜ ë¹„íŠ¸ì½”ì¸ ì£¼ì†Œ í˜•ì‹ì…ë‹ˆë‹¤. ì´ ì£¼ì†Œ í˜•ì‹ì€ ì´ í˜•ì‹ì„ ì‚¬ìš©í•˜ë©´ íŠ¸ëœì­ì…˜ ë¹„ìš©ì´ ë” ë†’ê¸° ë•Œë¬¸ì— ì˜¤ëŠ˜ë‚  ë„ë¦¬ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ì „íˆ ì¼ë¶€ ìƒˆë¡œìš´ ì£¼ì†Œì²´ê³„ë¥¼ ì ìš©í•˜ì§€ ì•Šì€ ë ˆê±°ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¡´ì¬í•˜ë¯€ë¡œ, ì´ë“¤ê³¼ì˜ í˜¸í™˜ì„±ì„ ì§€í‚¤ëŠ” ê²ƒì´ ê¶Œì¥ë©ë‹ˆë‹¤.\n\nLegacy addressëŠ” ìˆ«ì 1ë¡œ ì‹œì‘í•˜ê³  ëŒ€ë¬¸ìì™€ ì†Œë¬¸ìë¥¼ í¬í•¨í•  ìˆ˜ ìˆìœ¼ë©° ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•©ë‹ˆë‹¤.\n\nExample: 1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2\n\n## Address í˜¸í™˜ì„±\n\në ˆê±°ì‹œ ì£¼ì†Œê°€ ì—¬ì „íˆ ì‚¬ìš©ë˜ê³  ìˆê¸° ë•Œë¬¸ì—, ì¼ë¶€ ì˜¤ë˜ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì—¬ì „íˆ ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤. ìŠ¤í¬ë¦½íŠ¸ ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ë©´ ì†¡ì‹ ìì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆ˜ì‹ ìì— ì˜í•´ ì œê³µë°›ì€ ì„¸ê·¸ìœ— ì£¼ì†Œë¥¼ ìœ íš¨í•˜ê²Œ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” í˜¸í™˜ì„± ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¬ë¯€ë¡œ ìˆ˜ì‹ ìëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì„¸ê·¸ìœ— ì£¼ì†Œë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•˜ë”ë¼ë„ ì†¡ì‹ ìì˜ í˜¸í™˜ì„±ì„ ë§ì¶°ì£¼ê¸° ìœ„í•´ì„œ ìŠ¤í¬ë¦½íŠ¸ ë˜ëŠ” íƒ­ë£¨íŠ¸ ì£¼ì†Œë¡œ ì „í™˜í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 2,
    "wordCount": 386,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "upgrade-move-code",
    "slug": "upgrade-move-code",
    "path": "blockchain/aptos",
    "fullPath": "blockchain/aptos/upgrade-move-code",
    "title": "Upgrade Move code",
    "excerpt": "Upgrade Move code Move code (e.g., Move modules) on the Aptos blockchain can be upgraded. This allows code owners and module developers to update a...",
    "content": "# Upgrade Move code\n\nMove code (e.g., Move modules) on the Aptos blockchain can be upgraded. This\nallows code owners and module developers to update and evolve their contracts\nunder a single, stable, well-known account address that doesn't change. If a\nmodule upgrade happens, all consumers of that module will automatically receive\nthe latest version of the code (e.g., the next time they interact with it).\n\nThe Aptos blockchain natively supports different _upgrade policies_, which allow\nmove developers to explicitly define the constraints around how their move code\ncan be upgraded. The default policy is _(backwards) compatible_. This means that\ncode upgrades are accepted only if they guarantee that no existing resource storage\nor public APIs are broken by the upgrade (including public functions).\nThis compatibility checking is possible because of Move's strongly typed bytecode\nsemantics.\n\nWe note, however, that even compatible upgrades can have hazardous effects on\napplications and dependent Move code (for example, if the semantics of the underlying\nmodule are modified). As a result, developers should be careful when depending on\nthird-party Move code that can be upgraded on-chain. See\n[Security considerations for dependencies](#security-considerations-for-dependencies)\nfor more details.\n\n## How it works\n\nMove code upgrades on the Aptos blockchain happen at the [Move package](https://move-language.github.io/move/packages.html)\ngranularity. A package specifies an upgrade policy in the `Move.toml` manifest:\n\n```toml\n[package]\nname = \"MyApp\"\nversion = \"0.0.1\"\nupgrade_policy = \"compatible\"\n...\n```\n\n:::tip Compatibility check\nAptos checks compatibility at the time a [Move package](https://move-language.github.io/move/packages.html) is published via an Aptos transaction. This transaction will abort if deemed incompatible.\n:::\n\n## How to upgrade\n\nTo upgrade already published Move code, simply attempt to republish the code at\nthe same address that it was previously published. This can be done by following the\ninstructions for code compilation and publishing using the\n[Aptos CLI](../../cli-tools/aptos-cli-tool/use-aptos-cli.md). For an example,\nsee the [Your First Move Module](../../tutorials/first-move-module.md) tutorial.\n\n## Upgrade policies\n\nThere are two different upgrade policies currently supported by Aptos:\n\n- `compatible`: these upgrades must be backwards compatible, specifically:\n  - For storage, all old struct declarations must be the same in\n    the new code. This ensures that the existing state of storage is\n    correctly interpreted by the new code. However, new struct declarations\n    can be added.\n  - For APIs, all existing public functions must have the same signature as\n    before. New functions, including public and entry functions, can be added.\n- `immutable`: the code is not upgradeable and is guaranteed to stay the same\n  forever.\n\nThose policies are ordered regarding strength such that `compatible < immutable`,\ni.e., compatible is weaker than immutable. The policy of a package on-chain can\nonly get stronger, not weaker. Moreover, the policy of all dependencies of a\npackage must be stronger or equal to the policy of the given package. For example,\nan `immutable` package cannot refer directly or indirectly to a `compatible` package.\nThis gives users the guarantee that no unexpected updates can happen under the hood.\n\nNote that there is one exception to the above rule: framework packages\ninstalled at addresses `0x1` to `0xa` are exempted from the dependency check.\nThis is necessary so one can define an `immutable` package based on the standard\nlibraries, which have the `compatible` policy to allow critical upgrades and fixes.\n\n## Compatibility rules\n\nWhen using `compatible` upgrade policy, a module package can be upgraded. However, updates to existing modules already\npublished previously need to be compatible and follow the rules below:\n\n- All existing structs' fields cannot be updated. This means no new fields can be added and existing fields cannot be\n  modified. Struct abilities also cannot be changed (no new ones added or existing removed).\n- All public and entry functions cannot change their signature (argument types, type argument, return types). However,\n  argument names can change.\n- Public(friend) functions are treated as private and thus their signature can arbitrarily change. This is safe as\n  only modules in the same package can call friend functions anyway and they need to be updated if the signature changes.\n\nWhen updating your modules, if you see an incompatible error, make sure to check the above rules and fix any violations.\n\n## Security considerations for dependencies\n\nAs mentioned above, even compatible upgrades can have disastrous effects for\napplications that depend on the upgraded code. These effects can come from bugs,\nbut they can also be the result of malicious upgrades. For example,\nan upgraded dependency can suddenly make all functions abort, breaking the\noperation of your Move code. Alternatively, an upgraded dependency can make\nall functions suddenly cost much more gas to execute then before the upgrade.\nAs result, dependencies to upgradeable packages need to be handled with care:\n\n- The safest dependency is, of course, an `immutable` package. This guarantees\n  that the dependency will never change, including its transitive dependencies.\n  In order to update an immutable package, the owner would have to introduce a\n  new major version, which is practically like deploying a new, separate\n  and independent package. This is because major versioning can be expressed\n  only by name (e.g. `module feature_v1` and `module feature_v2`). However,\n  not all package owners like to publish their code as `immutable`, because this\n  takes away the ability to fix bugs and update the code in place.\n- If you have a dependency to a `compatible` package, it is highly\n  recommended you know and understand the entity publishing the package.\n  The highest level of assurance is when the package is governed by a\n  Decentralized Autonomous Organization (DAO) where no single user can initiate\n  an upgrade; a vote or similar has to be taken. This is the case for the Aptos\n  framework.\n\n## Programmatic upgrade\n\nIn general, Aptos offers, via the Move module `aptos_framework::code`,\nways to publish code from anywhere in your smart contracts. However,\nnotice that code published in the current transaction can be executed\nonly after that transaction ends.\n\nThe Aptos framework itself, including all the on-chain administration logic, is\nan example for programmatic upgrade. The framework is marked as `compatible`.\nUpgrades happen via specific generated governance scripts. For more details,\nsee [Aptos Governance](../../concepts/governance.md).",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 6,
    "wordCount": 1002,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "move-on-aptos",
    "slug": "move-on-aptos",
    "path": "blockchain/aptos",
    "fullPath": "blockchain/aptos/move-on-aptos",
    "title": "Move on Aptos",
    "excerpt": "Move on Aptos ì•±í† ìŠ¤ ë¸”ë¡ì²´ì¸ì€ í•©ì˜ í”„ë¡œí† ì½œì„ ì‹¤í–‰í•˜ëŠ” ë°¸ë¦¬ë°ì´í„° ë…¸ë“œë“¤ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. í•©ì˜ í”„ë¡œí† ì½œì€ Move Virtual Machine()ì—ì„œ ì‹¤í–‰ë  ë•Œ íŠ¸ëœì­ì…˜ë“¤ì˜ ìˆœì„œì™€ ì¶œë ¥()ì— ë™ì˜í•©ë‹ˆë‹¤. ê° ë°¸ë¦¬ë°ì´í„° ë…¸ë“œëŠ”...",
    "content": "# Move on Aptos\n\nì•±í† ìŠ¤ ë¸”ë¡ì²´ì¸ì€ í•©ì˜ í”„ë¡œí† ì½œì„ ì‹¤í–‰í•˜ëŠ” ë°¸ë¦¬ë°ì´í„° ë…¸ë“œë“¤ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. í•©ì˜ í”„ë¡œí† ì½œì€ Move Virtual Machine(`MoveVM`)ì—ì„œ ì‹¤í–‰ë  ë•Œ íŠ¸ëœì­ì…˜ë“¤ì˜ ìˆœì„œì™€ ì¶œë ¥(`output`)ì— ë™ì˜í•©ë‹ˆë‹¤. ê° ë°¸ë¦¬ë°ì´í„° ë…¸ë“œëŠ” í˜„ì¬ ë¸”ë¡ì²´ì¸ ì›ì¥ ìƒíƒœì™€ í•¨ê»˜ íŠ¸ëœì­ì…˜ì„ VMì— ëŒ€í•œ ì…ë ¥ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. `MoveVMì€` ì´ ì…ë ¥ì„ ì²˜ë¦¬í•˜ì—¬ ë³€ë³€ê²½ì‚¬í•­(`changeset`) ë˜ëŠ” ìŠ¤í† ë¦¬ì§€ ë¸íƒ€ë¥¼ ì¶œë ¥ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤. í•©ì˜ í”„ë¡œí† ì½œì´ ë™ì˜í•˜ê³  ì¶œë ¥ì´ ì»¤ë°‹ë˜ë©´ ì´ëŠ” ê³µê°œì ìœ¼ë¡œ ë³´ì´ëŠ” ìƒíƒœê°€ ë©ë‹ˆë‹¤.\n\n## What is Move?\n\n`Move`ëŠ” í¬ì†Œì„±ê³¼ ì ‘ê·¼ ì œì–´ë¥¼ ê°•ì¡°í•˜ëŠ”, Web3ë¥¼ ìœ„í•œ ì•ˆì „í•˜ê³  ë³´ì•ˆì´ ë›°ì–´ë‚œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì…ë‹ˆë‹¤. `Move`ì˜ ëª¨ë“  ìì‚°ì€ ë¦¬ì†ŒìŠ¤ë¡œ ë˜ëŠ” ë¦¬ì†ŒìŠ¤ì— ì €ì¥ë˜ì–´ í‘œí˜„ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í¬ì†Œì„±ì€ êµ¬ì¡°ì²´(`struct`)ë¥¼ ë³µì œí•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ê¸°ë³¸ì ìœ¼ë¡œ ê°•ì œë©ë‹ˆë‹¤. ì˜¤ì§ ë°”ì´íŠ¸ì½”ë“œ ê³„ì¸µì—ì„œ ëª…ì‹œì ìœ¼ë¡œ ë³µì‚¬ë³¸(`copy`)ìœ¼ë¡œ ì •ì˜ëœ ê²½ìš°ì—ë§Œ ë³µì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì ‘ê·¼ì œì–´(`Access Control`)ëŠ” ëª¨ë“ˆ(`module`) ì ‘ê·¼ ê¶Œí•œê³¼ ê³„ì •(`accounts`)ì˜ ê°œë…ì—ì„œ ë¹„ë¡¯ë©ë‹ˆë‹¤. `Move`ì˜ ëª¨ë“ˆì€ ìì‚°ì„ ìƒì„±(`create`), ì €ì¥(`store`), ì „ì†¡(`transfer`)í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” í”„ë¡œê·¸ë¨ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `Move`ëŠ” ì˜¤ì§ ê³µê°œ(`public`)ëª¨ë“ˆ ê¸°ëŠ¥(`functions`)ë“¤ë§Œ ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆìŒì„ ë³´ì¦í•©ë‹ˆë‹¤. êµ¬ì¡°ì²´ê°€ `public`  ìƒì„±ì(`constructor`)ë¥¼ ê°€ì§„ ê²ƒì´ ì•„ë‹ˆë¼ë©´, ì˜¤ì§ í•´ë‹¹ êµ¬ì¡°ì²´ë¥¼ ì •ì˜í•˜ê³  ìˆëŠ” ëª¨ë“ˆì—ì„œë§Œ ìƒì„±ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, êµ¬ì¡°ì²´ ë‚´ì˜ í•„ë“œëŠ” í•´ë‹¹ ëª¨ë“ˆ ë‚´ì—ì„œ ë˜ëŠ” `public` `getter`ë˜ëŠ” `setter`ë¥¼ í†µí•´ì„œë§Œ ì•¡ì„¸ìŠ¤í•˜ê³  ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n`Move`ì—ì„œ íŠ¸ëœì­ì…˜ì˜ ì „ì†¡ìëŠ” íŠ¹ì • `account`ì˜ í™•ì¸ëœ ì†Œìœ ìì¸ `signer`ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.  `signer`ëŠ” `Move`ì—ì„œ ê°€ì¥ ë†’ì€ ê¶Œí•œ ë ˆë²¨ì„ ê°€ì§€ê³  ìˆê³  `account`ì— `resources`ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ì—”í‹°í‹°ì…ë‹ˆë‹¤. ê²Œë‹¤ê°€, ëª¨ë“ˆ ê°œë°œìëŠ” `resource`ì— ì ‘ê·¼í•˜ê±°ë‚˜ ê³„ì •ì— ì €ì¥ëœ ìì‚°ì„ ìˆ˜ì •í•˜ê¸° ìœ„í•´  `signer`ê°€ ìˆì–´ì•¼í•œë‹¤ê³  ìš”êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## Comparison to other VMs\n\n| | Aptos/Move | Solana/SeaLevel | EVM |\n|--|------|------|------|\n| Data Storage | ì†Œìœ ìì˜ ê³„ì •ì— ì €ì¥ë¨ Stored within the owner's account | í”„ë¡œê·¸ë¨ê³¼ ê´€ë ¨ëœ ì†Œìœ ì ê³„ì • ë‚´ì— ì €ì¥ Stored within the owner's account associated with a program | ì»¨íŠ¸ë™íŠ¸ì™€ ê´€ë ¨ëœ ê³„ì •ë‚´ì— ì €ì¥ Stored within the account associated with a smart contract |\n| Parallelization | ì•±í† ìŠ¤ ë‚´ì—ì„œ ëŸ°íƒ€ì„ì— ë³‘ë ¬í™”ë¥¼ ì¶”ë¡ í•  ìˆ˜ ìˆìŒ Capable of inferring parallelization at runtime within Aptos | íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì•¡ì„¸ìŠ¤í•˜ëŠ” ëª¨ë“  ê³„ì • ë° í”„ë¡œê·¸ë¨ì„ ì§€ì •í•´ì•¼ í•¨ Requires specifying within the transaction all accounts and programs accessed | í˜„ì¬ë¡œì„  ì§ë ¬í™” í•˜ì§€ ì•ŠìŒ Currently serial nothing in production |\n| Transaction safety | Sequence number | íŠ¸ëœì­ì…˜ ê³ ìœ ì„± + íŠ¸ëœì­ì…˜ ê¸°ì–µ Transaction uniqueness + remembering transactions | nonces, similar to sequence numbers |\n| Type safety | Module structs and generics| Program structs | Contract types |\n| Function calling | ì œë„¤ë¦­ì´ ì•„ë‹Œ ì •ì  ë””ìŠ¤íŒ¨ì¹˜ Static dispatch not on generics | ì •ì  ë””ìŠ¤íŒ¨ì¹˜ Static dispatch | ë™ì  ë””ìŠ¤íŒ¨ì¹˜ Dynamic dispatch |\n\n## Aptos Move features\n\n`MoveVM`ì˜ ê° ë°°í¬ëŠ” ì–´ëŒ‘í„° ë ˆì´ì–´ë¥¼ í†µí•´ ì½”ì–´ `MoveVM`ì„ ì¶”ê°€ ê¸°ëŠ¥ìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤. ë˜í•œ `MoveVM`ì—ëŠ” ì»´í“¨í„°ê°€ `OS`ë¥¼ ê°€ì§„ ê²ƒ ì²˜ëŸ¼ í‘œì¤€ì‘ì—…ì„ ì§€ì›í•˜ëŠ” í”„ë ˆì„ì›Œí¬ê°€ ìˆìŠµë‹ˆë‹¤.\n\n`Aptos Move Adapter`ì—ëŠ” ì•„ë˜ ê¸°ëŠ¥ë“¤ì´ ìˆìŠµë‹ˆë‹¤.\n- ê³„ì •ì— ì €ì¥ëœ ë°ì´í„° ì–‘ì„ ë¶„ë¦¬í•˜ì—¬ ê³„ì •ê³¼ ê´€ë ¨ëœ íŠ¸ëœì­ì…˜ì˜ ê°€ìŠ¤ ìš”ê¸ˆì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì„¸ë¶„í™”ëœ ìŠ¤í† ë¦¬ì§€ (`Fine grained storage`) \n- í¬ê¸°ì— ë§ê²Œ ê³„ì • ë‚´ì— í‚¤, ê°’ ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆëŠ” `Tables`\n- ì‚¬ìš©ìì˜ ì…ë ¥ ì—†ì´ íŠ¸ëœì­ì…˜ì„ ë™ì‹œì— ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” `Block-STM`ì„ í†µí•œ ë³‘ë ¬ì„±\n\n`Aptos framework`ëŠ” ì—¬ëŸ¬ ìœ ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n- ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„ ê²Œì‹œí•˜ì§€ ì•Šê³ ë„ NFT ë° ê¸°íƒ€ í’ë¶€í•œ í† í°ì„ ìƒì„±í•  ìˆ˜ ìˆëŠ” `Token standard`\n- ê°€ë²¼ìš´ ëª¨ë“ˆì„ ê²Œì‹œí•˜ì—¬ ì•ˆì „í•œ ìœ í˜•ì˜ ì½”ì¸ ìƒì„±ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” `Coin standard`\n- ìŠ¤í…Œì´í‚¹ ë° ìœ„ì„ í”„ë ˆì„ì›Œí¬\n- ì£¼ì–´ì§„ ìœ í˜•ì˜ ì£¼ì†Œ, ëª¨ë“ˆ ë° êµ¬ì¡°ì²´ ì´ë¦„ì„ ëŸ°íƒ€ì„ì— ì‹ë³„í•˜ëŠ” `type_of` ì„œë¹„ìŠ¤\n- ì—¬ëŸ¬ `signer` ì—”í„°í‹°ë¥¼ í—ˆìš©í•˜ëŠ” `Multi-Signer` í”„ë ˆì„ì›Œí¬\n- ì‹¤ì œ í˜„ì¬ ìœ ë‹‰ìŠ¤íƒ€ì„ì— ë§¤í•‘ë˜ëŠ” ë‹¨ì¡°ë¡­ê²Œ ì¦ê°€í•˜ëŠ” ì‹œê³„ë¥¼ ì œê³µí•˜ëŠ” `timestamp` ì„œë¹„ìŠ¤\n\n## Key Concepts in Aptos Move\n\n- ë°ì´í„°ëŠ” ëª¨ë“ˆì„ ê²Œì‹œí•œ ê³„ì •ì´ ì•„ë‹Œ ë°ì´í„°ë¥¼ ì†Œìœ í•œ ê³„ì • ë‚´ì— ì €ì¥ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n- ë°ì´í„° íë¦„ì—ëŠ” ìƒíƒœê³„ ìœ ìš©ì„±ì— ì¤‘ì ì„ ë‘” ìµœì†Œí•œì˜ ì œì•½ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n- ì œë„¤ë¦­ì„ í†µí•œ ëŸ°íƒ€ì„ ì•ˆì „ë³´ë‹¤ ì •ì  ìœ í˜• ì•ˆì „ì„ ì„ í˜¸í•©ë‹ˆë‹¤.\n- ëª…ì‹œì ìœ¼ë¡œ ëª…í™•í•˜ì§€ ì•Šì€ ê²½ìš° `signer`ëŠ” ìì‚°ì„ ê³„ì •ì— ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•  ìˆ˜ ìˆëŠ” ì•¡ì„¸ìŠ¤ë¥¼ ì œí•œí•´ì•¼ í•©ë‹ˆë‹¤.\n\n### Data ownership\n\në°ì´í„°ëŠ” ëª¨ë“ˆì„ ê²Œì‹œí•œ ê³„ì •ì´ ì•„ë‹ˆë¼ ë°ì´í„°ë¥¼ ì†Œìœ í•œ ê³„ì •ì— ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.  \n\n`Solidity`ì—ì„œ ë°ì´í„°ëŠ” ê³„ì•½ì„ ìƒì„±í•œ ê³„ì •ì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë‚´ì— ì €ì¥ë©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì´ê²ƒì€ ê°’ì— ëŒ€í•œ ì£¼ì†Œì˜ ë§µ ë˜ëŠ” ì†Œìœ ìì˜ ì£¼ì†Œì— ëŒ€í•œ ì¸ìŠ¤í„´ìŠ¤ IDì˜ ë§µìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.  \n\n`Solana`ì—ì„œ ë°ì´í„°ëŠ” ê³„ì•½ê³¼ ê´€ë ¨ëœ ë³„ê°œì˜ ê³„ì •ì— ì €ì¥ë©ë‹ˆë‹¤.  \n\n`Move`ì—ì„œ ë°ì´í„°ëŠ” ëª¨ë“ˆ ì†Œìœ ìì˜ ê³„ì •ì— ì €ì¥ë  ìˆ˜ ìˆì§€ë§Œ, ì´ëŠ” ì†Œìœ ê¶Œ ëª¨í˜¸ì„± ë¬¸ì œë¥¼ ì•¼ê¸°í•˜ë©° ë‹¤ìŒ ë‘ ê°€ì§€ ë¬¸ì œë¥¼ ì•”ì‹œí•œë‹¤:  \n1. ìì‚°ì— ì†Œìœ ìì™€ ì—°ê²°ëœ ë¦¬ì†ŒìŠ¤ê°€ ì—†ê¸° ë•Œë¬¸ì— ì†Œìœ ê¶Œì´ ëª¨í˜¸í•´ì§‘ë‹ˆë‹¤  \n2. ëª¨ë“ˆ ì‘ì„±ìëŠ” ì„ëŒ€, íšŒìˆ˜ ë“±ê³¼ ê°™ì€ ë¦¬ì†ŒìŠ¤ì˜ ìˆ˜ëª…ì— ëŒ€í•œ ì±…ì„ì„ ì§‘ë‹ˆë‹¤  \n\nì²« ë²ˆì§¸ë¡œ, ìì‚°ì„ ê³„ì • ë‚´ì˜ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ì— ë°°ì¹˜í•¨ìœ¼ë¡œì¨ ì†Œìœ ìëŠ” ì•…ì˜ì ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë°ëœ ëª¨ë“ˆì¡°ì°¨ë„ í•´ë‹¹ ìì‚°ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `Move`ì—ì„œëŠ” í‘œì¤€ ì£¼ë¬¸ì„œ êµ¬ì¡°ì™€ ì¸í„°í˜ì´ìŠ¤ë¥¼ í”„ë¡œê·¸ë˜ë°í•˜ì—¬ ìƒë‹¨ì— êµ¬ì¶•ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê³„ì •ì´ë‚˜ ì£¼ë¬¸ì„œ í•­ëª©ì— ë°±ë„ì–´ ì•¡ì„¸ìŠ¤ë¥¼ í•  ìˆ˜ ì—†ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  \n  \në‹¤ìŒ ë‘ ê°€ì§€ `Coin` ë³´ê´€ ì „ëµì„ ë¹„êµí•´ ë³´ì‹­ì‹œì˜¤:  \n  \në‹¤ìŒì€ ì¸ë±ìŠ¤ë¡œ í‘œì‹œëœ ì†Œìœ ê¶Œì„ ê°€ì§„ ë‹¨ì¼ `Account`ë¡œ ì½”ì¸ì„ ë°°ì¹˜í•©ë‹ˆë‹¤.\n\n```move\nstruct CoinStore has key {\n\tcoins: table<address, Coin>,\n}\n```\n\nëŒ€ì‹ ì—  `Account` ì— `Coin`ì„ ì €ì¥í•˜ëŠ” ì ‘ê·¼ë²•ì—ì„œëŠ” ì†Œìœ ê¶Œì„ ëª…ì‹œì ìœ¼ë¡œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```move\nstruct CoinStore has key {\n    coin: Coin,\n}\n```\n\n### Data flow\n\në°ì´í„° íë¦„ì€ ìƒíƒœê³„ ìœ ìš©ì„±ì— ì¤‘ì ì„ ë‘ê³  ìµœì†Œí•œì˜ ì œì•½ ì¡°ê±´ì„ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤.\n\nMoveì—ì„œ ì–´ë–¤ ì¸í„°í˜ì´ìŠ¤ë„ í•´ë‹¹ êµ¬ì¡°ì²´(`struct`)ë¥¼ ê°’ í˜•íƒœë¡œ ë‚˜íƒ€ë‚´ì§€ ì•Šë„ë¡ í•˜ê³ , ëŒ€ì‹  ëª¨ë“ˆë‚´ì— ì •ì˜ëœ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ë§Œì„ ì œê³µí•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ìº¡ìŠí™”, `encapsulation`). ì´ë¥¼ í†µí•´ ìì‚°ì´ ì˜¤ì§ ëª¨ë“ˆ ë‚´ì—ì„œë§Œ ì ‘ê·¼ í•  ìˆ˜ ìˆë„ë¡ í”„ë¡œê·¸ë˜ë° í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ ì§ì ‘ì ì¸ ì½ê¸°ì™€ ì“°ê¸° ì ‘ê·¼ì„ ì œí•œí•˜ì—¬ ë‹¤ë¥¸ ëª¨ë“ˆê³¼ì˜ ìƒí˜¸ìš´ìš©ì„±ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. \n\n`Coin<T>`ë¥¼ `input`ìœ¼ë¡œ í•˜ê³  `Ticket`ì„ `return`í•˜ëŠ” ì»¨íŠ¸ë™íŠ¸ê°€ ìˆë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤. ë§Œì•½ `Coin<T>`ë¥¼ ëª¨ë“ˆ ë‚´ì—ì„œë§Œ ì •ì˜í–ˆê³  ì™¸ë¶€ë¡œ ë‚´ë³´ë‚¼ ìˆ˜ ì—†ëŠ” ê²½ìš°, í•´ë‹¹ `Coin<T>`ì— ëŒ€í•œ ìš”ì²­ë“¤ì€ ëª¨ë“ˆì´ ì •ì˜í•œ í•­ëª©ìœ¼ë¡œë§Œ ì œí•œë©ë‹ˆë‹¤.\n  \nì…ê¸ˆ ë° ì¸ì¶œì„ ì‚¬ìš©í•˜ì—¬ ì½”ì¸ ì „ì†¡ì„ êµ¬í˜„í•˜ëŠ” ë‹¤ìŒì˜ ë‘ ê°€ì§€ ê¸°ëŠ¥ì„ ë¹„êµí•´ ë³´ì‹­ì‹œì˜¤:\n\n```move\npublic fun transfer<T>(sender: &signer, recipient: address, amount: u64) {\n    let coin = withdraw(&sender, amount);\n    deposit(recipient, coin);\n}\n```\n\nëª¨ë“ˆ ì™¸ë¶€ì—ì„œ ì½”ì¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë²”ìœ„ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n```move\nfun withdraw<T>(account: &signer, amount: u64): Coin<T>\nfun deposit<T>(account: address, coin: Coin<T>)\n```\n\nì¸ì¶œ ë° ì…ê¸ˆì— `public accessors`ë¥¼ ì¶”ê°€í•˜ë©´ ì½”ì¸ì„ ëª¨ë“ˆ ì™¸ë¶€ë¡œ ê°€ì ¸ì™€ ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ì‚¬ìš©í•˜ê³  ëª¨ë“ˆë¡œ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```move\npublic fun withdraw<T>(account: &signer, amount: u64): Coin<T>\npublic fun deposit<T>(account: address, coin: Coin<T>)\n```\n\n### Type-safety\n\n`Move`ì—ì„œ `A`ë¼ê³  í•˜ëŠ” íŠ¹ì • êµ¬ì¡°ì²´ê°€ ì£¼ì–´ì§€ë©´ ì„œë¡œ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‘ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- GUIDì™€ ê°™ì€ ë‚´ë¶€ ì‹ë³„ì\n- `T`ê°€ ë˜ ë‹¤ë¥¸ êµ¬ì¡°ì²´ì¸ `A<T>`ì™€ ê°™ì€ ì œë„¤ë¦­\n\në‚´ë¶€ ì‹ë³„ìëŠ” ë‹¨ìˆœí•˜ê³  í”„ë¡œê·¸ë˜ë°ì´ ìš©ì´í•˜ê¸° ë•Œë¬¸ì— í¸ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì œë„¤ë¦­ì€ ëª…ì‹œì  ì»´íŒŒì¼ ë˜ëŠ” ìœ íš¨ì„± ê²€ì‚¬ ì‹œê°„ì„ í¬í•¨í•œ í›¨ì”¬ ë” ë†’ì€ ë³´ì¥ì„ ì œê³µí•˜ì§€ë§Œ ì¼ë¶€ ë¹„ìš©ì´ ë°œìƒí•©ë‹ˆë‹¤.\n\nì œë„¤ë¦­ì€ ì´ëŸ¬í•œ ìœ í˜•ì„ ì˜ˆìƒí•˜ëŠ” ì™„ì „íˆ ë‹¤ë¥¸ ìœ í˜•ê³¼ ë¦¬ì†ŒìŠ¤ ë° ì¸í„°í˜ì´ìŠ¤ë¥¼ í—ˆìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì£¼ë¬¸ì„œì—ëŠ” ëª¨ë“  ì£¼ë¬¸ì— ëŒ€í•´ ë‘ ê°œì˜ í†µí™”ê°€ ì˜ˆìƒë˜ì§€ë§Œ ê·¸ ì¤‘ í•˜ë‚˜ëŠ” ìˆ˜ì •ë˜ì–´ì•¼ í•œë‹¤ê³  ëª…ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `buy<T>(Coin: Coin<APT>): Coin<T>`. ì´ê²ƒì€ ì‚¬ìš©ìê°€ ì–´ë– í•œ `Coin<T>`ë„ êµ¬ë§¤í•  ìˆ˜ ìˆì§€ë§Œ `Coin<APT>`ë¡œ ê²°ì œí•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ëª…ì‹œí•©ë‹ˆë‹¤.\n\nì œë„¤ë¦­ì˜ ë³µì¡ì„±ì€ ë°ì´í„°ë¥¼ `T`ì— ì €ì¥í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•  ë•Œ ë°œìƒí•©ë‹ˆë‹¤. `Move`ëŠ” ì œë„¤ë¦­ì—ì„œ ì •ì  ë””ìŠ¤íŒ¨ì¹˜ë¥¼ ì§€ì›í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, `create<T>(...) : Coin<T>`ì™€ ê°™ì€ í•¨ìˆ˜ì—ì„œ TëŠ” íŒ¬í…€ ìœ í˜•ì´ì–´ì•¼ í•©ë‹ˆë‹¤. ì¦‰, Coinì—ì„œ ìœ í˜• ë§¤ê°œ ë³€ìˆ˜ë¡œë§Œ ì‚¬ìš©ë˜ê±°ë‚˜ ìƒì„±í•  ì…ë ¥ìœ¼ë¡œ ì§€ì •ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ëª¨ë“  `T`ê°€ í•´ë‹¹ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ë”ë¼ë„ `T:: function`ê³¼ ê°™ì´ ì‚¬ìš©ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\nëŒ€ëŸ‰ìœ¼ë¡œ ìƒì„±ë  ìˆ˜ ìˆëŠ” êµ¬ì¡°ì²´ì˜ ê²½ìš° ì œë„¤ë¦­ì€ ë°ì´í„° ì¶”ì  ë° ì´ë²¤íŠ¸ ë°©ì¶œê³¼ ê´€ë ¨ëœ ë§ì€ ìƒˆ ì €ì¥ì†Œ ë° ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²°ê³¼ë¥¼ ë‚³ìŠµë‹ˆë‹¤.\n\nì´ ë•Œë¬¸ì—, ìš°ë¦¬ëŠ” ë‘ ê°€ì§€ \"í† í°\" í‘œì¤€ì„ ë§Œë“œëŠ” ì–´ë ¤ìš´ ì„ íƒì„ í–ˆìŠµë‹ˆë‹¤. í•˜ë‚˜ëŠ” `Coin`ì´ë¼ëŠ” í†µí™”ì™€ ê´€ë ¨ëœ í† í°ì— ëŒ€í•œ ê²ƒì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ìì‚°ê³¼ ë˜ëŠ” NFTë¡œ ë¶ˆë¦¬ëŠ” `Token`ì— ëŒ€í•œ ê²ƒì…ë‹ˆë‹¤. `Coin`ì€ ì œë„¤ë¦­ì„ í†µí•´ ì •ì  ìœ í˜•ì˜ ì•ˆì „ì„±ì„ í™œìš©í•˜ì§€ë§Œ í›¨ì”¬ ë‹¨ìˆœí•œ ê³„ì•½ì…ë‹ˆë‹¤. `Token`ì€ ìì²´ ë²”ìš© ì‹ë³„ìë¥¼ í†µí•´ ë™ì  ìœ í˜• ì•ˆì „ì„ í™œìš©í•˜ê³  ì‚¬ìš©ì˜ ì¸ì²´ê³µí•™ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë³µì¡ì„± ë•Œë¬¸ì— ì¼ë°˜ë¡ ì„ íšŒí”¼í•©ë‹ˆë‹¤\n\n### Data access\n\n- `signer`ëŠ” ëª…ì‹œì ìœ¼ë¡œ ëª…í™•í•˜ì§€ ì•Šì€ í•œ ê³„ì •ì— ìì‚°ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•˜ëŠ” ì•¡ì„¸ìŠ¤ë¥¼ ì œí•œí•´ì•¼ í•©ë‹ˆë‹¤.\n\n`Move`ì—ì„œ ëª¨ë“ˆì€ ê³„ì • ì†Œìœ ì ì„œëª…ìì˜ ì¡´ì¬ì— ê´€ê³„ì—†ì´ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ë°©ë²•ê³¼ ë¦¬ì†ŒìŠ¤ ë‚´ìš©ì„ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, í”„ë¡œê·¸ë˜ë¨¸ê°€ ì‹¤ìˆ˜ë¡œ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ê³„ì •ì—ì„œ ì„ì˜ë¡œ ìì‚°ì„ ìƒì„±í•˜ê±°ë‚˜ ì œê±°í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nAptos Core Frameworkë¥¼ ê°œë°œí•˜ë©´ì„œ ì ‘ê·¼ ê¶Œí•œì„ í—ˆìš© ë˜ëŠ” ë°©ì§€í•œ ìœ„ì¹˜ì— ëŒ€í•œ ëª‡ ê°€ì§€ ì˜ˆê°€ ìˆìŠµë‹ˆë‹¤:\n\n- Aìœ ì €ê°€ ì´ë¯¸  `U Token`ì„ ë³´ìœ í•œ ê²ƒì´ ì•„ë‹ˆë¼ë©´, `U Token`ì€ Aìœ ì €ì˜ `account`ì— ì§ì ‘ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n- ì ‘ê·¼ ì œì–´ ëª©ë¡ì„ íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•´ì„œ  `TokenTransfers`ê°€ ìœ ì €ê°€ ëª…ì‹œì ìœ¼ë¡œ ë‹¤ë¥¸ ìœ ì €ì˜ ë¦¬ì†ŒìŠ¤ì˜ í† í°ì„ ìš”êµ¬í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\n- Aìœ ì €ê°€ `Coin<T>`ì„ ì €ì¥í•  `CoinStore<Coin<T>>`ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì§€ê³  ìˆëŠ” í•œ, ì–´ë–¤ ìœ ì €ë“  Aìœ ì €ì—ê²Œ `Coin<T>`ì„ ì§ì ‘ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n`Token`ì— ëŒ€í•œ ì—„ê²©í•œ ë…¸ë ¥ì´ ë¶€ì¡±í•˜ë©´ ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ì‚¬ìš©ì ê³„ì •ìœ¼ë¡œ ì§ì ‘ `Token`ì„ ì—ì–´ë“œë¡­í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ì‚¬ìš©ì ê³„ì •ì— ì¶”ê°€ ìŠ¤í† ë¦¬ì§€ë¥¼ ì¶”ê°€í•˜ê³  ì²˜ìŒ ìŠ¹ì¸í•˜ì§€ ì•Šì€ ì½˜í…ì¸ ì˜ ì†Œìœ ìê°€ ë©ë‹ˆë‹¤.\n\nêµ¬ì²´ì ì¸ ì˜ˆë¡œ, ì¸ì¶œ ê¸°ëŠ¥ì´ ìˆëŠ” ì´ì „ `Coin` ì¼€ì´ìŠ¤ë¡œ ëŒì•„ê°€ì‹­ì‹œì˜¤. ëŒ€ì‹  `withdraw` í•¨ìˆ˜ê°€ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ëœ ê²½ìš°(`signer` ì¸ìˆ˜ê°€ ì—†ìŒì— ìœ ì˜í•˜ì‹­ì‹œì˜¤):\n\n```move\npublic fun withdraw<T>(account: address, amount: u64): Coin<T>\n```\n\nëˆ„êµ¬ë‚˜ ê³„ì •ì—ì„œ ì½”ì¸ì„ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### Resource accounts\n\n`Move` ëª¨ë¸ì€ ì¢…ì¢… íŠ¸ëœì­ì…˜ì˜ `signer`ë¥¼ ì•Œì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì—, AptosëŠ” `signer` ê¸°ëŠ¥ì„ í• ë‹¹í•˜ê¸° ìœ„í•œ ë¦¬ì†ŒìŠ¤ ê³„ì •ì„ ì œê³µí•©ë‹ˆë‹¤. ë¦¬ì†ŒìŠ¤ ê³„ì •ì„ ìƒì„±í•˜ë©´ `signer` ê¸°ëŠ¥ì— ì•¡ì„¸ìŠ¤í•˜ì—¬ ìë™ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `signer` ê¸°ëŠ¥ì€ ë¦¬ì†ŒìŠ¤ ê³„ì •ì˜ `signer`ê°€ ë¦¬ì†ŒìŠ¤ ê³„ì •ì„ ìƒì„±í•˜ê±°ë‚˜ ëª¨ë“ˆì˜ ë¡œì»¬ ì €ì¥ì†Œì— ë°°ì¹˜ëœ ì›ë³¸ ê³„ì •ì˜ ì£¼ì†Œì™€ í•¨ê»˜ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `create_nft_with_resource_account.move`ì—ì„œ `resource_signer_cap` ì°¸ì¡°ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.\n\në¦¬ì†ŒìŠ¤ ê³„ì •ì„ ìƒì„±í•  ë•Œ í•´ë‹¹ ê³„ì •ì— `signer` ê¸°ëŠ¥ë„ ë¶€ì—¬í•©ë‹ˆë‹¤. `signer` ê¸°ëŠ¥ ë‚´ì˜ ìœ ì¼í•œ í•„ë“œëŠ” `signer`ì˜ ì£¼ì†Œì…ë‹ˆë‹¤. `signer` ê¸°ëŠ¥ì—ì„œ `signer`ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ë³´ë ¤ë©´ `create_nft_with_resource_account.move`ì˜ `let resource_signer` í•¨ìˆ˜ë¥¼ ê²€í† í•˜ì‹­ì‹œì˜¤.  \n  \në³´ì•ˆ ì¹¨í•´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ëª¨ë“ˆê³¼ ë¦¬ì†ŒìŠ¤ ê³„ì •ë§Œ ì„œëª…ì ê¸°ëŠ¥ì„ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œëª…ì ê¸°ëŠ¥ì—ì„œ ì„œëª…ìë¥¼ ì—­ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ì—†ìœ¼ë©°, ëŒ€ì‹  ìƒˆ ë¦¬ì†ŒìŠ¤ ê³„ì •ì„ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê°œì¸ í‚¤ì—ì„œ ì„œëª…ì ê¸°ëŠ¥ì„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n`signer` ì·¨ì•½ì„±ì„ ì¶”ê°€ë¡œ ë°©ì§€í•˜ë ¤ë©´ ì§€ê°‘ ì´ë²¤íŠ¸ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³  ë‹¤ìŒ ì‚¬í•­ì„ í™•ì¸í•˜ì‹­ì‹œì˜¤:  \n  \n- ê³µì œë˜ëŠ” ê¸ˆì•¡ì´ ë§ìŠµë‹ˆë‹¤.  \n- NFT ìƒì„± ì´ë²¤íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤.  \n- NFT ì¸ì¶œ ì´ë²¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.\n\nSeeÂ [resource accounts](https://aptos.dev/guides/resource-accounts)Â to learn more.\n\n### Coins\n\nAPT(Aptos Token)ëŠ” ì„ì˜ì˜ ì£¼ì†Œë¡œ ì „ì†¡í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì£¼ì†Œì— ëŒ€í•œ ê³„ì •ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, USDCë¥¼ êµ¬ì…í–ˆìœ¼ë©° ì´ë¥¼ APTë¡œ ë³€í™˜í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì‚¬ìš©ìë¥¼ ë³´í˜¸í•˜ë ¤ë©´ í•´ë‹¹ í† í°ì„ ìˆ˜ë½í•´ì•¼ í•©ë‹ˆë‹¤.\n\n### Wrapping\n\n`Coin` ëŒ€ì‹  ë°¸ëŸ°ìŠ¤ë¥¼ ì§ì ‘ ë³´ê´€í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ? ìš°ë¦¬ëŠ” ë‹¹ì‹ ì´ `wrapper` ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë„ë¡ ê°„ì ‘ì ìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, `Coin`ì—ì„œ ì¶œê¸ˆ ë° ì…ê¸ˆ ì´ë²¤íŠ¸ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ì—ìŠ¤í¬ë¡œì˜ ê²½ìš° `Coin`ì„ ë³´ìœ í•˜ê¸° ìœ„í•œ ì´ë²¤íŠ¸ë„ ë°©ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nëª¨ë“ˆ ë‚´ì—ì„œ ë‹¤ë¥¸ êµ¬ì¡°ì²´ë“¤ì„(`structure`)ë¥¼ `destructure` í•˜ì—¬ ê°„ì ‘ì ìœ¼ë¡œ ì”ì•¡ ëŒ€ì‹  ì§ì ‘ `Coin`ì—ì„œ ë™ì‘ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ê²ƒì€ ê°œë³„ êµ¬í˜„ì— ë‹¬ë ¤ ìˆìŠµë‹ˆë‹¤. ë™ì¼í•œ ëª¨ë“ˆì—ì„œ `Coin`ê³¼ ë°¸ëŸ°ìŠ¤ë¥¼ ëª¨ë‘ ì •ì˜í•˜ëŠ” ê²½ìš° `destructure`ë¥¼ í†µí•´ ë‚´ë¶€ì˜ `Coin`ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì–»ì„ ìˆ˜ ìˆìœ¼ë©° êµ¬ì¡° ìì²´ì— ëŒ€í•œ ë³€ê²½ ê°€ëŠ¥í•œ ì°¸ì¡°ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëŒ€ì‹  `Coin` ëª¨ë“ˆì— ì˜ì¡´í•˜ëŠ” ê²½ìš°, ì‚¬ìš©ìì—ê²Œ ì…ê¸ˆí•˜ê¸° ìœ„í•´ `Balance` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ `BalanceWithdraw` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ `Coin`ì„ ì–»ì–´ì•¼ í•©ë‹ˆë‹¤. í•¨ê»˜ ì¶”ê°€í•˜ë ¤ë©´ `CoinMergeë¥¼` ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.\n\n### Generics\n\nì‚¬ìš©ì ì§€ì • í† í°ê³¼ Aptos í† í° ëª¨ë‘ì— ì œë„¤ë¦­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Aptosê°€ ì œê³µí•˜ëŠ” ìœ ì¼í•œ ë§ˆë²•ì€ Aptosê°€ ì• ê·¸ë¦¬ê²Œì´í„°ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì½”ì¸ ìœ í˜•ì—ëŠ” ì•„ì§ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n### Visibility\n\n`Functions`ëŠ” `private`ì´ ê¸°ë³¸ ê°’ì´ë¯€ë¡œ ê°™ì€ íŒŒì¼ì—ì„œë§Œ í˜¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.Â [`public`,Â `public(entry)`, etc.]Â ë¥¼ ì‚¬ìš©í•´ì„œ íŒŒì¼ ë°”ê¹¥ì—ì„œ í˜¸ì¶œ í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n-   `entry`Â - í•¨ìˆ˜ í˜¸ì¶œì„ ì‹¤ì œ entry í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ ë¶„ë¦¬í•©ë‹ˆë‹¤. ì¬ì¤‘ë³µì„±ì„ ë°©ì§€í•©ë‹ˆë‹¤(ì»´íŒŒì¼ëŸ¬ ì˜¤ë¥˜ ë°œìƒ)\n-   `public`Â - ëˆ„êµ¬ë‚˜ ì–´ë””ì„œë‚˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n-   `public(entry)`Â - ê´€ë ¨ íŠ¸ëœì­ì…˜ì— ì •ì˜ëœ ë©”ì„œë“œë§Œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n-   `public(friend)`Â - í˜„ì¬ ëª¨ë“ˆì´ ì‹ ë¢°í•˜ëŠ” ëª¨ë“ˆì„ ì„ ì–¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n-   `public(script)`Â - Aptos ë„¤íŠ¸ì›Œí¬ì—ì„œ ì„ì˜ ì´ë™ ì½”ë“œë¥¼ ì œì¶œ, ì»´íŒŒì¼ ë° ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n\nê°€ëŠ¥í•œ `public(entry)`ì´ ì•„ë‹Œ `entry`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ëŠ”ë°, ì½”ë“œê°€ ì¶”ê°€ ê°œì²´(`object`)ë¡œ ê°ì‹¸ì´ì§€ ì•Šë„ë¡ í•´ì£¼ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\n`Move`ëŠ” ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì¬ì§„ì…ì„ ë°©ì§€í•©ë‹ˆë‹¤\n\n1.  ë™ì  ë””ìŠ¤íŒ¨ì¹˜ê°€ ì—†ëŠ” ê²½ìš° ëª¨ë“ˆ ë‚´ì˜ ë‹¤ë¥¸ ëª¨ë“ˆì„ í˜¸ì¶œí•˜ë ¤ë©´ í•´ë‹¹ ëª¨ë“ˆì— ëª…ì‹œì ìœ¼ë¡œ ì˜ì¡´í•´ì•¼ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ë‹¤ë¥¸ ëª¨ë“ˆì€ ì‚¬ìš©ìì—ê²Œ ì˜ì¡´í•´ì•¼ í•©ë‹ˆë‹¤.\n2.  ìˆœí™˜ ì¢…ì†ì„±ì€ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ Aê°€ Bë¥¼ í˜¸ì¶œí•˜ê³  Bê°€ Aì— ìƒí˜¸ ì˜ì¡´í•˜ë©´ ëª¨ë“ˆ Bë¥¼ ë°°í¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\nFind out more about the Move programming language among theÂ [Move Guides](https://aptos.dev/).",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 9,
    "wordCount": 1763,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "interact-with-the-move-vm",
    "slug": "interact-with-the-move-vm",
    "path": "blockchain/aptos",
    "fullPath": "blockchain/aptos/interact-with-the-move-vm",
    "title": "Interact with the Move VM",
    "excerpt": "Interact with the Move VM The Aptos blockchain uses the Move virtual machine (VM) for executing operations...",
    "content": "# Interact with the Move VM\n\nThe Aptos blockchain uses the [Move](https://github.com/move-language/move) virtual machine (VM) for executing operations. While many blockchains implement a set of\nnative operations, Aptos delegates all operations to Move, including: account creation, fund transfer and publishing Move modules.\nTo support these operations, blockchains built on top of Move must provide a framework (akin to\nan operating system for a computer or a minimal viable set of functions) for interacting with the blockchain. In this section, we discuss\nthese functions, exposed via the Aptos Framework's `script` functions.\n\nThis guide (in concert with the [Move module tutorial](../tutorials/first-move-module.md) ) will unlock the minimal amount of information required to start building rich applications on top of the Aptos blockchain. Note: the Aptos Framework is under heavy development and this document may not\nbe up to date. The most recent framework can be found in the [source code](https://github.com/aptos-labs/aptos-core/tree/main/aptos-move/framework).\n\nThe core functions provided to users within the Aptos Framework include:\n\n- Sending and receiving the network coin `Coin<AptosCoin>`\n- Creating a new account\n- Publishing a new Move module\n\nNote: this document assumes readers are already familiar with submitting transactions, as described in the [Your first transaction tutorial](../tutorials/first-transaction.md).\n\n## Sending and Receiving the network coin `Coin<AptosCoin>`\n\n`Coin<AptosCoin>` is required for paying gas fees when submitting and executing transactions. `Coin<AptosCoin>` can be obtained by calling the Devnet Faucet. See the [Your first transaction](../tutorials/first-transaction.md) tutorial for an example.\n\nThe payload for instructing the blockchain to perform a transfer is:\n\n```\n{\n  \"type\": \"entry_function_payload\",\n  \"function\": \"0x1::coin::transfer\",\n  \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\"],\n  \"arguments\": [\n    \"0x737b36c96926043794ed3a0b3eaaceaf\",\n    \"1000\",\n  ]\n}\n```\n\nThis instructs the VM to execute the `script` `0x1::coin::transfer` with a type argument of 0x1::aptos_coin::AptosCoin. Type is required here as Coin is our standard module that can be used to create many types of Coins. See the [Your first coin tutorial](../tutorials/first-coin.md) for an example of creating a custom Coin. The first argument is the recipient address, `0x737b36c96926043794ed3a0b3eaaceaf`, and the second is the amount to transfer, `1000`. The sender address is the account\naddress that sent the transaction querying this `script`.\n\n## Creating a new account\n\nThe payload for instructing the blockchain to create a new account is:\n\n```\n{\n  \"type\": \"entry_function_payload\",\n  \"function\": \"0x1::aptos_account::create_account\",\n  \"type_arguments\": [],\n  \"arguments\": [\n    \"0x0c7e09cd9185a27104fa218a0b26ea88\",\n    \"0xaacf87ae9d8a5e523c7f1107c668cb28dec005933c4a3bf0465ffd8a9800a2d900\",\n  ]\n}\n```\n\nThis instructs the Move virtual machine to execute the `script` `0x1::aptos_account::create_account`. The first argument is the address of the account to create and the second is the authentication key pre-image (which is mentioned in [Accounts](../concepts/accounts.md). For single signer authentication, this is the public key concatenated with the `0` byte (or `pubkey_A | 0x00`). This is required to prevent account address land grabbing. The execution of this instruction verifies that the 32-bytes of the authentication key are the same as the 32-byte account address. We are actively working on improving this API to support taking in a 32-byte account address that would eliminate concerns around land grabbing or account manipulation.\n\n## Publishing a new Move module\n\nThe payload for publishing a new module is:\n\n```\n\"type\": \"module_bundle_payload\",\n\"modules\": [\n    {\"bytecode\": \"0x...\"},\n],\n```\n\nThis instructs the VM to publish the module bytecode under the sender's account. For a full-length tutorial, see [Your first move module](../tutorials/first-move-module.md).\n\nIt is important to note that the Move bytecode must specify the same address as the sender's account, otherwise the transaction will be rejected. For example, assuming account address `0xe110`, the Move module would need to be updated as such `module 0xe110::Message`, `module 0xbar::Message` would be rejected. Alternatively an aliased address could be used, such as `module HelloBlockchain::Message` but the `HelloBlockchain` alias would need to updated to `0xe110` in the `Move.toml` file. We are working with the Move team and planning on incorporating a compiler into our REST interface to mitigate this issue.\n\n[accounts]: /concepts/accounts\n[your-first-coin]: /tutorials/your-first-coin\n[your-first-move-module]: /tutorials/first-move-module\n[your-first-transaction]: /tutorials/your-first-transaction\n[move_url]: https://diem.github.io/move/\n[aptos_framework]: https://github.com/aptos-labs/aptos-core/tree/main/aptos-move/framework/aptos-framework/sources",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 4,
    "wordCount": 632,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "aptos-whitepaper",
    "slug": "aptos-whitepaper",
    "path": "blockchain/aptos",
    "fullPath": "blockchain/aptos/aptos-whitepaper",
    "title": "Aptos Whitepaper",
    "excerpt": "Aptos Whitepaper https://aptos.dev/aptos-white-paper/aptos-white-paper-in-korean...",
    "content": "# Aptos Whitepaper\n\nhttps://aptos.dev/aptos-white-paper/aptos-white-paper-in-korean",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 5,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "aptos-move-structure",
    "slug": "aptos-move-structure",
    "path": "blockchain/aptos",
    "fullPath": "blockchain/aptos/aptos-move-structure",
    "title": "Aptos Move Structure",
    "excerpt": "Aptos Move Structure ì—¬ëŸ¬ë¶„ì˜ Move ì½”ë“œë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í•˜ëŠ”ê²Œ ì¢‹ì€ì§€ ì´í•´í•˜ëŠ” ì‹œê°„ì„ ê°€ì ¸ë´…ì‹œë‹¤ Moveì˜ êµ¬ì¡°ì²´ëŠ” í•¨ìˆ˜ í´ë˜ìŠ¤ ì—­í• ì„ í•˜ëŠ” Rustì™€ ê°™ì€ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ êµ¬ì¡°ì²´ì™€ ë¹„ìŠ·í•©ë‹ˆë‹¤. ì›í•˜ëŠ” ë§Œí¼ êµ¬ì¡°ì²´ì— ë§ì€ í•„ë“œë¥¼ ê°€ì§ˆ ìˆ˜...",
    "content": "# Aptos Move Structure\n\nì—¬ëŸ¬ë¶„ì˜ Move ì½”ë“œë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í•˜ëŠ”ê²Œ ì¢‹ì€ì§€ ì´í•´í•˜ëŠ” ì‹œê°„ì„ ê°€ì ¸ë´…ì‹œë‹¤\n\nMoveì˜ êµ¬ì¡°ì²´ëŠ” í•¨ìˆ˜ í´ë˜ìŠ¤ ì—­í• ì„ í•˜ëŠ” Rustì™€ ê°™ì€ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ êµ¬ì¡°ì²´ì™€ ë¹„ìŠ·í•©ë‹ˆë‹¤. ì›í•˜ëŠ” ë§Œí¼ êµ¬ì¡°ì²´ì— ë§ì€ í•„ë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆì§€ë§Œ ê°œì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œì™€ ê°™ì´ êµ¬ì¡°ì²´ì— ë©”ì„œë“œë¥¼ ê°€ì§ˆ ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ Moveì—ëŠ” ìƒì†ì´ ì—†ìŠµë‹ˆë‹¤. ëŒ€ì‹  êµ¬ì¡°ì²´ë¥¼ ë‹¤ì‹œ ìƒì„±í•˜ë ¤ë©´ êµ¬ì¡°ì²´ë¥¼ ë³µì œí•´ì•¼ í•©ë‹ˆë‹¤.\n\nì¼ë‹¨ ê²Œì‹œë˜ë©´ Moveì˜ êµ¬ì¡°ì²´ ì •ì˜ëŠ” ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. êµ¬ì¡°ì²´ ìì²´ëŠ” ì—…ê·¸ë ˆì´ë“œí•  ìˆ˜ ì—†ì§€ë§Œ í•´ë‹¹ í•„ë“œì˜ ê°’ì€ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Moveì˜ ë³´ì•ˆì„ ìœ„í•´ êµ¬ì¡°ì²´ê°€ ì •ì˜ëœ ëª¨ë“ˆë§Œ êµ¬ì¡°ì²´ë¥¼ ë¶„í•´í•˜ê±°ë‚˜ í•´ë‹¹ ì†ì„±ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## Abilities\n\nMoveì˜ êµ¬ì¡°ì²´(Structures)ì—ëŠ” í•´ë‹¹ ìœ í˜•ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì‘ì—…ì„ ì„¤ëª…í•˜ëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì´ ë¶€ì—¬ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ë„¤ ê°€ì§€ ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.\n\n- copy: ë³µì‚¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥. ì§€ë¦¬ì  IDê°€ ì¢‹ì€ í™œìš© ì‚¬ë¡€ê°€ ë  ê²ƒì…ë‹ˆë‹¤. NFTëŠ” ì´ ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆì–´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.  values of types with this ability to be copied. A geographic ID would be a good use case. NFTs should not have this ability.\n- drop: íŒ/ë“œë¡­í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥.\n- store: ê¸€ë¡œë²Œ ìŠ¤í† ë¦¬ì§€ì˜ êµ¬ì¡°ì²´ ë‚´ë¶€ì— ì €ì¥ ë˜ëŠ” ì €ì¥í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥.\n- key: ê¸€ë¡œë²Œ ìŠ¤í† ë¦¬ì§€ ì‘ì—…ì˜ í‚¤ ì—­í• ì„ í•˜ëŠ” ìœ í˜•ì…ë‹ˆë‹¤.Â ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ê°’ì„ ê³„ì • ë‚´ ìµœìƒìœ„ í•­ëª©ìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## Global storage\n\nMoveì—ì„œ ê° ê³„ì •ì€ ì£¼ì–´ì§„ ìœ í˜•ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ í•˜ë‚˜ë§Œ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.Â `Coin`ì˜ˆë¥¼ ë“¤ì–´ Moveì˜ ê³„ì •ì€ í•˜ë‚˜ì˜ ìœ í˜•Â ë§Œ ì¡´ì¬í•˜ëŠ” í•´ì‹œë§µê³¼ ìœ ì‚¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤ .Â í•´ì‹œë§µì€ ë¦¬ì†ŒìŠ¤ ìœ í˜• ë˜ëŠ” ëª¨ë“ˆ ì´ë¦„ì„ ë¦¬ì†ŒìŠ¤ ê°’ì— ë§¤í•‘í•œ ê²ƒì…ë‹ˆë‹¤.Â ì´ê²ƒì´ Aptosê°€Â ì—¬ëŸ¬ ì½”ì¸ê³¼ í† í°ì„ ë³´ìœ í•˜ê¸° ìœ„í•œ ì¶”ìƒí™”ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´Â `CoinStore`ë° ì˜ í™€ë” íŒ¨í„´ì„ ì œê³µí•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤.Â `TokenStore`ì´ëŸ¬í•œ í™€ë”ëŠ” í…Œì´ë¸”ì„ í¬í•¨í•˜ê±°ë‚˜ ì €ì¥ì„ ìœ„í•´ ì œë„¤ë¦­ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\nAptosÂ ëŠ” íš¨ìœ¨ì ì¸ ìƒíƒœ ë™ê¸°í™” ë° ì¸ì¦ëœ ìŠ¤í† ë¦¬ì§€ ì½ê¸°ë¥¼ ìœ„í•´Â [Merkle íŠ¸ë¦¬ ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.](https://aptos.dev/reference/glossary/#merkle-trees)\n\n## Signers\n\nAptosì—ì„œ ì„œëª…ìëŠ” ì—„ì²­ë‚˜ê²Œ ê°•ë ¥í•©ë‹ˆë‹¤.Â êµ¬ì¡°ì²´ëŠ” ì„œëª…ì ì£¼ì†Œë¡œ ê²Œì‹œë©ë‹ˆë‹¤.Â ì„œëª…ìëŠ” íŠ¸ëœì­ì…˜ì— ì„œëª…í•˜ê³  ì œì¶œí•  ë•Œ ìƒì„±ë©ë‹ˆë‹¤.Â íŠ¸ëœì­ì…˜ì„ ì œì¶œí•  ë•Œ ì„œëª…ìëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì…ë‹ˆë‹¤.Â ì„œëª…ìëŠ” ìì‹ ì˜ êµ¬ì¡°ì²´ë¥¼ ì²´ì¸ì— í¬í•¨í•˜ëŠ” ë° ë™ì˜í–ˆìŠµë‹ˆë‹¤.Â ì„œëª…ìì—ê²ŒëŠ” ì €ì¥ ë˜ëŠ” í‚¤ ê¸°ëŠ¥ì´ ì—†ê³  ë³µì‚¬ ê¸°ëŠ¥ë§Œ ìˆìŠµë‹ˆë‹¤.\n\n## key\n\në‹¤ë¥¸ ì‚¬ìš©ìê°€ ì„œëª…ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ì„œëª…ìëŠ” ë¦¬ì†ŒìŠ¤ì— ì €ì¥ë©ë‹ˆë‹¤. `key` ê¸°ëŠ¥ì„ í†µí•´ `type`ì€ `store` ê¸°ëŠ¥ì´ ìˆëŠ” `Coin`ê³¼ ê°™ì€ ê¸€ë¡œë²Œ ìŠ¤í† ë¦¬ì§€ ì‘ì—…ì˜ `key` ì—­í• ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `Balance`ì—ëŠ” `key`ê¸°ëŠ¥ì´ ìˆìœ¼ë¯€ë¡œ ê³„ì • ë‚´ ìµœìƒìœ„ í•­ëª©ìœ¼ë¡œ `store`í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nAptosëŠ” ì„œëª…ìë¥¼ ì €ì¥í•˜ì§€ ì•Šê³  ì„œëª…ì ê¸°ëŠ¥ì„ ì €ì¥í•©ë‹ˆë‹¤. ì œí•œëœ `native` ê¸°ëŠ¥ë§Œ ì„œëª…ì ê¸°ëŠ¥ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. NFTë¥¼ `minting`í•˜ë ¤ë©´ ì»¬ë ‰ì…˜ì„ ìƒì„±í•œ ì„œëª…ìì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ê²ƒì´ ë™ì  ë°œí–‰ì„ ìˆ˜í–‰í•  ë•Œ ë§ì€ ì‚¬ëŒë“¤ì´ NFTë¥¼ ë¯¸ë¦¬ ë°œí–‰(`pre-mint`)í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤. AptosëŠ” íŠ¸ëœì­ì…˜ì— ììœ¨ì ìœ¼ë¡œ ì„œëª…í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ ê³„ì •ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n## acquires\n\nìœ ì €ê°€ êµ¬ì¡°ì²´ì™€ ê°™ì€ ê¸€ë¡œë²Œ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í• ë•Œë§ˆë‹¤ í•­ìƒ ë¨¼ì € ì´ê²ƒì„ íšë“(`acquire`)í•´ì•¼í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´,  NFT ì…ì¶œê¸ˆì‹œ `TokenStore`ë¥¼ íšë“í•´ì•¼ í•©ë‹ˆë‹¤. ë¦¬ì†ŒìŠ¤ë¥¼ íšë“í•˜ëŠ” ëª¨ë“ˆ ë‚´ë¶€ì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë‹¤ë¥¸ ëª¨ë“ˆì˜ í•¨ìˆ˜ê°€ ìˆëŠ” ê²½ìš°, ì²« ë²ˆì§¸ í•¨ìˆ˜ì— `acquires()`ë¡œ ë ˆì´ë¸”ì„ ì§€ì •í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.\n\në¦¬ì†ŒìŠ¤ê°€ ê³„ì • ë‚´ë¶€ì— ì €ì¥ë˜ë¯€ë¡œ ì†Œìœ ê¶Œì´ ëª…í™•í•´ì§‘ë‹ˆë‹¤. ê³„ì •ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” ëª¨ë“ˆì€ í•´ë‹¹ êµ¬ì¡°ì²´ë¥¼ ì½ê³  ìˆ˜ì •í•˜ëŠ” ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ëª¨ë“ˆ ë‚´ë¶€ì˜ ì½”ë“œëŠ” í•´ë‹¹ êµ¬ì¡°ì²´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ íšë“í•´ì•¼ í•©ë‹ˆë‹¤.\n\nê·¸ë˜ë„ Moveì—ì„œ ë¹Œë¦¬ê±°ë‚˜ ì´ë™í•˜ëŠ” ëª¨ë“  ìœ„ì¹˜ì—ì„œ ìë™ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ íšë“í•˜ê²Œ ë©ë‹ˆë‹¤. ëª…í™•ì„±ì„ ìœ„í•´ ëª…ì‹œì  í¬í•¨ì„ ìœ„í•´ ì·¨ë“ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. ë§ˆì°¬ê°€ì§€ë¡œ `exists()` í•¨ìˆ˜ì—ëŠ” `acquires()` í•¨ìˆ˜ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nì°¸ê³ : ìì‹ ì˜ ëª¨ë“ˆì— ì •ì˜ëœ êµ¬ì¡°ì²´ì—ì„œ ëª¨ë“  ê³„ì •ì˜ ëª¨ë“ˆ ë‚´ ì „ì—­(`global`)ì„ ë¹Œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë“ˆ ì™¸ë¶€ì—ì„œ ì „ì—­ì„ ë¹Œë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n## move_to\n\nê·¸ëŸ° ë‹¤ìŒ `move_to` í•¨ìˆ˜ë¥¼ ì„œëª…ì ë° ê³„ì •ì— ëŒ€í•œ ì°¸ì¡°ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ êµ¬ì¡°ì²´ë¥¼ ê³„ì •ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ ê³¼ì •ì—ì„œ ìš°ë¦¬ëŠ” ê°€ì¹˜ê°€ ìˆëŠ” ì½”ì¸ì˜ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nYou may then use the `move_to` function along with a reference to signer and account to move the struct into an account. In the process, we create a new instance of coin with value.\n\n## Initialization\n\n`init_module`ì€ ëª¨ë“ˆì´ ë°°í¬ë  ë•Œ ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ê³  ì‹¤í–‰ë©ë‹ˆë‹¤.\nThe `init_module` automatically gets called and run when the module is published:\n\n```shell\n    fun init_module(resource_account: &signer) {\n        let resource_signer_cap = resource_account::retrieve_resource_account_cap(resource_account, @source_addr);\n        let resource_signer = account::create_signer_with_capability(&resource_signer_cap);\n```\n\n`mint_nft_ticket()` í•¨ìˆ˜ëŠ” ì½œë ‰ì…˜ì„ ê°€ì ¸ì˜¤ê³  í† í°ì„ ìƒì„±í•©ë‹ˆë‹¤.\nThe `mint_nft_ticket()` function gets a collection and creates a token.\n\nTokenData IDì˜ ê²°ê³¼ë¡œ, í•¨ìˆ˜ëŠ” ëª¨ë“ˆì˜ ë¦¬ì†ŒìŠ¤ ì„œëª…ìë¥¼ ì‚¬ìš©í•˜ì—¬ í† í°ì„ NFT ìˆ˜ì‹ ìì— `mint`í•©ë‹ˆë‹¤.\n\nFor example:\n\n```shell\n    public entry fun mint_nft(receiver: &signer) acquires ModuleData {\n        let receiver_addr = signer::address_of(receiver);\n```\n\n## Signing\n\nëª¨ë“  `entry fun`ì€ `&signer` ìœ í˜•ì„ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. Moveì™€ Aptos ëª¨ë‘ íŠ¸ëœì­ì…˜ì„ ì œì¶œí•  ë•Œë§ˆë‹¤ íŠ¸ëœì­ì…˜ì— ì„œëª…í•˜ëŠ” ê°œì¸ í‚¤ê°€ ìë™ìœ¼ë¡œ ì—°ê²°ëœ ê³„ì •ì„ ì„œëª…ìì˜ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ë§Œë“­ë‹ˆë‹¤.\n\nì„œëª…ìì—ì„œ ì£¼ì†Œë¡œ ì´ë™í•  ìˆ˜ ìˆì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ ê·¸ ë°˜ëŒ€ëŠ” ì•„ë‹™ë‹ˆë‹¤. ë”°ë¼ì„œ NFTë¥¼ ì²­êµ¬í•  ë•Œ ì•„ë˜ ì§€ì¹¨ê³¼ ê°™ì´ ìƒì„±ìì™€ ìˆ˜ì‹ ìì˜ ê°œì¸ í‚¤ê°€ ëª¨ë‘ í•„ìš”í•©ë‹ˆë‹¤.\n\n`init_module`ì—ì„œ ì„œëª…ìëŠ” í•­ìƒ ê³„ì•½ì„ ì—…ë¡œë“œí•˜ëŠ” ê³„ì •ì…ë‹ˆë‹¤. ì´ê²ƒì€ ë‹¤ìŒê³¼ ê²°í•©ë©ë‹ˆë‹¤.\n\n```move\n        token::create_collection(&resource_signer, collection, description, collection_uri, maximum_supply, mutate_setting);\n\n```\n\nThen:\n\n```move\n        signer_cap: account::SignerCapability,\n```\n\nì„œëª…ì ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ëª¨ë“ˆì´ ììœ¨ì ìœ¼ë¡œ ì„œëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì› ê³„ì •ì€ ëˆ„êµ¬ë„ ê°œì¸ í‚¤ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í•˜ë„ë¡ í•˜ë©° ì „ì ìœ¼ë¡œ ê³„ì•½ì— ì˜í•´ ì œì–´ë©ë‹ˆë‹¤.\n\n## Module data\n\nê·¸ëŸ° ë‹¤ìŒ 'ModuleData'ê°€ ì´ˆê¸°í™”ë˜ê³  ì„œëª…ì ê¸°ëŠ¥ì´ ìˆëŠ” ë¦¬ì†ŒìŠ¤ ê³„ì •ìœ¼ë¡œ `_moved_`ë©ë‹ˆë‹¤.\n\n```shell\n        move_to(resource_account, ModuleData {\n```\n\n`mint_nft_ticket()` í•¨ìˆ˜ì—ì„œ ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” `ModuleData` êµ¬ì¡°ì²´ë¥¼ ì°¨ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\n```shell\n        let module_data = borrow_global_mut<ModuleData>(@mint_nft);\n```\n\nê·¸ëŸ° ë‹¤ìŒ `ModuleData` êµ¬ì¡°ì²´ì˜ ì„œëª…ì ê¸°ëŠ¥ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ `resource_signer`ë¥¼ ë§Œë“­ë‹ˆë‹¤.\n\n```shell\n        let resource_signer = account::create_signer_with_capability(&module_data.signer_cap);\n```\n\nì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ëª¨ë“ˆì— ì´ë¯¸ ì €ì¥ëœ ì„œëª…ì ê¸°ëŠ¥ì„ ë‚˜ì¤‘ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë“ˆê³¼ í•´ë‹¹ êµ¬ì¡°ë¥¼ ê³„ì •ìœ¼ë¡œ ì´ë™í•˜ë©´ í•´ë‹¹ ê³„ì •ê³¼ ì—°ê²°ëœ Aptos Explorerì— í‘œì‹œë©ë‹ˆë‹¤.\n\n## Accounts\n\nì˜ˆë¥¼ ë“¤ì–´ NFTë¥¼ ë°œí–‰í•  ë•Œ NFTëŠ” ê³„ì • ì£¼ì†Œì— ì €ì¥ë©ë‹ˆë‹¤. íŠ¸ëœì­ì…˜ì„ ì œì¶œí•˜ë©´ íŠ¸ëœì­ì…˜ì— ì„œëª…í•©ë‹ˆë‹¤. `aptos init`ë¥¼ ì‹¤í–‰í•˜ëŠ” ìœ„ì¹˜(ì•„ë˜)ì™€ ê´€ë ¨ëœ `.aptos/config.yaml`ì—ì„œ ê³„ì • êµ¬ì„± ì •ë³´ë¥¼ ì°¾ìœ¼ì‹­ì‹œì˜¤.\n\në¦¬ì†ŒìŠ¤ ê³„ì •ì„ ì‚¬ìš©í•˜ë©´ íŠ¸ëœì­ì…˜ ì„œëª…ì„ ìœ„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¦¬ì†ŒìŠ¤ ê³„ì •ì„ ìƒì„±í•˜ì—¬ ë™ì¼í•œ ê³„ì •ì˜ ìƒˆ ë¦¬ì†ŒìŠ¤ì— ì €ì¥í•  ìˆ˜ ìˆê³  ììœ¨ì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì— ì„œëª…í•  ìˆ˜ ìˆëŠ” ì„œëª…ì ê¸°ëŠ¥ì„ ë¶€ì—¬í•©ë‹ˆë‹¤. ì•„ë¬´ë„ ìì› ê³„ì •ì˜ ê°œì¸ í‚¤ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì„œëª…ì ê¸°ëŠ¥ì´ ë³´í˜¸ë©ë‹ˆë‹¤.",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 5,
    "wordCount": 872,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "aptos-integration-guide",
    "slug": "aptos-integration-guide",
    "path": "blockchain/aptos",
    "fullPath": "blockchain/aptos/aptos-integration-guide",
    "title": "Aptos Integration Guide",
    "excerpt": "Aptos Integration Guide https://aptos.dev/guides/system-integrators-guide...",
    "content": "# Aptos Integration Guide\n\nhttps://aptos.dev/guides/system-integrators-guide",
    "docType": "original",
    "category": "Blockchain",
    "tags": [],
    "readingTime": 1,
    "wordCount": 6,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "í™•ì¥ ê°€ëŠ¥í•œ ì‹¤ì‹œê°„ WebSocket ì„œë²„ ì•„í‚¤í…ì²˜ ì„¤ê³„",
    "slug": "hwagjang-ganeunghan-silsigan-websocket-seobeo-akitegceo-seolgye",
    "path": "backend/websocket",
    "fullPath": "backend/websocket/hwagjang-ganeunghan-silsigan-websocket-seobeo-akitegceo-seolgye",
    "title": "í™•ì¥ ê°€ëŠ¥í•œ ì‹¤ì‹œê°„ WebSocket ì„œë²„ ì•„í‚¤í…ì²˜ ì„¤ê³„",
    "excerpt": "í™•ì¥ ê°€ëŠ¥í•œ ì‹¤ì‹œê°„ WebSocket ì„œë²„ ì•„í‚¤í…ì²˜ ì„¤ê³„",
    "content": "# í™•ì¥ ê°€ëŠ¥í•œ ì‹¤ì‹œê°„ WebSocket ì„œë²„ ì•„í‚¤í…ì²˜ ì„¤ê³„\n\nì‹¤ì‹œê°„ í†µì‹  í™˜ê²½ì—ì„œ ì„œë²„ë¥¼ ìˆ˜í‰ í™•ì¥(Horizontal Scaling)í•  ë•Œ ê°€ì¥ í° ê¸°ìˆ ì  ê³¼ì œëŠ” **'ìƒíƒœ(State)ì˜ ì¤‘ì•™ ì§‘ì¤‘í™”'**ì…ë‹ˆë‹¤. íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ê°€ ì–´ëŠ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ì— ì ìœ ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ê´€ë¦¬í•˜ê³ , ì„œë²„ ê°„ ë©”ì‹œì§€ë¥¼ ì •í™•íˆ ë¼ìš°íŒ…í•˜ëŠ” ì„¤ê³„ê°€ í•µì‹¬ì…ë‹ˆë‹¤.\n\n---\n\n### 1. ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜\n\nì—¬ëŸ¬ ëŒ€ì˜ WebSocket ì„œë²„ê°€ ë¡œë“œë°¸ëŸ°ì„œ í•˜ë‹¨ì— ë°°ì¹˜ë˜ë©°, Redisë¥¼ ê³µìœ  ì €ì¥ì†Œ ë° ë©”ì‹œì§€ ë¸Œë¡œì»¤ë¡œ í™œìš©í•˜ì—¬ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.\n\n\n```mermaid\ngraph TD\n    C1[Client A] --> LB(\"Load Balancer\")\n    C2[Client B] --> LB\n    LB --> WS1[\"WS Server 1<br/>(ID: SVR_1)\"]\n    LB --> WS2[\"WS Server 2<br/>(ID: SVR_2)\"]\n    \n    subgraph Redis_Layer [Redis Instance / Cluster]\n        R_HASH[(\"Redis Hash<br/>(Session Store)\")]\n        R_PUBSUB((\"(Redis Pub/Sub<br/>(Message Broker)\"))\n        R_STREAM[\"Redis Streams<br/>(Event Log)\"]\n    end\n\n    WS1 <--> R_HASH\n    WS2 <--> R_HASH\n    WS1 <--> R_PUBSUB\n    WS2 <--> R_PUBSUB\n    WS1 -.-> R_STREAM\n    WS2 -.-> R_STREAM\n\n    style LB fill:#f5f5f5,stroke:#333\n    style Redis_Layer fill:#fff5f5,stroke:#ff0000,stroke-dasharray: 5 5\n```\n\n---\n\n### 2. Redis ì»´í¬ë„ŒíŠ¸ë³„ ì—­í•  ì •ì˜\n\n|**ì»´í¬ë„ŒíŠ¸**|**í•µì‹¬ ê¸°ëŠ¥**|**ë¹„ê³ **|\n|---|---|---|\n|**Hash**|**ì „ì—­ ì„¸ì…˜ ê´€ë¦¬:** `{UserId: ServerId}` ë§¤í•‘ ì •ë³´ ì €ì¥|ì„¸ì…˜ ìœ„ì¹˜ í™•ì¸ìš©|\n|**Pub/Sub**|**ì‹¤ì‹œê°„ ë¼ìš°íŒ…:** ì„œë²„ ê°„ ì´ë²¤íŠ¸ ì „íŒŒ (Fire-and-forget)|ë‚®ì€ ì§€ì—° ì‹œê°„ ìš°ì„ |\n|**Streams**|**ì‹ ë¢°ì„± ë³´ì¥:** ë©”ì‹œì§€ ì˜ì†í™” ë° ì¬ì—°ê²° ì‹œ ëˆ„ë½ ë°ì´í„° ë³µêµ¬|At-least-once ì „ë‹¬ ë³´ì¥|\n\n---\n\n### 3. í•µì‹¬ ìš´ì˜ ì›Œí¬í”Œë¡œìš°\n\n#### â‘  ì„¸ì…˜ ë“±ë¡ í”„ë¡œì„¸ìŠ¤\n\ní´ë¼ì´ì–¸íŠ¸ê°€ í•¸ë“œì…°ì´í¬ë¥¼ ì™„ë£Œí•˜ë©´ Redis Hashì— ì„¸ì…˜ ì •ë³´ë¥¼ ê¸°ë¡í•˜ì—¬ ì „ì—­ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.\n\n\n```mermaid\nsequenceDiagram\n    participant C as Client A\n    participant S as WS Server 1 (SVR_1)\n    participant R as Redis Hash\n\n    C->>S: WebSocket Upgrade\n    S->>R: HSET user:session \"User_A\" \"SVR_1\"\n    R-->>S: OK\n    S-->>C: 101 Switching Protocols\n```\n\n#### â‘¡ ì„œë²„ ê°„ ë©”ì‹œì§€ ë¼ìš°íŒ…\n\nìƒëŒ€ë°©ì´ ë‹¤ë¥¸ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì† ì¤‘ì¼ ê²½ìš°, ì„¸ì…˜ ì •ë³´ë¥¼ ì¡°íšŒí•œ í›„ í•´ë‹¹ ì„œë²„ ì „ìš© ì±„ë„ë¡œ ë©”ì‹œì§€ë¥¼ ë°œí–‰í•©ë‹ˆë‹¤.\n\n\n```mermaid\nsequenceDiagram\n    participant S1 as Server 1 (User A)\n    participant RH as Redis Hash\n    participant RP as Redis Pub/Sub\n    participant S2 as Server 2 (User B)\n\n    S1->>RH: HGET user:session \"User_B\"\n    RH-->>S1: return \"SVR_2\"\n    S1->>RP: PUBLISH \"server:SVR_2\" \"{ payload }\"\n    Note over RP, S2: S2ëŠ” 'server:SVR_2' ì±„ë„ êµ¬ë… ì¤‘\n    RP-->>S2: Message Received\n    S2->>S2: Local Session ë§¤í•‘ í›„ í´ë¼ì´ì–¸íŠ¸ ì „ì†¡\n```\n\n#### â‘¢ Redis Streamsë¥¼ ì´ìš©í•œ ë°ì´í„° ë³µêµ¬\n\në„¤íŠ¸ì›Œí¬ ìˆœë‹¨ ì‹œ í´ë¼ì´ì–¸íŠ¸ê°€ `Last-Event-ID`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ëˆ„ë½ëœ ë©”ì‹œì§€ë¥¼ ìš”ì²­í•˜ëŠ” íë¦„ì…ë‹ˆë‹¤.\n\n\n```mermaid\nflowchart TD\n    Start([í´ë¼ì´ì–¸íŠ¸ ì¬ì—°ê²°]) --> Request[Last-Event-ID í¬í•¨ ìš”ì²­ ì „ì†¡]\n    Request --> Check{ID ìœ íš¨ì„± ê²€ì‚¬}\n    \n    Check -- \"ìœ íš¨\" --> Read[XREAD: Last-ID ì´í›„ ë°ì´í„° ì¸ì¶œ]\n    Check -- \"ë§Œë£Œ/ì—†ìŒ\" --> Default[XREAD: ìµœì‹  ë°ì´í„° $ ë¶€í„° êµ¬ë…]\n    \n    Read --> Push[WebSocketìœ¼ë¡œ ëˆ„ë½ë¶„ Push]\n    Push --> RealTime[ì‹¤ì‹œê°„ ëª¨ë“œ ì „í™˜]\n    Default --> RealTime\n\n    style Start fill:#f9f,stroke:#333\n    style RealTime fill:#ccf,stroke:#333\n```\n\n---\n\n### 4. ì„¤ê³„ ë° ìš´ì˜ ê°€ì´ë“œë¼ì¸\n\n- **ì¢€ë¹„ ì„¸ì…˜(Zombie Session) ë°©ì§€:** ì„œë²„ ë¹„ì •ìƒ ì¢…ë£Œ ì‹œ ì„¸ì…˜ ì •ë³´ê°€ ë‚¨ì§€ ì•Šë„ë¡ ì„¸ì…˜ í‚¤ì— **TTL**ì„ ì„¤ì •í•˜ê³ , **Heartbeat(Ping/Pong)** ì‹œì ì— ìˆ˜ì‹œë¡œ ê°±ì‹ í•´ì•¼ í•©ë‹ˆë‹¤.\n    \n- **Graceful Shutdown:** ë°°í¬ ì‹œ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¢…ë£Œ ì‹ í˜¸(`SIGTERM`)ë¥¼ ë°›ìœ¼ë©´, ê´€ë¦¬ ì¤‘ì¸ ëª¨ë“  ì„¸ì…˜ì„ Redis Hashì—ì„œ ì‚­ì œ(`HDEL`)í•œ í›„ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œí•´ì•¼ í•©ë‹ˆë‹¤.\n    \n- **Backpressure ì œì–´:** í´ë¼ì´ì–¸íŠ¸ì˜ ìˆ˜ì‹  ì†ë„ê°€ ëŠë¦´ ê²½ìš° ì„œë²„ ë©”ëª¨ë¦¬ ë¶€í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Redis Streamsì˜ **Consumer Group** ê¸°ëŠ¥ì„ í™œìš©í•´ ì²˜ë¦¬ëŸ‰ì„ ì¡°ì ˆí•˜ëŠ” ì„¤ê³„ë¥¼ ê²€í† í•˜ì‹­ì‹œì˜¤.",
    "docType": "original",
    "category": "Backend_Websocket",
    "tags": [],
    "readingTime": 3,
    "wordCount": 453,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ë°ì½”ë ˆì´í„°-decorator",
    "slug": "dekoreiteo-decorator",
    "path": "backend/patterns",
    "fullPath": "backend/patterns/dekoreiteo-decorator",
    "title": "ë°ì½”ë ˆì´í„° (Decorator)",
    "excerpt": "ë°ì½”ë ˆì´í„° (Decorator) ì •ì˜ ë°ì½”ë ˆì´í„°ëŠ” í´ë˜ìŠ¤ ì„ ì–¸, ë©”ì„œë“œ, ì ‘ê·¼ì, í”„ë¡œí¼í‹°, ë˜ëŠ” ë§¤ê°œë³€ìˆ˜ì— ì²¨ë¶€í•  ìˆ˜ ìˆëŠ” íŠ¹ìˆ˜í•œ ì¢…ë¥˜ì˜ ì„ ì–¸ì…ë‹ˆë‹¤. ì‚¬ìš© í˜•ì‹ì€ ê³¼ ê°™ìœ¼ë©°, ì—¬ê¸°ì„œ ì€ ë°ì½”ë ˆì´íŒ… ëœ ì„ ì–¸...",
    "content": "# ë°ì½”ë ˆì´í„° (Decorator)\n\n## ì •ì˜\n\në°ì½”ë ˆì´í„°ëŠ” í´ë˜ìŠ¤ ì„ ì–¸, ë©”ì„œë“œ, ì ‘ê·¼ì, í”„ë¡œí¼í‹°, ë˜ëŠ” ë§¤ê°œë³€ìˆ˜ì— ì²¨ë¶€í•  ìˆ˜ ìˆëŠ” íŠ¹ìˆ˜í•œ ì¢…ë¥˜ì˜ ì„ ì–¸ì…ë‹ˆë‹¤.  ì‚¬ìš© í˜•ì‹ì€ `@expression`ê³¼ ê°™ìœ¼ë©°, ì—¬ê¸°ì„œ `@expression`ì€ ë°ì½”ë ˆì´íŒ… ëœ ì„ ì–¸ì— ëŒ€í•œ ì •ë³´ì™€ í•¨ê»˜ ëŸ°íƒ€ì„ì— í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤. ë°ì½”ë ˆì´í„°ëŠ” í´ë˜ìŠ¤ì™€ í´ë˜ìŠ¤ ë©¤ë²„ì— ì–´ë…¸í…Œì´ì…˜ê³¼ ë©”íƒ€-í”„ë¡œê·¸ë˜ë° êµ¬ë¬¸ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n## ë°ì½”ë ˆì´í„° íŒ©í† ë¦¬ (Decorator Factories)\n\n```typescript\nfunction color(value: string) { // ë°ì½”ë ˆì´í„° íŒ©í† ë¦¬\n\treturn function (target) { // ë°ì½”ë ˆì´í„°\n\t\t// 'target'ê³¼ 'value' ë³€ìˆ˜ë¥¼ ê°€ì§€ê³  ë¬´ì–¸ê°€ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤\n\t\t...\n\t}\n}\n\n# Reference\n- https://www.typescriptlang.org/docs/handbook/decorators.html#handbook-content\n```\n\n## ë°ì½”ë ˆì´í„° í•©ì„± (Decorator Composition)\n\nTypeScriptì—ì„œ ë‹¨ì¼ ì„ ì–¸ì—ì„œ ì—¬ëŸ¬ ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•  ë•Œ ë‹¤ìŒ ë‹¨ê³„ê°€ ìˆ˜í–‰ë©ë‹ˆë‹¤.\n\n1.  ê° ë°ì½”ë ˆì´í„°ì˜ í‘œí˜„ì€ ìœ„ì—ì„œ ì•„ë˜ë¡œ í‰ê°€ë©ë‹ˆë‹¤.\n2.  ê·¸ëŸ° ë‹¤ìŒ ê²°ê³¼ëŠ” ì•„ë˜ì—ì„œ ìœ„ë¡œ í•¨ìˆ˜ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤.\n\nì—¬ëŸ¬ ë°ì½”ë ˆì´í„°ê°€ ë‹¨ì¼ ì„ ì–¸ì— ì ìš©ë˜ëŠ” ê²½ìš° ì˜ˆì‹œë¥¼ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\n\n```typescript\nfunction first() {  \n  console.log('first(): factory evaluated');  \n  return (target: any, propertyKey: string, descriptor: PropertyDescriptor) => {  \n    console.log('first(): called');  \n  };  \n}  \n  \nfunction second() {  \n  console.log('second(): factory evaluated');  \n  return (target: any, propertyKey: string, descriptor: PropertyDescriptor) => {  \n    console.log('second(): called');  \n  };  \n}  \n  \nclass ExampleClass {  \n  @first()  \n  @second()  \n  method() {}  \n}\n\n# Reference\n- https://www.typescriptlang.org/docs/handbook/decorators.html#handbook-content\n```\nìœ„ `ExampleClass`ì˜  `method` ë¥¼ í˜¸ì¶œí•˜ë©´ ì•„ë˜ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ê²Œ ë©ë‹ˆë‹¤\n```\nfirst(): factory evaluated\nsecond(): factory evaluated\nsecond(): called\nfirst(): called\n```\n\n## ë°ì½”ë ˆì´í„° í‰ê°€ (Decorator Evaluation)\n\ní´ë˜ìŠ¤ì—ì„œ ë‹¤ì–‘í•œ ì„ ì–¸ì— ë°ì½”ë ˆì´í„°ë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ì´ ì˜ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n1. _Parameter Decorators_, followed byÂ _Method_,Â _Accessor_, orÂ _Property Decorators_Â are applied for each instance member.\n2.  _Parameter Decorators_, followed byÂ _Method_,Â _Accessor_, orÂ _Property Decorators_Â are applied for each static member.\n3.  _Parameter Decorators_Â are applied for the constructor.\n4.  _Class Decorators_Â are applied for the class.\n\n## í´ë˜ìŠ¤ ë°ì½”ë ˆì´í„° (Class Decorators)\n\ní´ë˜ìŠ¤ ë°ì½”ë ˆì´í„°ëŠ” í´ë˜ìŠ¤ ì„ ì–¸ ì§ì „ì— ì„ ì–¸ë˜ë©°, í•´ë‹¹ í´ë˜ìŠ¤ì˜ ìƒì„±ìì— ì ìš©ë©ë‹ˆë‹¤.\n```typescript\n@sealed\nclass BugReport {\n  type = \"report\";\n  title: string;\n  \n  constructor(t: string) {\n    this.title = t;\n  }\n}\n\nfunction sealed(constructor: Function) {\n  Object.seal(constructor);\n  Object.seal(constructor.prototype);\n}\n```\n\n```typescript\nfunction reportableClassDecorator<T extends { new (...args: any[]): {} }>(  \n  constructor: T,  \n) {  \n  return class extends constructor {  \n    reportingURL = 'http://www...';  \n  };  \n}  \n  \n@reportableClassDecorator  \nclass BugReport {  \n  type = 'report';  \n  title: string;  \n  \n  constructor(t: string) {  \n    this.title = t;  \n  }  \n}  \n  \nconst bug = new BugReport('Needs dark mode');  \nconsole.log(bug.title); // Prints \"Needs dark mode\"  \nconsole.log(bug.type); // Prints \"report\"  \n  \n// Note that the decorator *does not* change the TypeScript type  \n// and so the new property `reportingURL` is not known  \n// to the type system:  \nbug.reportingURL;\n\nProperty 'reportingURL' does not exist on type 'BugReport'.\n```\n\n## ë©”ì†Œë“œ ë°ì½”ë ˆì´í„° (Method Decorators)\n\në©”ì„œë“œ ë°ì½”ë ˆì´í„°ëŠ” ë©”ì„œë“œ ì„ ì–¸ ì§ì „ì— ì„ ì–¸ë©ë‹ˆë‹¤. ë°ì½”ë ˆì´í„°ëŠ” ë©”ì„œë“œì˜Â í”„ë¡œí¼í‹° ì„¤ëª…ì(Property Descriptor)Â ì— ì ìš©ë˜ë©° ë©”ì„œë“œ ì •ì˜ë¥¼ ê´€ì°°, ìˆ˜ì • ë˜ëŠ” ëŒ€ì²´í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë©”ì„œë“œ ë°ì½”ë ˆì´í„°ëŠ” ì„ ì–¸ íŒŒì¼, ì˜¤ë²„ë¡œë“œ ë˜ëŠ” ê¸°íƒ€ ì£¼ë³€ ì»¨í…ìŠ¤íŠ¸(ì˜ˆ:Â `ì„ ì–¸`Â í´ë˜ìŠ¤)ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\në©”ì„œë“œ ë°ì½”ë ˆì´í„°ì˜ í‘œí˜„ì‹ì€ ëŸ°íƒ€ì„ì— ë‹¤ìŒ ì„¸ ê°œì˜ ì¸ìˆ˜ì™€ í•¨ê»˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤:\n\n1.  ì •ì  ë©¤ë²„ì— ëŒ€í•œ í´ë˜ìŠ¤ì˜ ìƒì„±ì í•¨ìˆ˜ ë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë©¤ë²„ì— ëŒ€í•œ í´ë˜ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…ì…ë‹ˆë‹¤.\n2.  ë©¤ë²„ì˜ ì´ë¦„\n3.  ë©¤ë²„ì˜Â _í”„ë¡œí¼í‹° ì„¤ëª…ì_\n\n> ì°¸ê³ â€ƒ ìŠ¤í¬ë¦½íŠ¸ ëŒ€ìƒì´ â€˜ES5â€™ë³´ë‹¤ ë‚®ì€ ê²½ìš°Â _í”„ë¡œí¼í‹° ì„¤ëª…ì_Â ëŠ” â€˜undefinedâ€™ì´ ë©ë‹ˆë‹¤.\n\në©”ì„œë“œ ë°ì½”ë ˆì´í„°ê°€ ê°’ì„ ë°˜í™˜í•˜ë©´, ë©”ì„œë“œì˜Â _í”„ë¡œí¼í‹° ì„¤ëª…ì_Â ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n> ì°¸ê³ â€ƒ ìŠ¤í¬ë¦½íŠ¸ ëŒ€ìƒì´ â€˜ES5â€™ë³´ë‹¤ ë‚®ì€ ê²½ìš° ë°˜í™˜ ê°’ì€ ë¬´ì‹œë©ë‹ˆë‹¤.\n\n```typescript\nfunction printClassName(enabled: boolean) {  \n  return function (  \n    target: any,  \n    propertyKey: string,  \n    descriptor: PropertyDescriptor,  \n  ) {  \n    if (enabled) {  \n      console.log(target.constructor.name);  \n    }  \n  };  \n}  \n  \nclass Person {  \n  msg: string;  \n  constructor(msg: string) {  \n    this.msg = msg;  \n  }  \n  @printClassName(true)  \n  sayMessage() {  \n    return this.msg;  \n  }  \n}\n```\n\n## ì ‘ê·¼ì ë°ì½”ë ˆì´í„° (Accessor Decorators)\n\nì ‘ê·¼ì ë°ì½”ë ˆì´í„°ëŠ” ì ‘ê·¼ì ì„ ì–¸ ë°”ë¡œ ì „ì— ì„ ì–¸ë©ë‹ˆë‹¤. ì ‘ê·¼ì ë°ì½”ë ˆì´í„°ëŠ” ì ‘ê·¼ìì˜Â _í”„ë¡œí¼í‹° ì„¤ëª…ì_ì— ì ìš©ë˜ë©° ì ‘ê·¼ìì˜ ì •ì˜ë¥¼ ê´€ì°°, ìˆ˜ì • ë˜ëŠ” êµì²´í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì ‘ê·¼ì ë°ì½”ë ˆì´í„°ëŠ” ì„ ì–¸ íŒŒì¼ì´ë‚˜ ë‹¤ë¥¸ ì£¼ë³€ ì»¨í…ìŠ¤íŠ¸(ì˜ˆ:Â `ì„ ì–¸`Â í´ë˜ìŠ¤)ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n> ì°¸ê³ â€ƒ TypeScriptëŠ” ë‹¨ì¼ ë©¤ë²„ì— ëŒ€í•´Â `get`Â ë°Â `set`Â ì ‘ê·¼ìë¥¼ ë°ì½”ë ˆì´íŒ… í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ëŒ€ì‹  ë©¤ë²„ì˜ ëª¨ë“  ë°ì½”ë ˆì´í„°ë¥¼ ë¬¸ì„œ ìˆœì„œëŒ€ë¡œ ì§€ì •ëœ ì²« ë²ˆì§¸ ì ‘ê·¼ìì— ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´, ë°ì½”ë ˆì´í„°ëŠ” ê°ê°ì˜ ì„ ì–¸ì´ ì•„ë‹ŒÂ `get`ê³¼Â `set`Â ì ‘ê·¼ìë¥¼ ê²°í•©í•œÂ í”„ë¡œí¼í‹° ì„¤ëª…ìì— ì ìš©ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n\nì ‘ê·¼ì ë°ì½”ë ˆì´í„°ì˜ í‘œí˜„ ì‹ì€ ëŸ°íƒ€ì„ì— ë‹¤ìŒ ì„¸ ê°€ì§€ ì¸ìˆ˜ì™€ í•¨ê»˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤:\n\n1.  ì •ì  ë©¤ë²„ì— ëŒ€í•œ í´ë˜ìŠ¤ì˜ ìƒì„±ì í•¨ìˆ˜ ë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë©¤ë²„ì— ëŒ€í•œ í´ë˜ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…\n2.  ë©¤ë²„ì˜ ì´ë¦„\n3.  ë©¤ë²„ì˜Â _í”„ë¡œí¼í‹° ì„¤ëª…ì_\n\n> ì°¸ê³ â€ƒ ìŠ¤í¬ë¦½íŠ¸ ëŒ€ìƒì´ â€˜ES5â€™ë³´ë‹¤ ë‚®ì€ ê²½ìš°Â í”„ë¡œí¼í‹° ì„¤ëª…ìëŠ”Â `undefined`ê°€ ë©ë‹ˆë‹¤.\n\nì ‘ê·¼ì ë°ì½”ë ˆì´í„°ê°€ ê°’ì„ ë°˜í™˜í•˜ë©´ ë©¤ë²„ì˜Â í”„ë¡œí¼í‹° ì„¤ëª…ìë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n> ì°¸ê³ â€ƒ ìŠ¤í¬ë¦½íŠ¸ ëŒ€ìƒì´ â€˜ES5â€™ë³´ë‹¤ ë‚®ì€ ê²½ìš° ë°˜í™˜ ê°’ì€ ë¬´ì‹œë©ë‹ˆë‹¤.\n\n## í”„ë¡œí¼í‹° ë°ì½”ë ˆì´í„° (Property Decorators)\n\ní”„ë¡œí¼í‹° ë°ì½”ë ˆì´í„°ëŠ” í”„ë¡œí¼í‹° ì„ ì–¸ ë°”ë¡œ ì „ì— ì„ ì–¸ë©ë‹ˆë‹¤. í”„ë¡œí¼í‹° ë°ì½”ë ˆì´í„°ëŠ” ì„ ì–¸ íŒŒì¼ì´ë‚˜ ë‹¤ë¥¸ ì£¼ë³€ ì»¨í…ìŠ¤íŠ¸(ì˜ˆ:Â `ì„ ì–¸`Â í´ë˜ìŠ¤)ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\ní”„ë¡œí¼í‹° ë°ì½”ë ˆì´í„°ì˜ í‘œí˜„ ì‹ì€ ëŸ°íƒ€ì„ì— ë‹¤ìŒ ë‘ ê°œì˜ ì¸ìˆ˜ì™€ í•¨ê»˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤:\n\n1.  ì •ì  ë©¤ë²„ì— ëŒ€í•œ í´ë˜ìŠ¤ì˜ ìƒì„±ì í•¨ìˆ˜ ë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë©¤ë²„ì— ëŒ€í•œ í´ë˜ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…\n2.  ë©¤ë²„ì˜ ì´ë¦„\n\n> ì°¸ê³ â€ƒ TypeScriptì—ì„œÂ `í”„ë¡œí¼í‹° ë°ì½”ë ˆì´í„°`ê°€ ì´ˆê¸°í™”ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¸í•´Â í”„ë¡œí¼í‹° ì„¤ëª…ìê°€ í”„ë¡œí¼í‹° ë°ì½”ë ˆì´í„°ì— ëŒ€í•œ ì¸ìˆ˜ë¡œ ì œê³µë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í˜„ì¬ í”„ë¡œí† íƒ€ì…ì˜ ë©¤ë²„ë¥¼ ì •ì˜í•  ë•Œ ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ë¥¼ ì„¤ëª…í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì´ ì—†ê³  í”„ë¡œí¼í‹°ì˜ ì´ë‹ˆì…œë¼ì´ì €ë¥¼ ê´€ì°°í•˜ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë°˜í™˜ ê°’ë„ ë¬´ì‹œë©ë‹ˆë‹¤. ë”°ë¼ì„œ í”„ë¡œí¼í‹° ë°ì½”ë ˆì´í„°ëŠ” íŠ¹ì • ì´ë¦„ì˜ í”„ë¡œí¼í‹°ê°€ í´ë˜ìŠ¤ì— ì„ ì–¸ë˜ì—ˆìŒì„ ê´€ì°°í•˜ëŠ” ë°ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ì˜ˆì™€ ê°™ì´ í”„ë¡œí¼í‹°ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„°ë¥¼ ê¸°ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```typescript\nclass Greeter {  \n  @format(\"Hello, %s\")  \n  greeting: string;  \n  \n  constructor(message: string) {  \n    this.greeting = message;  \n  }  \n  \n  greet() {  \n    let formatString = getFormat(this, \"greeting\");  \n    return formatString.replace(\"%s\", this.greeting);  \n  }  \n}\n```\n\në‹¤ìŒ í•¨ìˆ˜ ì„ ì–¸ì„ ì‚¬ìš©í•˜ì—¬Â `@format`Â ë°ì½”ë ˆì´í„°ì™€Â `getFormat`Â í•¨ìˆ˜ë¥¼ ì •ì˜ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```typescript\nimport \"reflect-metadata\";  \n\nconst formatMetadataKey = Symbol(\"format\");  \n\nfunction format(formatString: string) {  \n  return Reflect.metadata(formatMetadataKey, formatString);  \n}  \n\nfunction getFormat(target: any, propertyKey: string) {  \n  return Reflect.getMetadata(formatMetadataKey, target, propertyKey);  \n}\n```\n\n`@format(\"Hello, %s\")`Â ë°ì½”ë ˆì´í„°ëŠ”Â [ë°ì½”ë ˆì´í„° íŒ©í† ë¦¬](https://www.typescriptlang.org/ko/docs/handbook/decorators.html#%EB%8D%B0%EC%BD%94%EB%A0%88%EC%9D%B4%ED%84%B0-%ED%8C%A9%ED%86%A0%EB%A6%AC-Decorator-Factories)ì…ë‹ˆë‹¤.Â `@format(\"Hello, %s\")`ê°€ í˜¸ì¶œë˜ë©´Â `reflect-metadata`Â ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜Â `Reflect.metadata`Â í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œí¼í‹°ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„° í•­ëª©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.Â `getFormat`ì´ í˜¸ì¶œë˜ë©´ í˜•ì‹ì˜ ë©”íƒ€ë°ì´í„° ê°’ì„ ì½ìŠµë‹ˆë‹¤.\n\n> ì°¸ê³ â€ƒ ì´ ì˜ˆì œì—ëŠ”Â `reflect-metadata`Â ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.Â `reflect-metadata`Â ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€Â [ë©”íƒ€ë°ì´í„°](https://www.typescriptlang.org/ko/docs/handbook/decorators.html#%EB%A9%94%ED%83%80%EB%8D%B0%EC%9D%B4%ED%84%B0-metadata)ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.\n\n\n## ë©”íƒ€ë°ì´í„° (Metadata)\n\nì¼ë¶€ ì˜ˆì œëŠ”Â [ì‹¤í—˜ì  ë©”íƒ€ë°ì´í„° API](https://github.com/rbuckton/ReflectDecorators)ì— ëŒ€í•œ í´ë¦¬í•„(polyfill)ì„ ì¶”ê°€í•˜ëŠ”Â `reflect-metadata`Â ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì•„ì§ ECMAScript (JavaScript) í‘œì¤€ì˜ ì¼ë¶€ê°€ ì•„ë‹™ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë°ì½”ë ˆì´í„°ê°€ ê³µì‹ì ìœ¼ë¡œ ECMAScript í‘œì¤€ì˜ ì¼ë¶€ë¡œ ì±„íƒë˜ë©´ ì´ëŸ¬í•œ í™•ì¥ì„ ì±„íƒí•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.\n\nnpmì„ í†µí•´ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n`   npm i reflect-metadata --save   `\n\nTypeScriptì—ëŠ” ë°ì½”ë ˆì´í„°ê°€ ìˆëŠ” ì„ ì–¸ì— ëŒ€í•´ íŠ¹ì • íƒ€ì…ì˜ ë©”íƒ€ ë°ì´í„°ë¥¼ ë‚´ë³´ë‚´ëŠ” ì‹¤í—˜ì ì¸ ì§€ì›ì„ í¬í•¨í•©ë‹ˆë‹¤. ì´ ì‹¤í—˜ì ì¸ ì§€ì›ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ë ¤ë©´, ëª…ë ¹í–‰ ë˜ëŠ”`tsconfig.json`ì—ì„œÂ `emitDecoratorMetadata`Â ì»´íŒŒì¼ëŸ¬ ì˜µì…˜ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.\n\n**ëª…ë ¹ì¤„**:\n\n`tsc --target ES5 --experimentalDecorators --emitDecoratorMetadata`\n\n**tsconfig.json**:\n\n```typescript\n{  \n  \"compilerOptions\": {  \n    \"target\": \"ES5\",  \n    \"experimentalDecorators\": true,  \n    \"emitDecoratorMetadata\": true  \n  }  \n}\n```\n\ní™œì„±í™”ë˜ë©´Â `reflect-metadata`ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ì˜¤ê¸°ë§Œ í•˜ë©´ ì¶”ê°€ ë””ìì¸-íƒ€ì„ íƒ€ì… ì •ë³´ê°€ ëŸ°íƒ€ì„ì— ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\në‹¤ìŒ ì˜ˆì œì—ì„œ ì´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```typescript\nimport 'reflect-metadata';  \n  \nclass Point {  \n  constructor(public x: number, public y: number) {}  \n}  \n  \nclass Line {  \n  private _start: Point;  \n  private _end: Point;  \n  \n  @validate  \n  set start(value: Point) {  \n    this._start = value;  \n  }  \n  \n  get start() {  \n    return this._start;  \n  }  \n  \n  @validate  \n  set end(value: Point) {  \n    this._end = value;  \n  }  \n  \n  get end() {  \n    return this._end;  \n  }  \n}  \n  \nfunction validate<T>(  \n  target: any,  \n  propertyKey: string,  \n  descriptor: TypedPropertyDescriptor<T>,  \n) {  \n  let set = descriptor.set!;  \n  \n  descriptor.set = function (value: T) {  \n    let type = Reflect.getMetadata('design:type', target, propertyKey);  \n  \n    if (!(value instanceof type)) {  \n      throw new TypeError(  \n        `Invalid type, got ${typeof value} not ${type.name}.`,  \n      );  \n    }  \n  \n    set.call(this, value);  \n  };  \n}  \n  \nconst line = new Line();  \nline.start = new Point(0, 0);  \n  \n// @ts-ignore  \n// line.end = {}  \n  \n// Fails at runtime with:  \n// > Invalid type, got object not Point\n```\n\nTypeScript ì»´íŒŒì¼ëŸ¬ëŠ”Â `@Reflect.metadata`Â ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë””ìì¸-íƒ€ì„ íƒ€ì… ì •ë³´ë¥¼ ì£¼ì…í•©ë‹ˆë‹¤. ë‹¤ìŒ TypeScriptì™€ ë™ì¼í•˜ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```typescript\nclass Line {  \n  private _start: Point;  \n  private _end: Point;  \n  @validate  \n  @Reflect.metadata('design:type', Point)  \n  set start(value: Point) {  \n    this._start = value;  \n  }  \n  get start() {  \n    return this._start;  \n  }  \n  @validate  \n  @Reflect.metadata('design:type', Point)  \n  set end(value: Point) {  \n    this._end = value;  \n  }  \n  get end() {  \n    return this._end;  \n  }  \n}\n```",
    "docType": "original",
    "category": "Research",
    "tags": [],
    "readingTime": 6,
    "wordCount": 1199,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ê°œì²´-ì§€í–¥-í”„ë¡œê·¸ë˜ë°-object-oriented-programming",
    "slug": "gaece-jihyang-peurogeuraeming-object-oriented-programming",
    "path": "backend/patterns",
    "fullPath": "backend/patterns/gaece-jihyang-peurogeuraeming-object-oriented-programming",
    "title": "ê°œì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° (Object Oriented Programming)",
    "excerpt": "ê°œì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° (Object Oriented Programming) ê°œì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ ë„¤ê°€ì§€ ê¸°ë³¸ ì›ì¹™ ì¶”ìƒí™” - ê´€ë ¨ íŠ¹ì„± ë° ì—”í„°í‹°ì˜ ìƒí˜¸ ì‘ìš©ì„ í´ë˜ìŠ¤ë¡œ ëª¨ë¸ë§í•˜ì—¬ ì‹œìŠ¤í…œì˜ ì¶”ìƒì  í‘œí˜„ì„ ì •ì˜í•©ë‹ˆë‹¤. ìº¡ìŠí™” - ê°œì²´ì˜ ë‚´ë¶€...",
    "content": "# ê°œì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° (Object Oriented Programming)\n\n## ê°œì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ ë„¤ê°€ì§€ ê¸°ë³¸ ì›ì¹™\n\n1. ì¶”ìƒí™” - ê´€ë ¨ íŠ¹ì„± ë° ì—”í„°í‹°ì˜ ìƒí˜¸ ì‘ìš©ì„ í´ë˜ìŠ¤ë¡œ ëª¨ë¸ë§í•˜ì—¬ ì‹œìŠ¤í…œì˜ ì¶”ìƒì  í‘œí˜„ì„ ì •ì˜í•©ë‹ˆë‹¤.\n2. ìº¡ìŠí™” - ê°œì²´ì˜ ë‚´ë¶€ ìƒíƒœì™€ ê¸°ëŠ¥ì„ ìˆ¨ê¸°ê³  public í•¨ìˆ˜ ì„¸íŠ¸ë¥¼ í†µí•´ì„œë§Œ ê°œì²´ì— ì—‘ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n3. ìƒì† - ê¸°ì¡´ ì¶”ìƒí™”ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒˆ ì¶”ìƒí™”ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n4. ë‹¤í˜•ì„± - ì—¬ëŸ¬ ì¶”ìƒí™” ì—ì„œ ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ìƒì†ëœ ì†ì„± ë˜ëŠ” ë©”ì„œë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## C#ì˜ í´ë˜ìŠ¤, êµ¬ì¡°ì²´ ë° ë ˆì½”ë“œ ê°œìš”\n\n### ìº¡ìŠí™”\n\nìº¡ìŠí™”ëŠ” ê²½ìš°ì— ë”°ë¼ ê°œì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì˜ ì²« ë²ˆì§¸ ì›ë˜ë¡œ ì¸ì‹ë©ë‹ˆë‹¤. í´ë˜ìŠ¤ ë˜ëŠ” êµ¬ì¡°ì²´ëŠ” ê·¸ê²ƒì˜ ì™¸ë¶€ì˜ ì½”ë“œì— ê° ë©¤ë²„ê°€ ì—‘ì„¸ìŠ¤í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í´ë˜ìŠ¤ ë˜ëŠ” ì–´ì…ˆë¸”ë¦¬ ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë ¤ëŠ” ë©”ì„œë“œ ë° ë³€ìˆ˜ë¥¼ ìˆ¨ê²¨ ì½”ë”© ì˜¤ë¥˜ ë˜ëŠ” ì•…ì˜ì ì¸ ì•…ìš© ê°€ëŠ¥ì„±ì„ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n### ë©¤ë²„\n\në©¤ë²„ëŠ” ëª¨ë“  ë©”ì„œë“œ, í•„ë“œ, ìƒìˆ˜, ì†ì„±, ì´ë²¤íŠ¸ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ë‹¤ë¥¸ ì–¸ì–´ì—ëŠ” ìˆì§€ë§Œ C#ì—ëŠ” ì „ì—­ ë³€ìˆ˜ ë˜ëŠ” ë©”ì„œë“œê°€ ì—†ìŠµë‹ˆë‹¤. í”„ë¡œê·¸ë¨ì˜ ì§„ì…ì ì¸ `Main`ë©”ì„œë“œê¹Œì§€ë„ í´ë˜ìŠ¤ë‚˜ êµ¬ì¡°ì²´ ë‚´ì— ì„ ì–¸ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n## ì€í–‰ ê³„ì¢Œ ì˜ˆì œë¥¼ í†µí•œ ê°œì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì‚´í´ë³´ê¸°\n\n### ì€í–‰ ê³„ì¢Œì˜ ê¸°ëŠ¥\n\n1. ì€í–‰ê³„ì¢Œë¥¼ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” 10ìë¦¬ ìˆ«ìê°€ ìˆìŠµë‹ˆë‹¤.\n2. ì†Œìœ ìì˜ ì´ë¦„ì„ ì €ì¥í•˜ëŠ” ë¬¸ìì—´ì´ ìˆìŠµë‹ˆë‹¤.\n3. ì”ì•¡ì„ ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n4. ì˜ˆê¸ˆì„ í—ˆìš©í•©ë‹ˆë‹¤.\n5. ì¸ì¶œì„ í—ˆìš©í•©ë‹ˆë‹¤.\n6. ì´ˆê¸° ì”ì•¡ì€ ì–‘ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤.\n7. ì¸ì¶œì€ ë§ˆì´ë„ˆìŠ¤ ì”ì•¡ì„ ì´ˆë˜í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n### ì€í–‰ ê³„ì¢Œ í˜•ì‹ ì •ë¦¬\n\n```cs\nnamespace Classes;\n\npublic class BankAccount {\n  public string Number { get; }\n  public string Owner { get; set; }\n  public decimal Balance { get; }\n\n  public void MakeDeposit(decimal amount, DateTime date, string note)\n  {\n  }\n\n  public vode MakeWithdraw(decimal amount, DateTime date, string note)\n  {\n  }\n}\n```\n\n`BankAccount` í´ë˜ìŠ¤ëŠ” ë‹¤ì„¯ ê°œì˜ ë©¤ë²„ë¥¼ ê°€ì§‘ë‹ˆë‹¤. ì•ì˜ ì„¸ê°€ì§€ëŠ” ì†ì„±ì¸ë°, ì†ì„±ì€ ë°ì´í„° ìš”ì†Œì´ë©° ìœ íš¨ì„± ê²€ì‚¬ ë˜ëŠ” ê¸°íƒ€ ê·œì¹™ì„ ì ìš©í•˜ëŠ” ì½”ë“œê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‚˜ë¨¸ì§€ ë‘ ê°€ì§€ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤. ë©”ì„œë“œëŠ” ë‹¨ì¼ í•¨ìˆ˜ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œ ë¸”ë¡ì…ë‹ˆë‹¤. í´ë˜ìŠ¤ì˜ ê° ë©¤ë²„ëŠ” ê·¸ê²ƒì˜ ì´ë¦„ì„ ì½ìœ¼ë©´ íƒ€ì¸ì´ í•´ë‹¹ í´ë˜ìŠ¤ê°€ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…ì„ ì´í•´í•˜ê¸°ì— ì¶©ë¶„í•œ ì •ë³´ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.\n\n### ìƒˆ ê³„ì¢Œ ê°œì„¤ (ìƒì„±ì)\n\n`BankAccount` í˜•ì‹ì˜ ìƒˆ ê°œì²´ë¥¼ ë§Œë“œëŠ” ê²ƒì€ í•´ë‹¹ ê°’ì„ í• ë‹¹í•˜ëŠ” ìƒì„±ìë¥¼ ì •ì˜í•¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. C#ì—ì„œ ìƒì„±ìëŠ” í´ë˜ìŠ¤ì™€ ì´ë¦„ì´ ê°™ì€ ë©¤ë²„ì…ë‹ˆë‹¤.\n\n```cs\nnamespace Classes;\n\npublic class BankAccount {\n  private static int accountNumberSeed = 1234567890;\n  public string Number { get; }\n  public string Owner { get; set; }\n  public decimal Balance { get; }\n\n  public BankAccount(string, name, decimal initialBalance)\n  {\n    // C#ëŠ” this í•œì •ìê°€ ì„ íƒì‚¬í•­ì´ë©° ì¼ë°˜ì ìœ¼ë¡œ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n    // this.Owner = name;\n    // this.Balance = initialBalance;\n    Owner = name;\n    Balance = initialBalance;\n    // ê³„ì¢Œ ë²ˆí˜¸\n    Number = accountNumberSeed.ToString();\n    accountNumberSeed++;\n  }\n\n  public void MakeDeposit(decimal amount, DateTime date, string note)\n  {\n  }\n\n  public vode MakeWithdraw(decimal amount, DateTime date, string note)\n  {\n  }\n}\n```\n\nìƒì„±ìëŠ” newë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œì²´ë¥¼ ë§Œë“¤ ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤.\n\n```cs\nusing Classes;\n\nvar account = new BankAccount(\"<name>\", 1000);\nConsole.WriteLine($\"Account {account.Number} was created for {account.Owner} with {account.Balance} initial balance.\");\n```\n\n### ì˜ˆê¸ˆ ë° ì¸ì¶œ ë§Œë“¤ê¸°\n\nì€í–‰ ê³„ì¢Œ í´ë˜ìŠ¤ì˜ ì˜ˆê¸ˆê³¼ ì¸ì¶œì„ êµ¬í˜„í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ë¨¼ì € íŠ¸ëœì­ì…˜ì„ ë‚˜íƒ€ë‚´ëŠ” ìƒˆ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nê·¸ë¦¬ê³  Transaction ê°œì²´ì˜ `List<T>`ë¥¼ `BankAccount`í´ë˜ìŠ¤ì— ì¶”ê°€í•˜ê³  Balance ì†ì„±ì„ ì—…ë°ì´íŠ¸ í•©ë‹ˆë‹¤.\në‹¤ìŒìœ¼ë¡œ `MakeDeposit`, `MakeWithdrawal`ë©”ì„œë“œë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.\nê·¸ ë’¤ì—ëŠ” ìƒì„±ìì—ì„œ ìµœì´ˆ ì…ê¸ˆ ê±´ì„ ì¶”ê°€í•´ì¤„ ìˆ˜ ìˆë„ë¡ `MakeDeposit`ì„ í˜¸ì¶œí•˜ê²Œ í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n```cs\nnamespace Classses\n\npublic class Transaction\n{\n  public decimal Amount { get; }\n  public DateTime Date { get; }\n  public string Notes { get; }\n\n  public Transaction(decimal amount, DateTime date, string note)\n  {\n    Amount = amount;\n    Date = date;\n    Notes = note;\n  }\n}\n\npublic class BankAccount {\n  private static int accountNumberSeed = 1234567890;\n  private List<Transaction> allTransactions = new List<Transaction>();\n\n  public string Number { get; }\n  public string Owner { get; set; }\n  public decimal Balance\n  {\n     get\n     {\n        decimal balance = 0;\n        foreach (var item in allTransactions)\n        {\n          balanace += item.Amount;\n        }\n        return balance;\n     }\n  }\n\n  public BankAccount(string, name, decimal initialBalance)\n  {\n    // C#ëŠ” this í•œì •ìê°€ ì„ íƒì‚¬í•­ì´ë©° ì¼ë°˜ì ìœ¼ë¡œ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n    // this.Owner = name;\n    // this.Balance = initialBalance;\n    Owner = name;\n    MakeDeposit(initialBalance, DateTime.Now, \"Initial balance\");\n    // ê³„ì¢Œ ë²ˆí˜¸\n    Number = accountNumberSeed.ToString();\n    accountNumberSeed++;\n  }\n\n  public void MakeDeposit(decimal amount, DateTime date, string note)\n  {\n    if (amount <= 0)\n    {\n      throw new ArgumentOutOfRangeException(nameof(amount), \"Amount of deposit must be positive\");\n    }\n    var deposit = new Transaction(amount, date, note);\n    allTransactions.add(deposit);\n  }\n\n  public vode MakeWithdraw(decimal amount, DateTime date, string note)\n  {\n    if (amount <= 0)\n    {\n      throw new ArgumentOutOfRangeException(nameof(amount), \"Amount of withdrawal must be positive\");\n    }\n    if (Balance - amount < 0)\n    {\n      throw new InvalidOperationException(\"Not sufficient funds for this withdrawal\");\n    }\n    var deposit = new Transaction(-amount, date, note);\n    allTransactions.add(deposit);\n  }\n}\n```\n\n## Ref\n\n- [í´ë˜ìŠ¤ ë° ê°œì²´ë¥¼ ì‚¬ìš©í•œ ê°œì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì‚´í´ë³´ê¸°](https://learn.microsoft.com/ko-kr/dotnet/csharp/fundamentals/tutorials/classes)\n- [ê°œì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°(C#)](https://learn.microsoft.com/ko-kr/dotnet/csharp/fundamentals/tutorials/oop)\n- [C#ì˜ í´ë˜ìŠ¤, êµ¬ì¡°ì²´ ë° ë ˆì½”ë“œ ê°œìš”](https://learn.microsoft.com/ko-kr/dotnet/csharp/fundamentals/object-oriented/)",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 4,
    "wordCount": 726,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ê°œì²´-vs-ê°ì²´",
    "slug": "gaece-vs-gaegce",
    "path": "backend/patterns",
    "fullPath": "backend/patterns/gaece-vs-gaegce",
    "title": "ê°œì²´ vs ê°ì²´",
    "excerpt": "ê°œì²´ vs ê°ì²´ ë˜ëŠ” ë¼ëŠ” ìš©ì–´ëŠ” ê°œë°œì, íŠ¹íˆ ë°±ì—”ë“œ ê°œë°œì ì‚¬ì´ì—ì„œ ë¹¼ë†“ì„ ìˆ˜ ì—†ë‹¤. ë§¤ì²´ì— ë”°ë¼ì„œ ê°œì²´ ë˜ëŠ” ê°ì²´ë¼ê³  í‘œí˜„í•˜ëŠ” ëŠ” ë¬´ì—‡ì¼ê¹Œ? ê°ì²´ ì² í•™ ì˜ì‚¬ë‚˜ í–‰ìœ„ê°€ ë¯¸ì¹˜ëŠ” ëŒ€ìƒ. ì–¸ì–´ ë¬¸ì¥ ë‚´ì—ì„œ ë™ì‚¬ì˜ í–‰...",
    "content": "# ê°œì²´ vs ê°ì²´\n\n`ê°œì²´` ë˜ëŠ” `ê°ì²´`ë¼ëŠ” ìš©ì–´ëŠ” ê°œë°œì, íŠ¹íˆ ë°±ì—”ë“œ ê°œë°œì ì‚¬ì´ì—ì„œ ë¹¼ë†“ì„ ìˆ˜ ì—†ë‹¤. ë§¤ì²´ì— ë”°ë¼ì„œ ê°œì²´ ë˜ëŠ” ê°ì²´ë¼ê³  í‘œí˜„í•˜ëŠ” `Object`ëŠ” ë¬´ì—‡ì¼ê¹Œ?\n\n## ê°ì²´\n\n1. ì² í•™ ì˜ì‚¬ë‚˜ í–‰ìœ„ê°€ ë¯¸ì¹˜ëŠ” ëŒ€ìƒ.\n2. ì–¸ì–´ ë¬¸ì¥ ë‚´ì—ì„œ ë™ì‚¬ì˜ í–‰ìœ„ê°€ ë¯¸ì¹˜ëŠ” ëŒ€ìƒ.\n3. ì² í•™ ì‘ìš©ì˜ ëŒ€ìƒì´ ë˜ëŠ” ìª½.\n\n## ê°œì²´\n\n1. ì „ì²´ë‚˜ ì§‘ë‹¨ì— ìƒëŒ€í•˜ì—¬ í•˜ë‚˜í•˜ë‚˜ì˜ ë‚±ê°œë¥¼ ì´ë¥´ëŠ” ë§.\n2. ìƒëª… í•˜ë‚˜ì˜ ë…ë¦½ëœ ìƒë¬¼ì²´. ì‚´ì•„ê°€ëŠ” ë°ì— í•„ìš”í•œ ë…ë¦½ì ì¸ ê¸°ëŠ¥ì„ ê°–ê³  ìˆë‹¤.\n3. ì² í•™ ë‹¨ì¼í•˜ê³  ë…ë¦½ì ì¸ í†µì¼ì  ì¡´ì¬. ì² í•™ ì‚¬ìƒì˜ ë°œì „ ê³¼ì •ì—ì„œ ì´ í†µì¼ì„±ì€ ë¬¼ì§ˆì ã†ì–‘ì  ì¸¡ë©´, ë˜ëŠ” ì •ì‹ ì ã†ì§ˆì  ì¸¡ë©´ ë”°ìœ„ì˜ ì—¬ëŸ¬ ê´€ì ì—ì„œ ê³ ì°°ë˜ì—ˆë‹¤.\n\n## ë‚˜ë§Œì˜ ì •ë¦¬\n\nê°œì²´ê°€ ë§ëŠ” ê²ƒ ê°™ë‹¤. ê°ì²´ëŠ” ê°œì²´ë³´ë‹¤ ìˆ˜ë™ì ì¸ ê°œë…ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆëŠ”ë°, ì‹¤ì œ í´ë˜ìŠ¤ë“¤ì€ ì„œë¡œ ë‹¤ë¥¸ í´ë˜ìŠ¤ë“¤ê³¼ ìƒí˜¸ì‘ìš©ì„ í•˜ê¸° ë•Œë¬¸ì— ì˜í–¥ì„ ë°›ëŠ” ê²ƒ ë¿ë§Œ ì•„ë‹ˆë¼ ì˜í–¥ì„ ì£¼ê¸°ë„ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\n\n## Ref\n\n- [ê°œì²´ì§€í–¥í”„ë¡œê·¸ë˜ë°(C#)](https://learn.microsoft.com/ko-kr/dotnet/csharp/fundamentals/tutorials/oop)\n- [ê°ì²´ ì •ì˜](https://ko.dict.naver.com/#/entry/koko/9ef345f0a0884eca89d5c3155653fe94)\n- [ê°œì²´ ì •ì˜](https://ko.dict.naver.com/#/entry/koko/1f8d5f43afa2434f8d56f9ced1231c60)",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 1,
    "wordCount": 131,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "solid-ì›ì¹™",
    "slug": "solid-weoncig",
    "path": "backend/patterns",
    "fullPath": "backend/patterns/solid-weoncig",
    "title": "SOLID ì›ì¹™",
    "excerpt": "SOLID ì›ì¹™ Ref https://ko.wikipedia.org/wiki/SOLID_(%EA%B0%9D%EC%B2%B4_%EC%A7%80%ED%96%A5_%EC%84%A4%EA%B3%84)...",
    "content": "# SOLID ì›ì¹™\n\n## Ref\n\nhttps://ko.wikipedia.org/wiki/SOLID_(%EA%B0%9D%EC%B2%B4_%EC%A7%80%ED%96%A5_%EC%84%A4%EA%B3%84)",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 1,
    "wordCount": 7,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "ë°ì½”ë ˆì´í„°ë¥¼-ì´ìš©í•œ-nest-jsì—ì„œì˜-aop-ì ìš©",
    "slug": "dekoreiteoreul-iyonghan-nest-jseseoyi-aop-jeogyong",
    "path": "backend/nestjs",
    "fullPath": "backend/nestjs/dekoreiteoreul-iyonghan-nest-jseseoyi-aop-jeogyong",
    "title": "ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•œ Nest.jsì—ì„œì˜ AOP ì ìš©",
    "excerpt": "ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•œ Nest.jsì—ì„œì˜ AOP ì ìš© ë°ì½”ë ˆì´í„°? [ë°ì½”ë ˆì´í„°](<obsidian://open?vault=seogyugim.coinone&file=Typescript%2F%EB%8D%B0%EC%BD%94%EB%A0%88%EC%9D%B4%ED%...",
    "content": "# ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•œ Nest.jsì—ì„œì˜ AOP ì ìš©\n\n## ë°ì½”ë ˆì´í„°?\n\n[ë°ì½”ë ˆì´í„°](<obsidian://open?vault=seogyugim.coinone&file=Typescript%2F%EB%8D%B0%EC%BD%94%EB%A0%88%EC%9D%B4%ED%84%B0%20(Decorator)>) ë¬¸ì„œë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”!",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 1,
    "wordCount": 12,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "nestjs-dynamic-module-ì£¼ì˜ì ",
    "slug": "nestjs-dynamic-module-juyijeom",
    "path": "backend/nestjs",
    "fullPath": "backend/nestjs/nestjs-dynamic-module-juyijeom",
    "title": "NestJS Dynamic Module ì£¼ì˜ì ",
    "excerpt": "NestJS Dynamic Module ì£¼ì˜ì  ```typescript export const databaseProviders = [ { provide: MysqlDatasourceKey, inject: [ConfigService, MysqlConfigS...",
    "content": "# NestJS Dynamic Module ì£¼ì˜ì \n\n```typescript\nexport const databaseProviders = [\n\t{\n\t\tprovide: MysqlDatasourceKey,\n\t\tinject: [ConfigService, MysqlConfigService],\n\t\tuseFactory: async (\n\t\t\tconfigService: ConfigService,\n\t\t\tdatabaseConfigService: MysqlConfigService,\n\t\t) => {\n\t\t\tconst dataSource = new DataSource(\n\t\t\t\tdatabaseConfigService.getTypeormConfig(),\n\t\t\t)\n\t\t\treturn dataSource.initialize()\n\t\t},\n\t},\n]\n```\n\n> ìœ„ì™€ ê°™ì€ ìƒí™©ì—ì„œ useFactoryì— ì¸ìì—ëŠ” ë¬´ì¡°ê±´ **`inject`ë°°ì—´ì˜ ìˆœì„œ**ëŒ€ë¡œ ì¸ìŠ¤í„´ìŠ¤ê°€ ë“¤ì–´ì˜¨ë‹¤\n\n- ì°¸ê³ \n  - `MySqlConfigService` ëŠ” `ConfigService`ì— ì˜ì¡´ì„±ì´ ìˆë‹¤.",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 1,
    "wordCount": 60,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "nestjs-cache-manager-v5-ì‚¬ìš©ì‹œ-ë¬¸ì œ-í•´ê²°ë²•",
    "slug": "nestjs-cache-manager-v5-sayongsi-munje-haegyeolbeob",
    "path": "backend/nestjs",
    "fullPath": "backend/nestjs/nestjs-cache-manager-v5-sayongsi-munje-haegyeolbeob",
    "title": "NestJS, Cache-Manager v5 ì‚¬ìš©ì‹œ ë¬¸ì œ í•´ê²°ë²•",
    "excerpt": "NestJS, Cache-Manager v5 ì‚¬ìš©ì‹œ ë¬¸ì œ í•´ê²°ë²• ë¬¸ì œ ê³µì‹ë¬¸ì„œì— ë‚˜ì˜¨ëŒ€ë¡œ í•˜ë©´ ë°œìƒ ì›ì¸ ê°€ ë¡œ ì˜¬ë¼ê°€ë©´ì„œ ì‚¬ìš©ë²•ì´ ì•„ì˜ˆ...",
    "content": "# NestJS, Cache-Manager v5 ì‚¬ìš©ì‹œ ë¬¸ì œ í•´ê²°ë²•\n\n## ë¬¸ì œ\n\nê³µì‹ë¬¸ì„œì— ë‚˜ì˜¨ëŒ€ë¡œ í•˜ë©´ `this.cacheManager.get is not a function` ë°œìƒ\n\n## ì›ì¸\n\n`cache-manager` ê°€ `v5`ë¡œ ì˜¬ë¼ê°€ë©´ì„œ ì‚¬ìš©ë²•ì´ ì•„ì˜ˆ ë°”ë€œ..\n\n## í•´ê²°\n\n```typescript\nimport { registerAs } from '@nestjs/config'\nimport { CACHE_CONFIG_KEY } from '../constants/index.js'\nimport { redisStore } from 'cache-manager-redis-store'\nimport { CacheConfigSchema } from './config.zod.js'\n\nexport const cacheConfig = registerAs(CACHE_CONFIG_KEY, async () =>\n\tCacheConfigSchema.parseAsync({\n\t\thost: process.env.CACHE_HOST,\n\t\tport: Number(process.env.CACHE_PORT),\n\t\tttl: Number(process.env.CACHE_TTL),\n\t\tstore: redisStore,\n\t}),\n)\n\n@Module({\n  providers: [\n    {\n      provide: CACHE_MANAGER,\n      inject: [cacheConfig.KEY],\n      useFactory: ({ store, ...config }: ConfigType<typeof cacheConfig>) =>\n        caching(store, config),\n    },\n  ],\n})\nexport class AppCacheModule\n```",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 1,
    "wordCount": 99,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "http-ì¿ í‚¤-ë³´ì•ˆ-ì„¤ì •",
    "slug": "http-kuki-boan-seoljeong",
    "path": "backend/http",
    "fullPath": "backend/http/http-kuki-boan-seoljeong",
    "title": "HTTP ì¿ í‚¤ ë³´ì•ˆ ì„¤ì •",
    "excerpt": "HTTP ì¿ í‚¤ ë³´ì•ˆ ì„¤ì • [ì„¸ì…˜ í•˜ì´ì¬í‚¹ê³¼ XSS](https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies%EC%84%B8%EC%85%98_%ED%95%98%EC%9D%B4%EC%9E%AC%ED%82%B9%EA%B...",
    "content": "# HTTP ì¿ í‚¤ ë³´ì•ˆ ì„¤ì •\n\n1. [ì„¸ì…˜ í•˜ì´ì¬í‚¹ê³¼ XSS](https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies#%EC%84%B8%EC%85%98_%ED%95%98%EC%9D%B4%EC%9E%AC%ED%82%B9%EA%B3%BC_xss)\n2. [CSRF](https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies#cross-site_%EC%9A%94%EC%B2%AD_%EC%9C%84%EC%A1%B0_csrf)\n3. [SameSite](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite)\n\n\n## ì°¸ê³  ë¬¸ì„œ\n\n- [HTTP cookies ë³´ì•ˆ](https://developer.mozilla.org/ko/docs/Web/HTTP/Cookies#%EB%B3%B4%EC%95%88)",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 1,
    "wordCount": 21,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "http-ìš”ì²­-ìµœì†Œí™”-ê¸°ë²•",
    "slug": "http-yoceong-coesohwa-gibeob",
    "path": "backend/http",
    "fullPath": "backend/http/http-yoceong-coesohwa-gibeob",
    "title": "Http ìš”ì²­ ìµœì†Œí™” ê¸°ë²•",
    "excerpt": "Http ìš”ì²­ ìµœì†Œí™” ê¸°ë²• ë­ê°€ ìˆì„ê¹Œ? ë‹¤ë¥¸ ê³µê¸‰ìì— ëŒ€í•´ HTTP ìš”êµ¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì€ ë§ì€ í¬ë¡¤ í”„ë¡œê·¸ë¨ì´ë‚˜ ë°°ì¹˜ í”„ë¡œê·¸ë¨ì—ì„œ í•„ìš”í•  ìˆ˜ ìˆì§€ë§Œ, ìš”ì²­ ìˆ˜ë¥¼ ìµœì†Œí™”í•˜ì—¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê³  ì˜¤ë¥˜ë‚˜ íƒ€ì„ì•„ì›ƒ ìœ„í—˜ì„ ì¤„ì´ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. HTTP ìš”ì²­ì„...",
    "content": "# Http ìš”ì²­ ìµœì†Œí™” ê¸°ë²•\n\n## ë­ê°€ ìˆì„ê¹Œ?\n\në‹¤ë¥¸ ê³µê¸‰ìì— ëŒ€í•´ HTTP ìš”êµ¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì€ ë§ì€ í¬ë¡¤ í”„ë¡œê·¸ë¨ì´ë‚˜ ë°°ì¹˜ í”„ë¡œê·¸ë¨ì—ì„œ í•„ìš”í•  ìˆ˜ ìˆì§€ë§Œ, ìš”ì²­ ìˆ˜ë¥¼ ìµœì†Œí™”í•˜ì—¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê³  ì˜¤ë¥˜ë‚˜ íƒ€ì„ì•„ì›ƒ ìœ„í—˜ì„ ì¤„ì´ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. HTTP ìš”ì²­ì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•œ ì¼ë°˜ì ì¸ ëª¨ë²” ì‚¬ë¡€ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n- ë°ì´í„° ë¡œì»¬ ìºì‹œí•˜ê¸°: ë™ì¼í•œ ë°ì´í„°ì— ëŒ€í•´ ë°˜ë³µì ìœ¼ë¡œ ìš”êµ¬í•˜ëŠ” ê²½ìš° ë¶ˆí•„ìš”í•œ HTTP ìš”ì²­ì„ ìˆ˜í–‰í•˜ì§€ ì•Šë„ë¡ ë°ì´í„° ë¡œì»¬ ìºì‹œë¥¼ ê²€í† í•˜ì‹­ì‹œì˜¤. Redisë‚˜ Memcached ë“±ì˜ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ìì£¼ ì•¡ì„¸ìŠ¤ë˜ëŠ” ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê±°ë‚˜ ë¡œì»¬ íŒŒì¼ ìºì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì— ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ë°°ì¹˜ ìš”ì²­: ë°ì´í„°ë§ˆë‹¤ ê°œë³„ ìš”ì²­ì„ ì‘ì„±í•˜ëŠ” ëŒ€ì‹  ìš”ì²­ì„ ë°°ì¹˜ ì²˜ë¦¬í•˜ì—¬ HTTP ìš”ì²­ ìˆ˜ë¥¼ ì¤„ì´ëŠ” ê²ƒì„ ê²€í† í•˜ì‹­ì‹œì˜¤. ì˜ˆë¥¼ ë“¤ì–´, í•˜ë‚˜ì˜ API í˜¸ì¶œì„ ì‚¬ìš©í•˜ì—¬ í•œ ë²ˆì— ì—¬ëŸ¬ ë ˆì½”ë“œë¥¼ í˜ì¹˜í•˜ê±°ë‚˜ ì—¬ëŸ¬ ìš”ì²­ì„ í•˜ë‚˜ì˜ ë°°ì¹˜ ìš”ì²­ì— ê²°í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- í˜ì´ì§€ë„¤ì´ì…˜ ì‚¬ìš©: ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ìš”êµ¬í•˜ëŠ” ê²½ìš° í˜ì´ì§€ë„¤ì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ í•œ ë²ˆì— ì‘ì€ ë°°ì¹˜ì˜ ë°ì´í„°ë¥¼ í˜ì¹˜í•˜ëŠ” ê²ƒì„ ê²€í† í•˜ì‹­ì‹œì˜¤. ì´ë¥¼ í†µí•´ ìš”ì²­ì˜ ì „ì²´ ìˆ˜ë¥¼ ì¤„ì´ê³  ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- HTTP ìºì‹œ ì‚¬ìš©: ìš”êµ¬í•˜ëŠ” ë°ì´í„°ê°€ ìì£¼ ë³€ê²½ë  ê°€ëŠ¥ì„±ì´ ë‚®ì€ ê²½ìš° HTTP ìºì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ìºì‹œì— ì‘ë‹µì„ ì €ì¥í•˜ëŠ” ê²ƒì„ ê²€í† í•˜ì‹­ì‹œì˜¤. ì´ë¥¼ í†µí•´ ì„œë²„ì— ëŒ€í•œ ìš”ì²­ ìˆ˜ë¥¼ ì¤„ì´ê³  ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ìš”ì²­ì— ìš°ì„  ìˆœìœ„ë¥¼ ë§¤ê¹€: ì—¬ëŸ¬ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•´ ìš”ì²­ì„ í•  ê²½ìš° ê°€ì¥ ì¤‘ìš”í•œ ë°ì´í„°ê°€ ë¨¼ì € í˜ì¹˜ë˜ë„ë¡ ìš”ì²­ì— ìš°ì„  ìˆœìœ„ë¥¼ ë§¤ê¸°ëŠ” ê²ƒì„ ê²€í† í•˜ì‹­ì‹œì˜¤. ì´ë¥¼ í†µí•´ ìš”ì²­ì˜ ì „ì²´ ìˆ˜ë¥¼ ì¤„ì´ê³  ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë”°ë¦„ìœ¼ë¡œì¨ í¬ë¡¤ í”„ë¡œê·¸ë¨ ë˜ëŠ” ë°°ì¹˜ í”„ë¡œê·¸ë¨ì— ì˜í•´ ìˆ˜í–‰ë˜ëŠ” HTTP ìš”ì²­ì˜ ìˆ˜ë¥¼ ìµœì†Œí™”í•˜ì—¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê³  ì˜¤ë¥˜ ë° íƒ€ì„ì•„ì›ƒ ìœ„í—˜ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 2,
    "wordCount": 232,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "http-transfer-í¬ê¸°ë¥¼-ì¤„ì´ëŠ”-ë²•",
    "slug": "http-transfer-keugireul-julineun-beob",
    "path": "backend/http",
    "fullPath": "backend/http/http-transfer-keugireul-julineun-beob",
    "title": "HTTP Transfer í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ë²•",
    "excerpt": "HTTP Transfer í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ë²• ì¢…ë‹¨ ê°„ ì••ì¶• !ì¢…ë‹¨ ê°„ ì••ì¶• Accept-...",
    "content": "# HTTP Transfer í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ë²•\n\n1. ì¢…ë‹¨ ê°„ ì••ì¶•\n   ![ì¢…ë‹¨ ê°„ ì••ì¶•](https://developer.mozilla.org/en-US/docs/Web/HTTP/Compression/httpcompression1.png)\n    1. Accept-Encoding, Content-Encoding í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì—ì„œ í—¤ë”ë¥¼ í†µí•´ ì •ë³´ë¥¼ ì£¼ê³  ë°›ëŠ”ë‹¤\n    2. ì´ë¯¸ì§€, ì˜¤ë””ì˜¤ë‚˜ ë¹„ë””ì˜¤ ë“±ì˜ ë¯¸ë””ì–´ íŒŒì¼ì€ ì´ë¯¸ ì••ì¶•ë˜ì–´ ìˆì„ í™•ë¥ ì´ ë†’ë‹¤.\n    3. CPUê°€ ìƒëŒ€ì ìœ¼ë¡œ ë§ì´ ë“ ë‹¤.\n    4. gzipì´ ê°€ì¥ ë³´í¸ì ì´ë©°, êµ¬ê¸€ì—ì„œ ê°œë°œí•œ brì´ í›„ë°œì£¼ìë¡œ ë– ì˜¤ë¥¸ë‹¤.\n2. Hop-By-Hop ì••ì¶•\n   ![Hop-By-Hop ì••ì¶•](https://developer.mozilla.org/en-US/docs/Web/HTTP/Compression/httpcomp2.png)\n    1. í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì˜ ê²½ë¡œì— ìˆëŠ” ë…¸ë“œë“¤ì—ì„œ ì••ì¶•ì´ ë°œìƒí•œë‹¤.\n    2. Transfer-Encoding í—¤ë”ë¥¼ í†µí•´ì„œ ì••ì¶• ë°©ë²•ì„ ì£¼ê³  ë°›ëŠ”ë‹¤.\n    3. ë³´í†µ í”„ë¡ì‹œ ê³„ì¸µì—ì„œ ì ìš©ëœë‹¤\n    4. `Transfer-Encoding: chunked`\n       í—¤ë”ê°€ ì‚¬ìš©ë  ë•ŒëŠ” ìš”ì²­ì´ ì™„ì „íˆ ì²˜ë¦¬ë˜ê¸° ì „ê¹Œì§€ ì‘ë‹µì˜ ì „ì²´ í¬ê¸°ë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ì˜ ê²°ê³¼ê°€ ë  í° HTML í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” ê²½ìš°ë‚˜, í° ì´ë¯¸ì§€ë¥¼ ì „ì†¡í•˜ëŠ” ê²½ìš°ê°€ ì˜ˆì‹œê°€ ëœë‹¤.\n\n## ì°¸ê³  ë¬¸ì„œ\n\n- [Web HTTP Compression](https://developer.mozilla.org/ko/docs/Web/HTTP/Compression)\n- [HTTP Headers Transfer-Encoding](https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Transfer-Encoding)\n- [ExpressJS Compression Middleware Library](https://github.com/expressjs/compression)",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 1,
    "wordCount": 124,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "eaddrnotavail",
    "slug": "eaddrnotavail",
    "path": "backend/http",
    "fullPath": "backend/http/eaddrnotavail",
    "title": "EADDRNOTAVAIL",
    "excerpt": "EADDRNOTAVAIL ë¬¸ì œ ìƒí™© node.js ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¦¬ëˆ…ìŠ¤ í™˜ê²½ì—ì„œ ì‚¬ìš©ì¤‘ì´ë‹¤. ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤ ```json { \"message\": \"request to aa failed, reason: connect EAD...",
    "content": "# EADDRNOTAVAIL\n\n## ë¬¸ì œ ìƒí™©\n\n1. node.js ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¦¬ëˆ…ìŠ¤ í™˜ê²½ì—ì„œ ì‚¬ìš©ì¤‘ì´ë‹¤.\n2. ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤\n\n```json\n{\n  \"message\": \"request to aa failed, reason: connect EADDRNOTAVAIL aa:30000 - Local (aa:0)\",\n  \"type\": \"system\",\n  \"errno\": \"EADDRNOTAVAIL\",\n  \"code\": \"EADDRNOTAVAIL\",\n  \"isFetchError\": true,\n  \"url\": \"aa\"\n}\n```\n\n## í•´ê²° ë°©ë²• ì¡°ì‚¬\n\n`etc/sysctl.conf`ì˜ `net.ipv4.tcp_tw_recycle`ë¥¼ í™œì„±í™” í•˜ëŠ” ê²ƒì€ ì¢‹ì€ ìƒê°ì´ ì•„ë‹ˆë‹¤.\n\nìœ„ ì˜µì…˜ ë³€ê²½ìœ¼ë¡œ íŠœë‹ í•˜ë¼ëŠ” ê°€ì´ë“œ ë¬¸ì„œê°€ ë§ì´ ë³´ì´ì§€ë§Œ, tcp(7) ë§¤ë‰´ì–¼ í˜ì´ì§€ì— ì˜í•˜ë©´ NATë¥¼ ê°€ì§€ê³  ë™ì‘í•  ë•Œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ì„œ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë‹¤.\n\nTIME_WAIT ìƒíƒœì˜ ì ‘ì†ì€ ì ‘ì† í…Œì´ë¸”ì—ì„œ 1ë¶„ë™ì•ˆ ìœ ì§€ëœë‹¤. ì¦‰ ê°™ì€ ë„¤ ìŒë‘¥ì´(ì†ŒìŠ¤ì£¼ì†Œ, ì†ŒìŠ¤í¬íŠ¸, ëª©ì ì§€ì£¼ì†Œ, ëª©ì ì§€í¬íŠ¸)ì— ë‹¤ë¥¸ ì—°ê²°ì€ ì¡´ì¬í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ëœ»í•œë‹¤.\nì›¹ ì„œë²„ë¡œ ì˜ˆë¥¼ ë“¤ë©´ ëª©ì ì§€ ì£¼ì†Œì™€ ëª©ì ì§€ í¬íŠ¸ëŠ” ìƒìˆ˜ì¼ ê²ƒì´ë‹¤. ì›¹ ì„œë²„ê°€ L7 ë¡œë“œë°¸ëŸ°ì„œ ë’¤ì— ìˆë‹¤ë©´ ì†ŒìŠ¤ ì£¼ì†Œ ë„í•œ ìƒìˆ˜ì¼ ìˆ˜ ìˆë‹¤. ë¦¬ëˆ…ìŠ¤ì—ì„œ í´ë¼ì´ì–¸íŠ¸ í¬íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 30,000ê°œì˜ í¬íŠ¸ ë²”ìœ„ì—ì„œ í• ë‹¹\nëœë‹¤(`net.ipv4.ip_local_port_range`ë¥¼ íŠœë‹í•˜ì—¬ ë³€ê²½ê°€ëŠ¥). ì¦‰, ì›¹ì„œë²„ì™€ ë¡œë“œë°¸ëŸ°ì„œ ì‚¬ì´ì— ì—°ê²°ì´ ë§¤ ë¶„ë‹¹ ì´ 30,000ê°œì´ë©° ë§¤ì´ˆ í‰ê·  500ê°œì˜ ì—°ê²°ì´ ë§ºì–´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„\nì˜ë¯¸í•˜ê² ë‹¤.\nì´ê²ƒì„ ì´ˆê³¼í•˜ë©´ EADDRNOTAVAILì„ ë¦¬í„´í•œë‹¤. í•´ê²°ë°©ë²•ì€ ë„¤ ìŒë‘¥ì´ë¥¼ ë” ë§ì´ ê°€ì§ˆ ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒ ë°–ì— ì—†ë‹¤.\në‚œì´ë„ê°€ ì–´ë ¤ìš´ ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\n\n- `net.ipv4.ip_local_port_range`ë¥¼ ì¢€ ë” ë„“ê²Œ ì„¸íŒ…í•´ì„œ ë” ë§ì€ í´ë¼ì´ì–¸íŠ¸ í¬íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤\n- ë¦¬ìŠ¤ë‹í•˜ëŠ” ì›¹ì„œë²„ì— ì¶”ê°€ì ì¸ í¬íŠ¸(81,82,83,...)ë¥¼ í• ë‹¹í•¨ìœ¼ë¡œì¨ ì¢€ ë” ë§ì€ ì„œë²„ í¬íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤\n- ë¡œë“œ ë°¸ëŸ°ì„œì— ì•„ì´í”¼ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ë¼ìš´ë“œ ë¡œë¹ˆ ê¸°ëŠ¥ì„ ì ìš©í•´ì„œ ì¢€ ë” ë§ì€ í´ë¼ì´ì–¸íŠ¸ ì•„ì´í”¼ë¥¼ ì‚¬ìš©í•œë‹¤.\n- ì›¹ ì„œë²„ì— ì•„ì´í”¼ë¥¼ ì¶”ê°€í•˜ì—¬ ì¢€ ë” ë§ì€ ì•„ì´í”¼ë¥¼ ì‚¬ìš©í•œë‹¤.\n\nNodeJSì—ì„œì˜ ìš°íšŒì ì¸ ë°©ë²•ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì´ ìˆë‹¤.\n\n```js\nvar http = require( \"http\"),\n    agent = new http.Agent( {maxSockets: 1} );\n\n\nfunction httpRequest( callback ) {\n    var options = {\n            host: 'localhost',\n            port: 80,\n            path: '',\n\n            agent: agent\n        },\n...\n```\n\n```js\nvar http = require(\"http\");\n\nfunction httpRequest(callback) {\n    var options = {\n        ...,\n        agent: false\n    };\n...\n```\n\në˜í•œ ì•„ë˜ë¥¼ `/etc/sysctl.conf`ì— ì¶”ê°€í•´ì£¼ì—ˆë‹¤.\n\n`net.ipv4.ip_local_port_range = 1024 65535`\n\n## ì°¸ê³  ë¬¸ì„œ\n\n- [ë¦¬ëˆ…ìŠ¤ man-pages](https://man7.org/linux/man-pages/index.html)\n- [[ë²ˆì—­] ë°”ìœ ë¦¬ëˆ…ìŠ¤ ì„œë²„ì—ì„œ TCP TIME-WAIT ìƒíƒœ ëŒ€ì²˜í•˜ê¸°](https://linux.systemv.pe.kr/%EB%B2%88%EC%97%AD-%EB%B0%94%EC%81%9C-%EB%A6%AC%EB%88%85%EC%8A%A4-%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C-tcp-time-wait-%EC%83%81%ED%83%9C-%EB%8C%80%EC%B2%98%ED%95%98%EA%B8%B0/)\n- [2014ë…„ë„ êµ¬ê¸€ ê·¸ë£¹ì—ì„œì˜ í•œ ë¬¸ë‹µ..](https://groups.google.com/g/nodejs/c/68SYd6_ksns?pli=1)\n- [[Linux] ì»¤ë„ íŒŒë¼ë¯¸í„° ìˆ˜ì • - TCP ì„±ëŠ¥í–¥ìƒ](https://bangu4.tistory.com/135)",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 2,
    "wordCount": 317,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  },
  {
    "id": "trunk-based-development",
    "slug": "trunk-based-development",
    "path": "backend/devops",
    "fullPath": "backend/devops/trunk-based-development",
    "title": "Trunk-Based Development",
    "excerpt": "Trunk-Based Development íŠ¸ë í¬ ê¸°ë°˜ ê°œë°œì€ ê°œë°œìë“¤ì´ ë¼ê³  ë¶€ë¥´ëŠ” ë‹¨ì¼ ë¸Œëœì¹˜ì—ì„œ ê³µë™ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì†ŒìŠ¤ ì œì–´ ë¸Œëœì¹­ ëª¨ë¸ì´ë©°, ìˆ˜ëª…ì´ ê¸´ ë‹¤ë¥¸ ê°œë°œ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ì§€ ì•Šê¸° ìœ„í•œ ë°©ë²•ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ë³‘í•©ì§€ì˜¥...",
    "content": "# Trunk-Based Development\n\níŠ¸ë í¬ ê¸°ë°˜ ê°œë°œì€ ê°œë°œìë“¤ì´ `trunk`ë¼ê³  ë¶€ë¥´ëŠ” ë‹¨ì¼ ë¸Œëœì¹˜ì—ì„œ ê³µë™ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì†ŒìŠ¤ ì œì–´ ë¸Œëœì¹­ ëª¨ë¸ì´ë©°, ìˆ˜ëª…ì´ ê¸´ ë‹¤ë¥¸ ê°œë°œ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ì§€ ì•Šê¸° ìœ„í•œ ë°©ë²•ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ë³‘í•©ì§€ì˜¥ì„ í”¼í•˜ê³  ë¹Œë“œë¥¼ ê¹¨ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## íŠ¸ë í¬ ê¸°ë°˜ ê°œë°œì˜ Good or Bad Practice\n\n### Shared branches off mainline/main/trunk are bad at any release cadence\n\n![trunk-1a](https://trunkbaseddevelopment.com/trunk1a.png)\n\n### Trunk-Based Development For Smaller Teams\n\n![trunk-1b](https://trunkbaseddevelopment.com/trunk1b.png)\n\n### Scaled Trunk-Based Development\n\n![trunk-1c](https://trunkbaseddevelopment.com/trunk1c.png)\n\n## ì •ë¦¬\n\nê°œë°œìë“¤ì€ í”¼ì³ë¸Œëœì¹˜ì—ì„œ ì‘ì—…í•œ ë’¤ Trunk (or main) ë¸Œëœì¹˜ë¡œ ë³‘í•©í•˜ê³ , ë¦´ë¦¬ì¦ˆê°€ ì§„í–‰ë ë–„ ë¦´ë¦¬ì¦ˆ ë²„ì „ì„ ëª…ì‹œí•œ ë¸Œëœì¹˜ë¥¼ ë¶„ê¸°í•œë‹¤. ì´ë•Œ ë¶„ê¸°ëœ ë¸Œëœì¹˜ì—ëŠ” ì¶”ê°€ì ì¸ ì»¤ë°‹ì„ í•˜ì§€ ì•Šìœ¼ë©°, ë³€ê²½ì‚¬í•­ì€ ë‹¤ìŒ ë¦´ë¦¬ì¦ˆì— ë°˜ì˜í•œë‹¤. ì´ëŸ° ì‘ì—… ë°©ì‹ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ë²„ì „ì—ì„œ ë°˜ì˜ë˜ì–´ì•¼í•  ì‚¬í•­ì´ main ë¸Œëœì¹˜ì— ê³µì¡´í•˜ëŠ” ìƒí™©ì´ ìˆì„ ìˆ˜ ìˆëŠ”ë°, ì´ë¥¼ í†µì œí•˜ê¸° ìœ„í•´ ê¸°ëŠ¥ ë³„ í”Œë˜ê·¸ì²˜ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì´ ë‚´ìš©ì„ ê³µì‹ ì‚¬ì´íŠ¸ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì†Œê°œí•˜ê³  ìˆë‹¤. [ë§í¬](https://trunkbaseddevelopment.com/feature-flags/)\n\n## NodeJSì—ì„œ í”Œë˜ê·¸ ì²˜ë¦¬ë¥¼ ì–´ë–»ê²Œ í•˜ëŠ”ê²Œ ì¢‹ì„ê¹Œ?\n\npackage.jsonì˜ ë²„ì „ì„ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ê²Œ ì–´ë–¨ê¹Œ ì‹¶ë‹¤. semverë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´, release ë²„ì „ì„ ë¶€ë²„ì „ê¹Œì§€ëŠ” ê³ ì •ì‹œì¼œ ë†“ê³  ìˆ˜ë²„ì „ì„ ì˜¬ë¦¬ë©´ì„œ íŒ¨ì¹˜ë¥¼ í•˜ê²Œ ë í…ë°, í•œ ë¦´ë¦¬ì¦ˆì—ì„œì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ë³´ì¥í•œë‹¤ë©´ í”Œë˜ê·¸ ì²˜ë¦¬ë¥¼ ë¶€ë²„ì „ê¹Œì§€ë¥¼ ê²€ì‚¬í•˜ëŠ” ê²ƒìœ¼ë¡œ í•  ìˆ˜ ìˆë‹¤.\n\nì•„ë˜ëŠ” v2.5.x ë¦´ë¦¬ì¦ˆë¥¼ í•˜ëŠ” ê²½ìš°ì˜ ì˜ˆì‹œì´ë‹¤\n\n```ts\nconst version = process.env.npm_package_version || '100'\n\nif (version.startsWith('2.5')) {\n   someCode();\n}\n\nif (Number(version) > 2.5) {\n   runAnotherCode();\n}\n...\n\n```\n\n## NodeJSì—ì„œ ë²„ì „ì„ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•\n\n1. package.jsonì˜ versionì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒ\n   ë‹¤ë§Œ ì°¸ì¡°í•œ ìŠ¤íƒì˜¤ë²„í”Œë¡œìš° ë‹µë³€ì—ë„ ì í˜€ìˆë“¯ì´, ë¸Œë¼ìš°ì €ì—ì„œ ì‚¬ìš©í•  ì‹œì—” package.jsonì˜ ë‚´ìš©ì„ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ NodeJSë¥¼ í™œìš©í•œ ì„œë²„ì—ì„œë§Œ í™œìš©í•˜ëŠ”ê²Œ ì¢‹ì„ ë“¯ í•˜ë‹¤.\n\n   ```ts\n   // You need to set resolveJsonModule true in tsconfig.json\n   import { version } from './package.json'\n   console.log(`version = ${version}`)\n   console.log(`Is flag enabled? ${version.startsWith('2.5')}`)\n   // version = 1.0.0\n   // Is flag enabled? false\n   ```\n\n2. process í™˜ê²½ë³€ìˆ˜ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒ\n   ë§Œì•½ NodeJS ì• í”Œë¦¬ì¼€ì´ì…˜ì´ npm ë“±ì˜ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¡œ ì‹œì‘ë˜ì—ˆë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.\n\n   ```ts\n   // run npm start\n   const version = process.env.npm_package_version\n   console.log(`version = ${version}`)\n   console.log(\n   \t`Is flag enabled? ${version?.startsWith('2.5') ?? 'version is undefined'}`,\n   )\n   // version = 1.0.0\n   // Is flag enabled? false\n   ```\n\në¬¼ë¡  ë²„ì „ì„ í†µí•œ í”Œë˜ê·¸ ì²˜ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” ì² ì €í•œ package.json ê´€ë¦¬ê°€ í•„ìš”í•˜ë‹¤.\n\n## Ref\n\n- [íŠ¸ë í¬ê¸°ë°˜ê°œë°œ](https://trunkbaseddevelopment.com/)\n- [semver](https://semver.org/lang/ko/)\n- [is-there-a-way-to-get-version-from-package-json-in-nodejs-code](https://stackoverflow.com/questions/9153571/is-there-a-way-to-get-version-from-package-json-in-nodejs-code)",
    "docType": "original",
    "category": "Backend_DevOps",
    "tags": [],
    "readingTime": 2,
    "wordCount": 332,
    "isFeatured": false,
    "isPublic": true,
    "date": "2025-12-27"
  }
]